function Bd(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const f=Object.getOwnPropertyDescriptor(a,l);f&&Object.defineProperty(e,l,f.get?f:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function r(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=r(l);fetch(l.href,f)}})();var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},ol={},jd={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),I2=Symbol.for("react.portal"),_2=Symbol.for("react.fragment"),T2=Symbol.for("react.strict_mode"),b2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),M2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),D2=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),P1=Symbol.iterator;function L2(e){return e===null||typeof e!="object"?null:(e=P1&&e[P1]||e["@@iterator"],typeof e=="function"?e:null)}var Ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Hd={};function wo(e,t,r){this.props=e,this.context=t,this.refs=Hd,this.updater=r||Ud}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vd(){}Vd.prototype=wo.prototype;function jc(e,t,r){this.props=e,this.context=t,this.refs=Hd,this.updater=r||Ud}var Uc=jc.prototype=new Vd;Uc.constructor=jc;zd(Uc,wo.prototype);Uc.isPureReactComponent=!0;var B1=Array.isArray,Gd=Object.prototype.hasOwnProperty,zc={current:null},Wd={key:!0,ref:!0,__self:!0,__source:!0};function Xd(e,t,r){var a,l={},f=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)Gd.call(t,a)&&!Wd.hasOwnProperty(a)&&(l[a]=t[a]);var m=arguments.length-2;if(m===1)l.children=r;else if(1<m){for(var w=Array(m),x=0;x<m;x++)w[x]=arguments[x+2];l.children=w}if(e&&e.defaultProps)for(a in m=e.defaultProps,m)l[a]===void 0&&(l[a]=m[a]);return{$$typeof:Ta,type:e,key:f,ref:g,props:l,_owner:zc.current}}function P2(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function B2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var F1=/\/+/g;function eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B2(""+e.key):t.toString(36)}function ys(e,t,r,a,l){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Ta:case I2:g=!0}}if(g)return g=e,l=l(g),e=a===""?"."+eu(g,0):a,B1(l)?(r="",e!=null&&(r=e.replace(F1,"$&/")+"/"),ys(l,t,r,"",function(x){return x})):l!=null&&(Hc(l)&&(l=P2(l,r+(!l.key||g&&g.key===l.key?"":(""+l.key).replace(F1,"$&/")+"/")+e)),t.push(l)),1;if(g=0,a=a===""?".":a+":",B1(e))for(var m=0;m<e.length;m++){f=e[m];var w=a+eu(f,m);g+=ys(f,t,r,w,l)}else if(w=L2(e),typeof w=="function")for(e=w.call(e),m=0;!(f=e.next()).done;)f=f.value,w=a+eu(f,m++),g+=ys(f,t,r,w,l);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function $a(e,t,r){if(e==null)return e;var a=[],l=0;return ys(e,a,"","",function(f){return t.call(r,f,l++)}),a}function F2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ws={transition:null},j2={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ws,ReactCurrentOwner:zc};function Yd(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:$a,forEach:function(e,t,r){$a(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!Hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=wo;Oe.Fragment=_2;Oe.Profiler=b2;Oe.PureComponent=jc;Oe.StrictMode=T2;Oe.Suspense=R2;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;Oe.act=Yd;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=zd({},e.props),l=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=zc.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(w in t)Gd.call(t,w)&&!Wd.hasOwnProperty(w)&&(a[w]=t[w]===void 0&&m!==void 0?m[w]:t[w])}var w=arguments.length-2;if(w===1)a.children=r;else if(1<w){m=Array(w);for(var x=0;x<w;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:Ta,type:e.type,key:l,ref:f,props:a,_owner:g}};Oe.createContext=function(e){return e={$$typeof:O2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:N2,_context:e},e.Consumer=e};Oe.createElement=Xd;Oe.createFactory=function(e){var t=Xd.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:M2,render:e}};Oe.isValidElement=Hc;Oe.lazy=function(e){return{$$typeof:k2,_payload:{_status:-1,_result:e},_init:F2}};Oe.memo=function(e,t){return{$$typeof:D2,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};Oe.unstable_act=Yd;Oe.useCallback=function(e,t){return $t.current.useCallback(e,t)};Oe.useContext=function(e){return $t.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return $t.current.useEffect(e,t)};Oe.useId=function(){return $t.current.useId()};Oe.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return $t.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};Oe.useRef=function(e){return $t.current.useRef(e)};Oe.useState=function(e){return $t.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return $t.current.useTransition()};Oe.version="18.3.1";jd.exports=Oe;var Y=jd.exports;const al=Fc(Y),U2=Bd({__proto__:null,default:al},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2=Y,H2=Symbol.for("react.element"),V2=Symbol.for("react.fragment"),G2=Object.prototype.hasOwnProperty,W2=z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X2={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,r){var a,l={},f=null,g=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)G2.call(t,a)&&!X2.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:H2,type:e,key:f,ref:g,props:l,_owner:W2.current}}ol.Fragment=V2;ol.jsx=Zd;ol.jsxs=Zd;Fd.exports=ol;var A=Fd.exports,ku={},Qd={exports:{}},Sn={},$d={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,pe){var he=re.length;re.push(pe);e:for(;0<he;){var Re=he-1>>>1,Ae=re[Re];if(0<l(Ae,pe))re[Re]=pe,re[he]=Ae,he=Re;else break e}}function r(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var pe=re[0],he=re.pop();if(he!==pe){re[0]=he;e:for(var Re=0,Ae=re.length,jt=Ae>>>1;Re<jt;){var xe=2*(Re+1)-1,Ge=re[xe],se=xe+1,wt=re[se];if(0>l(Ge,he))se<Ae&&0>l(wt,Ge)?(re[Re]=wt,re[se]=he,Re=se):(re[Re]=Ge,re[xe]=he,Re=xe);else if(se<Ae&&0>l(wt,he))re[Re]=wt,re[se]=he,Re=se;else break e}}return pe}function l(re,pe){var he=re.sortIndex-pe.sortIndex;return he!==0?he:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var w=[],x=[],I=1,S=null,O=3,L=!1,j=!1,F=!1,Q=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(re){for(var pe=r(x);pe!==null;){if(pe.callback===null)a(x);else if(pe.startTime<=re)a(x),pe.sortIndex=pe.expirationTime,t(w,pe);else break;pe=r(x)}}function k(re){if(F=!1,b(re),!j)if(r(w)!==null)j=!0,Te(X);else{var pe=r(x);pe!==null&&we(k,pe.startTime-re)}}function X(re,pe){j=!1,F&&(F=!1,M(W),W=-1),L=!0;var he=O;try{for(b(pe),S=r(w);S!==null&&(!(S.expirationTime>pe)||re&&!ye());){var Re=S.callback;if(typeof Re=="function"){S.callback=null,O=S.priorityLevel;var Ae=Re(S.expirationTime<=pe);pe=e.unstable_now(),typeof Ae=="function"?S.callback=Ae:S===r(w)&&a(w),b(pe)}else a(w);S=r(w)}if(S!==null)var jt=!0;else{var xe=r(x);xe!==null&&we(k,xe.startTime-pe),jt=!1}return jt}finally{S=null,O=he,L=!1}}var $=!1,U=null,W=-1,H=5,ae=-1;function ye(){return!(e.unstable_now()-ae<H)}function Z(){if(U!==null){var re=e.unstable_now();ae=re;var pe=!0;try{pe=U(!0,re)}finally{pe?ie():($=!1,U=null)}}else $=!1}var ie;if(typeof _=="function")ie=function(){_(Z)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,B=fe.port2;fe.port1.onmessage=Z,ie=function(){B.postMessage(null)}}else ie=function(){Q(Z,0)};function Te(re){U=re,$||($=!0,ie())}function we(re,pe){W=Q(function(){re(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){j||L||(j=!0,Te(X))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return r(w)},e.unstable_next=function(re){switch(O){case 1:case 2:case 3:var pe=3;break;default:pe=O}var he=O;O=pe;try{return re()}finally{O=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=O;O=re;try{return pe()}finally{O=he}},e.unstable_scheduleCallback=function(re,pe,he){var Re=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Re+he:Re):he=Re,re){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=he+Ae,re={id:I++,callback:pe,priorityLevel:re,startTime:he,expirationTime:Ae,sortIndex:-1},he>Re?(re.sortIndex=he,t(x,re),r(w)===null&&re===r(x)&&(F?(M(W),W=-1):F=!0,we(k,he-Re))):(re.sortIndex=Ae,t(w,re),j||L||(j=!0,Te(X))),re},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(re){var pe=O;return function(){var he=O;O=pe;try{return re.apply(this,arguments)}finally{O=he}}}})(Kd);$d.exports=Kd;var Y2=$d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2=Y,An=Y2;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,la={};function Ai(e,t){uo(e,t),uo(e+"Capture",t)}function uo(e,t){for(la[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=Object.prototype.hasOwnProperty,Q2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},U1={};function $2(e){return Lu.call(U1,e)?!0:Lu.call(j1,e)?!1:Q2.test(e)?U1[e]=!0:(j1[e]=!0,!1)}function K2(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q2(e,t,r,a){if(t===null||typeof t>"u"||K2(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,r,a,l,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vc,Gc);Ft[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vc,Gc);Ft[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vc,Gc);Ft[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wc(e,t,r,a){var l=Ft.hasOwnProperty(t)?Ft[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q2(t,r,l,a)&&(r=null),a||l===null?$2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,a=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Er=Z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),Jd=Symbol.for("react.provider"),eh=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),Zc=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),th=Symbol.for("react.offscreen"),z1=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=z1&&e[z1]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,tu;function Yo(e){if(tu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var nu=!1;function ru(e,t){if(!e||nu)return"";nu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var a=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){a=x}e.call(t.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),f=a.stack.split(`
`),g=l.length-1,m=f.length-1;1<=g&&0<=m&&l[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(l[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||l[g]!==f[m]){var w=`
`+l[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=m);break}}}finally{nu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yo(e):""}function J2(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case Gi:return"Portal";case Pu:return"Profiler";case Xc:return"StrictMode";case Bu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eh:return(e.displayName||"Context")+".Consumer";case Jd:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zc:return t=e.displayName||null,t!==null?t:ju(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return ju(e(t))}catch{}}return null}function ex(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ju(t);case 8:return t===Xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tx(e){var t=nh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qa(e){e._valueTracker||(e._valueTracker=tx(e))}function rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=nh(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,t){var r=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function H1(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ih(e,t){t=t.checked,t!=null&&Wc(e,"checked",t,!1)}function zu(e,t){ih(e,t);var r=Zr(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,Zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hu(e,t,r){(t!=="number"||Os(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zo=Array.isArray;function ro(e,t,r,a){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Zr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(Zo(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zr(r)}}function oh(e,t){var r=Zr(t.value),a=Zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function W1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ja,sh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ua(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nx=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(e){nx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qo[t]=qo[e]})});function lh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qo.hasOwnProperty(e)&&qo[e]?(""+t).trim():t+"px"}function uh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,l=lh(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,l):e[r]=l}}var rx=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(e,t){if(t){if(rx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=null;function Qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zu=null,io=null,oo=null;function X1(e){if(e=Oa(e)){if(typeof Zu!="function")throw Error(J(280));var t=e.stateNode;t&&(t=fl(t),Zu(e.stateNode,e.type,t))}}function ch(e){io?oo?oo.push(e):oo=[e]:io=e}function fh(){if(io){var e=io,t=oo;if(oo=io=null,X1(e),t)for(e=0;e<t.length;e++)X1(t[e])}}function dh(e,t){return e(t)}function hh(){}var iu=!1;function gh(e,t,r){if(iu)return e(t,r);iu=!0;try{return dh(e,t,r)}finally{iu=!1,(io!==null||oo!==null)&&(hh(),fh())}}function ca(e,t){var r=e.stateNode;if(r===null)return null;var a=fl(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var Qu=!1;if(mr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Qu=!1}function ix(e,t,r,a,l,f,g,m,w){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(I){this.onError(I)}}var Jo=!1,Ms=null,Rs=!1,$u=null,ox={onError:function(e){Jo=!0,Ms=e}};function ax(e,t,r,a,l,f,g,m,w){Jo=!1,Ms=null,ix.apply(ox,arguments)}function sx(e,t,r,a,l,f,g,m,w){if(ax.apply(this,arguments),Jo){if(Jo){var x=Ms;Jo=!1,Ms=null}else throw Error(J(198));Rs||(Rs=!0,$u=x)}}function Si(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ph(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Y1(e){if(Si(e)!==e)throw Error(J(188))}function lx(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,a=t;;){var l=r.return;if(l===null)break;var f=l.alternate;if(f===null){if(a=l.return,a!==null){r=a;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===r)return Y1(l),e;if(f===a)return Y1(l),t;f=f.sibling}throw Error(J(188))}if(r.return!==a.return)r=l,a=f;else{for(var g=!1,m=l.child;m;){if(m===r){g=!0,r=l,a=f;break}if(m===a){g=!0,a=l,r=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===r){g=!0,r=f,a=l;break}if(m===a){g=!0,a=f,r=l;break}m=m.sibling}if(!g)throw Error(J(189))}}if(r.alternate!==a)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function xh(e){return e=lx(e),e!==null?mh(e):null}function mh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mh(e);if(t!==null)return t;e=e.sibling}return null}var yh=An.unstable_scheduleCallback,Z1=An.unstable_cancelCallback,ux=An.unstable_shouldYield,cx=An.unstable_requestPaint,yt=An.unstable_now,fx=An.unstable_getCurrentPriorityLevel,$c=An.unstable_ImmediatePriority,wh=An.unstable_UserBlockingPriority,Ds=An.unstable_NormalPriority,dx=An.unstable_LowPriority,vh=An.unstable_IdlePriority,sl=null,sr=null;function hx(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:xx,gx=Math.log,px=Math.LN2;function xx(e){return e>>>=0,e===0?32:31-(gx(e)/px|0)|0}var es=64,ts=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ks(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,l=e.suspendedLanes,f=e.pingedLanes,g=r&268435455;if(g!==0){var m=g&~l;m!==0?a=Qo(m):(f&=g,f!==0&&(a=Qo(f)))}else g=r&~l,g!==0?a=Qo(g):f!==0&&(a=Qo(f));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,f=t&-t,l>=f||l===16&&(f&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Xn(t),l=1<<r,a|=e[r],t&=~l;return a}function mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Xn(f),m=1<<g,w=l[g];w===-1?(!(m&r)||m&a)&&(l[g]=mx(m,t)):w<=t&&(e.expiredLanes|=m),f&=~m}}function Ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eh(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function ou(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ba(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xn(t),e[t]=r}function wx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Xn(r),f=1<<l;t[l]=0,a[l]=-1,e[l]=-1,r&=~f}}function Kc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Xn(r),l=1<<a;l&t|e[a]&t&&(e[a]|=t),r&=~l}}var He=0;function Ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ah,qc,Sh,Ih,_h,qu=!1,ns=[],Fr=null,jr=null,Ur=null,fa=new Map,da=new Map,Dr=[],vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q1(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(t.pointerId)}}function Fo(e,t,r,a,l,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:f,targetContainers:[l]},t!==null&&(t=Oa(t),t!==null&&qc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ex(e,t,r,a,l){switch(t){case"focusin":return Fr=Fo(Fr,e,t,r,a,l),!0;case"dragenter":return jr=Fo(jr,e,t,r,a,l),!0;case"mouseover":return Ur=Fo(Ur,e,t,r,a,l),!0;case"pointerover":var f=l.pointerId;return fa.set(f,Fo(fa.get(f)||null,e,t,r,a,l)),!0;case"gotpointercapture":return f=l.pointerId,da.set(f,Fo(da.get(f)||null,e,t,r,a,l)),!0}return!1}function Th(e){var t=di(e.target);if(t!==null){var r=Si(t);if(r!==null){if(t=r.tag,t===13){if(t=ph(r),t!==null){e.blockedOn=t,_h(e.priority,function(){Sh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ju(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Yu=a,r.target.dispatchEvent(a),Yu=null}else return t=Oa(r),t!==null&&qc(t),e.blockedOn=r,!1;t.shift()}return!0}function $1(e,t,r){vs(e)&&r.delete(t)}function Cx(){qu=!1,Fr!==null&&vs(Fr)&&(Fr=null),jr!==null&&vs(jr)&&(jr=null),Ur!==null&&vs(Ur)&&(Ur=null),fa.forEach($1),da.forEach($1)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,Cx)))}function ha(e){function t(l){return jo(l,e)}if(0<ns.length){jo(ns[0],e);for(var r=1;r<ns.length;r++){var a=ns[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Fr!==null&&jo(Fr,e),jr!==null&&jo(jr,e),Ur!==null&&jo(Ur,e),fa.forEach(t),da.forEach(t),r=0;r<Dr.length;r++)a=Dr[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)Th(r),r.blockedOn===null&&Dr.shift()}var ao=Er.ReactCurrentBatchConfig,Ls=!0;function Ax(e,t,r,a){var l=He,f=ao.transition;ao.transition=null;try{He=1,Jc(e,t,r,a)}finally{He=l,ao.transition=f}}function Sx(e,t,r,a){var l=He,f=ao.transition;ao.transition=null;try{He=4,Jc(e,t,r,a)}finally{He=l,ao.transition=f}}function Jc(e,t,r,a){if(Ls){var l=Ju(e,t,r,a);if(l===null)pu(e,t,a,Ps,r),Q1(e,a);else if(Ex(l,e,t,r,a))a.stopPropagation();else if(Q1(e,a),t&4&&-1<vx.indexOf(e)){for(;l!==null;){var f=Oa(l);if(f!==null&&Ah(f),f=Ju(e,t,r,a),f===null&&pu(e,t,a,Ps,r),f===l)break;l=f}l!==null&&a.stopPropagation()}else pu(e,t,a,null,r)}}var Ps=null;function Ju(e,t,r,a){if(Ps=null,e=Qc(a),e=di(e),e!==null)if(t=Si(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ph(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case $c:return 1;case wh:return 4;case Ds:case dx:return 16;case vh:return 536870912;default:return 16}default:return 16}}var Lr=null,e0=null,Es=null;function Nh(){if(Es)return Es;var e,t=e0,r=t.length,a,l="value"in Lr?Lr.value:Lr.textContent,f=l.length;for(e=0;e<r&&t[e]===l[e];e++);var g=r-e;for(a=1;a<=g&&t[r-a]===l[f-a];a++);return Es=l.slice(e,1<a?1-a:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function K1(){return!1}function In(e){function t(r,a,l,f,g){this._reactName=r,this._targetInst=l,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:K1,this.isPropagationStopped=K1,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t0=In(vo),Na=ft({},vo,{view:0,detail:0}),Ix=In(Na),au,su,Uo,ll=ft({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(au=e.screenX-Uo.screenX,su=e.screenY-Uo.screenY):su=au=0,Uo=e),au)},movementY:function(e){return"movementY"in e?e.movementY:su}}),q1=In(ll),_x=ft({},ll,{dataTransfer:0}),Tx=In(_x),bx=ft({},Na,{relatedTarget:0}),lu=In(bx),Nx=ft({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=In(Nx),Mx=ft({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rx=In(Mx),Dx=ft({},vo,{data:0}),J1=In(Dx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Px[e])?!!t[e]:!1}function n0(){return Bx}var Fx=ft({},Na,{key:function(e){if(e.key){var t=kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n0,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jx=In(Fx),Ux=ft({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=In(Ux),zx=ft({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n0}),Hx=In(zx),Vx=ft({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=In(Vx),Wx=ft({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xx=In(Wx),Yx=[9,13,27,32],r0=mr&&"CompositionEvent"in window,ea=null;mr&&"documentMode"in document&&(ea=document.documentMode);var Zx=mr&&"TextEvent"in window&&!ea,Oh=mr&&(!r0||ea&&8<ea&&11>=ea),tf=" ",nf=!1;function Mh(e,t){switch(e){case"keyup":return Yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function Qx(e,t){switch(e){case"compositionend":return Rh(t);case"keypress":return t.which!==32?null:(nf=!0,tf);case"textInput":return e=t.data,e===tf&&nf?null:e;default:return null}}function $x(e,t){if(Xi)return e==="compositionend"||!r0&&Mh(e,t)?(e=Nh(),Es=e0=Lr=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oh&&t.locale!=="ko"?null:t.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kx[e.type]:t==="textarea"}function Dh(e,t,r,a){ch(a),t=Bs(t,"onChange"),0<t.length&&(r=new t0("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var ta=null,ga=null;function qx(e){Gh(e,0)}function ul(e){var t=Qi(e);if(rh(t))return e}function Jx(e,t){if(e==="change")return t}var kh=!1;if(mr){var uu;if(mr){var cu="oninput"in document;if(!cu){var of=document.createElement("div");of.setAttribute("oninput","return;"),cu=typeof of.oninput=="function"}uu=cu}else uu=!1;kh=uu&&(!document.documentMode||9<document.documentMode)}function af(){ta&&(ta.detachEvent("onpropertychange",Lh),ga=ta=null)}function Lh(e){if(e.propertyName==="value"&&ul(ga)){var t=[];Dh(t,ga,e,Qc(e)),gh(qx,t)}}function em(e,t,r){e==="focusin"?(af(),ta=t,ga=r,ta.attachEvent("onpropertychange",Lh)):e==="focusout"&&af()}function tm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(ga)}function nm(e,t){if(e==="click")return ul(t)}function rm(e,t){if(e==="input"||e==="change")return ul(t)}function im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:im;function pa(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var l=r[a];if(!Lu.call(t,l)||!Zn(e[l],t[l]))return!1}return!0}function sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,t){var r=sf(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sf(r)}}function Ph(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ph(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bh(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Os(e.document)}return t}function i0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function om(e){var t=Bh(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ph(r.ownerDocument.documentElement,r)){if(a!==null&&i0(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,f=Math.min(a.start,l);a=a.end===void 0?f:Math.min(a.end,l),!e.extend&&f>a&&(l=a,a=f,f=l),l=lf(r,f);var g=lf(r,a);l&&g&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var am=mr&&"documentMode"in document&&11>=document.documentMode,Yi=null,ec=null,na=null,tc=!1;function uf(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tc||Yi==null||Yi!==Os(a)||(a=Yi,"selectionStart"in a&&i0(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),na&&pa(na,a)||(na=a,a=Bs(ec,"onSelect"),0<a.length&&(t=new t0("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Yi)))}function is(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zi={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},fu={},Fh={};mr&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function cl(e){if(fu[e])return fu[e];if(!Zi[e])return e;var t=Zi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fh)return fu[e]=t[r];return e}var jh=cl("animationend"),Uh=cl("animationiteration"),zh=cl("animationstart"),Hh=cl("transitionend"),Vh=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){Vh.set(e,t),Ai(t,[e])}for(var du=0;du<cf.length;du++){var hu=cf[du],sm=hu.toLowerCase(),lm=hu[0].toUpperCase()+hu.slice(1);Kr(sm,"on"+lm)}Kr(jh,"onAnimationEnd");Kr(Uh,"onAnimationIteration");Kr(zh,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(Hh,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function ff(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,sx(a,t,void 0,e),e.currentTarget=null}function Gh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],l=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var m=a[g],w=m.instance,x=m.currentTarget;if(m=m.listener,w!==f&&l.isPropagationStopped())break e;ff(l,m,x),f=w}else for(g=0;g<a.length;g++){if(m=a[g],w=m.instance,x=m.currentTarget,m=m.listener,w!==f&&l.isPropagationStopped())break e;ff(l,m,x),f=w}}}if(Rs)throw e=$u,Rs=!1,$u=null,e}function Je(e,t){var r=t[ac];r===void 0&&(r=t[ac]=new Set);var a=e+"__bubble";r.has(a)||(Wh(t,e,2,!1),r.add(a))}function gu(e,t,r){var a=0;t&&(a|=4),Wh(r,e,a,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function xa(e){if(!e[os]){e[os]=!0,qd.forEach(function(r){r!=="selectionchange"&&(um.has(r)||gu(r,!1,e),gu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,gu("selectionchange",!1,t))}}function Wh(e,t,r,a){switch(bh(t)){case 1:var l=Ax;break;case 4:l=Sx;break;default:l=Jc}r=l.bind(null,t,r,e),l=void 0,!Qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function pu(e,t,r,a,l){var f=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var m=a.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(g===4)for(g=a.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;g=g.return}for(;m!==null;){if(g=di(m),g===null)return;if(w=g.tag,w===5||w===6){a=f=g;continue e}m=m.parentNode}}a=a.return}gh(function(){var x=f,I=Qc(r),S=[];e:{var O=Vh.get(e);if(O!==void 0){var L=t0,j=e;switch(e){case"keypress":if(Cs(r)===0)break e;case"keydown":case"keyup":L=jx;break;case"focusin":j="focus",L=lu;break;case"focusout":j="blur",L=lu;break;case"beforeblur":case"afterblur":L=lu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Hx;break;case jh:case Uh:case zh:L=Ox;break;case Hh:L=Gx;break;case"scroll":L=Ix;break;case"wheel":L=Xx;break;case"copy":case"cut":case"paste":L=Rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ef}var F=(t&4)!==0,Q=!F&&e==="scroll",M=F?O!==null?O+"Capture":null:O;F=[];for(var _=x,b;_!==null;){b=_;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,M!==null&&(k=ca(_,M),k!=null&&F.push(ma(_,k,b)))),Q)break;_=_.return}0<F.length&&(O=new L(O,j,null,r,I),S.push({event:O,listeners:F}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",O&&r!==Yu&&(j=r.relatedTarget||r.fromElement)&&(di(j)||j[yr]))break e;if((L||O)&&(O=I.window===I?I:(O=I.ownerDocument)?O.defaultView||O.parentWindow:window,L?(j=r.relatedTarget||r.toElement,L=x,j=j?di(j):null,j!==null&&(Q=Si(j),j!==Q||j.tag!==5&&j.tag!==6)&&(j=null)):(L=null,j=x),L!==j)){if(F=q1,k="onMouseLeave",M="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(F=ef,k="onPointerLeave",M="onPointerEnter",_="pointer"),Q=L==null?O:Qi(L),b=j==null?O:Qi(j),O=new F(k,_+"leave",L,r,I),O.target=Q,O.relatedTarget=b,k=null,di(I)===x&&(F=new F(M,_+"enter",j,r,I),F.target=b,F.relatedTarget=Q,k=F),Q=k,L&&j)t:{for(F=L,M=j,_=0,b=F;b;b=ji(b))_++;for(b=0,k=M;k;k=ji(k))b++;for(;0<_-b;)F=ji(F),_--;for(;0<b-_;)M=ji(M),b--;for(;_--;){if(F===M||M!==null&&F===M.alternate)break t;F=ji(F),M=ji(M)}F=null}else F=null;L!==null&&df(S,O,L,F,!1),j!==null&&Q!==null&&df(S,Q,j,F,!0)}}e:{if(O=x?Qi(x):window,L=O.nodeName&&O.nodeName.toLowerCase(),L==="select"||L==="input"&&O.type==="file")var X=Jx;else if(rf(O))if(kh)X=rm;else{X=tm;var $=em}else(L=O.nodeName)&&L.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(X=nm);if(X&&(X=X(e,x))){Dh(S,X,r,I);break e}$&&$(e,O,x),e==="focusout"&&($=O._wrapperState)&&$.controlled&&O.type==="number"&&Hu(O,"number",O.value)}switch($=x?Qi(x):window,e){case"focusin":(rf($)||$.contentEditable==="true")&&(Yi=$,ec=x,na=null);break;case"focusout":na=ec=Yi=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,uf(S,r,I);break;case"selectionchange":if(am)break;case"keydown":case"keyup":uf(S,r,I)}var U;if(r0)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Xi?Mh(e,r)&&(W="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(Oh&&r.locale!=="ko"&&(Xi||W!=="onCompositionStart"?W==="onCompositionEnd"&&Xi&&(U=Nh()):(Lr=I,e0="value"in Lr?Lr.value:Lr.textContent,Xi=!0)),$=Bs(x,W),0<$.length&&(W=new J1(W,e,null,r,I),S.push({event:W,listeners:$}),U?W.data=U:(U=Rh(r),U!==null&&(W.data=U)))),(U=Zx?Qx(e,r):$x(e,r))&&(x=Bs(x,"onBeforeInput"),0<x.length&&(I=new J1("onBeforeInput","beforeinput",null,r,I),S.push({event:I,listeners:x}),I.data=U))}Gh(S,t)})}function ma(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bs(e,t){for(var r=t+"Capture",a=[];e!==null;){var l=e,f=l.stateNode;l.tag===5&&f!==null&&(l=f,f=ca(e,r),f!=null&&a.unshift(ma(e,f,l)),f=ca(e,t),f!=null&&a.push(ma(e,f,l))),e=e.return}return a}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function df(e,t,r,a,l){for(var f=t._reactName,g=[];r!==null&&r!==a;){var m=r,w=m.alternate,x=m.stateNode;if(w!==null&&w===a)break;m.tag===5&&x!==null&&(m=x,l?(w=ca(r,f),w!=null&&g.unshift(ma(r,w,m))):l||(w=ca(r,f),w!=null&&g.push(ma(r,w,m)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var cm=/\r\n?/g,fm=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(cm,`
`).replace(fm,"")}function as(e,t,r){if(t=hf(t),hf(e)!==t&&r)throw Error(J(425))}function Fs(){}var nc=null,rc=null;function ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,hm=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(gm)}:oc;function gm(e){setTimeout(function(){throw e})}function xu(e,t){var r=t,a=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(a===0){e.removeChild(l),ha(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=l}while(r);ha(t)}function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),or="__reactFiber$"+Eo,ya="__reactProps$"+Eo,yr="__reactContainer$"+Eo,ac="__reactEvents$"+Eo,pm="__reactListeners$"+Eo,xm="__reactHandles$"+Eo;function di(e){var t=e[or];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yr]||r[or]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pf(e);e!==null;){if(r=e[or])return r;e=pf(e)}return t}e=r,r=e.parentNode}return null}function Oa(e){return e=e[or]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function fl(e){return e[ya]||null}var sc=[],$i=-1;function qr(e){return{current:e}}function tt(e){0>$i||(e.current=sc[$i],sc[$i]=null,$i--)}function Ke(e,t){$i++,sc[$i]=e.current,e.current=t}var Qr={},Wt=qr(Qr),un=qr(!1),yi=Qr;function co(e,t){var r=e.type.contextTypes;if(!r)return Qr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},f;for(f in r)l[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function cn(e){return e=e.childContextTypes,e!=null}function js(){tt(un),tt(Wt)}function xf(e,t,r){if(Wt.current!==Qr)throw Error(J(168));Ke(Wt,t),Ke(un,r)}function Xh(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(J(108,ex(e)||"Unknown",l));return ft({},r,a)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qr,yi=Wt.current,Ke(Wt,e),Ke(un,un.current),!0}function mf(e,t,r){var a=e.stateNode;if(!a)throw Error(J(169));r?(e=Xh(e,t,yi),a.__reactInternalMemoizedMergedChildContext=e,tt(un),tt(Wt),Ke(Wt,e)):tt(un),Ke(un,r)}var fr=null,dl=!1,mu=!1;function Yh(e){fr===null?fr=[e]:fr.push(e)}function mm(e){dl=!0,Yh(e)}function Jr(){if(!mu&&fr!==null){mu=!0;var e=0,t=He;try{var r=fr;for(He=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}fr=null,dl=!1}catch(l){throw fr!==null&&(fr=fr.slice(e+1)),yh($c,Jr),l}finally{He=t,mu=!1}}return null}var Ki=[],qi=0,zs=null,Hs=0,On=[],Mn=0,wi=null,dr=1,hr="";function ui(e,t){Ki[qi++]=Hs,Ki[qi++]=zs,zs=e,Hs=t}function Zh(e,t,r){On[Mn++]=dr,On[Mn++]=hr,On[Mn++]=wi,wi=e;var a=dr;e=hr;var l=32-Xn(a)-1;a&=~(1<<l),r+=1;var f=32-Xn(t)+l;if(30<f){var g=l-l%5;f=(a&(1<<g)-1).toString(32),a>>=g,l-=g,dr=1<<32-Xn(t)+l|r<<l|a,hr=f+e}else dr=1<<f|r<<l|a,hr=e}function o0(e){e.return!==null&&(ui(e,1),Zh(e,1,0))}function a0(e){for(;e===zs;)zs=Ki[--qi],Ki[qi]=null,Hs=Ki[--qi],Ki[qi]=null;for(;e===wi;)wi=On[--Mn],On[Mn]=null,hr=On[--Mn],On[Mn]=null,dr=On[--Mn],On[Mn]=null}var Cn=null,vn=null,it=!1,Wn=null;function Qh(e,t){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,vn=zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wi!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cn=e,vn=null,!0):!1;default:return!1}}function lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(it){var t=vn;if(t){var r=t;if(!yf(e,t)){if(lc(e))throw Error(J(418));t=zr(r.nextSibling);var a=Cn;t&&yf(e,t)?Qh(a,r):(e.flags=e.flags&-4097|2,it=!1,Cn=e)}}else{if(lc(e))throw Error(J(418));e.flags=e.flags&-4097|2,it=!1,Cn=e}}}function wf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function ss(e){if(e!==Cn)return!1;if(!it)return wf(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ic(e.type,e.memoizedProps)),t&&(t=vn)){if(lc(e))throw $h(),Error(J(418));for(;t;)Qh(e,t),t=zr(t.nextSibling)}if(wf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vn=zr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=Cn?zr(e.stateNode.nextSibling):null;return!0}function $h(){for(var e=vn;e;)e=zr(e.nextSibling)}function fo(){vn=Cn=null,it=!1}function s0(e){Wn===null?Wn=[e]:Wn.push(e)}var ym=Er.ReactCurrentBatchConfig;function zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var a=r.stateNode}if(!a)throw Error(J(147,e));var l=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var m=l.refs;g===null?delete m[f]:m[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function ls(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vf(e){var t=e._init;return t(e._payload)}function Kh(e){function t(M,_){if(e){var b=M.deletions;b===null?(M.deletions=[_],M.flags|=16):b.push(_)}}function r(M,_){if(!e)return null;for(;_!==null;)t(M,_),_=_.sibling;return null}function a(M,_){for(M=new Map;_!==null;)_.key!==null?M.set(_.key,_):M.set(_.index,_),_=_.sibling;return M}function l(M,_){return M=Wr(M,_),M.index=0,M.sibling=null,M}function f(M,_,b){return M.index=b,e?(b=M.alternate,b!==null?(b=b.index,b<_?(M.flags|=2,_):b):(M.flags|=2,_)):(M.flags|=1048576,_)}function g(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,_,b,k){return _===null||_.tag!==6?(_=Su(b,M.mode,k),_.return=M,_):(_=l(_,b),_.return=M,_)}function w(M,_,b,k){var X=b.type;return X===Wi?I(M,_,b.props.children,k,b.key):_!==null&&(_.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Mr&&vf(X)===_.type)?(k=l(_,b.props),k.ref=zo(M,_,b),k.return=M,k):(k=Ns(b.type,b.key,b.props,null,M.mode,k),k.ref=zo(M,_,b),k.return=M,k)}function x(M,_,b,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Iu(b,M.mode,k),_.return=M,_):(_=l(_,b.children||[]),_.return=M,_)}function I(M,_,b,k,X){return _===null||_.tag!==7?(_=xi(b,M.mode,k,X),_.return=M,_):(_=l(_,b),_.return=M,_)}function S(M,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Su(""+_,M.mode,b),_.return=M,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ka:return b=Ns(_.type,_.key,_.props,null,M.mode,b),b.ref=zo(M,null,_),b.return=M,b;case Gi:return _=Iu(_,M.mode,b),_.return=M,_;case Mr:var k=_._init;return S(M,k(_._payload),b)}if(Zo(_)||Po(_))return _=xi(_,M.mode,b,null),_.return=M,_;ls(M,_)}return null}function O(M,_,b,k){var X=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return X!==null?null:m(M,_,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ka:return b.key===X?w(M,_,b,k):null;case Gi:return b.key===X?x(M,_,b,k):null;case Mr:return X=b._init,O(M,_,X(b._payload),k)}if(Zo(b)||Po(b))return X!==null?null:I(M,_,b,k,null);ls(M,b)}return null}function L(M,_,b,k,X){if(typeof k=="string"&&k!==""||typeof k=="number")return M=M.get(b)||null,m(_,M,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ka:return M=M.get(k.key===null?b:k.key)||null,w(_,M,k,X);case Gi:return M=M.get(k.key===null?b:k.key)||null,x(_,M,k,X);case Mr:var $=k._init;return L(M,_,b,$(k._payload),X)}if(Zo(k)||Po(k))return M=M.get(b)||null,I(_,M,k,X,null);ls(_,k)}return null}function j(M,_,b,k){for(var X=null,$=null,U=_,W=_=0,H=null;U!==null&&W<b.length;W++){U.index>W?(H=U,U=null):H=U.sibling;var ae=O(M,U,b[W],k);if(ae===null){U===null&&(U=H);break}e&&U&&ae.alternate===null&&t(M,U),_=f(ae,_,W),$===null?X=ae:$.sibling=ae,$=ae,U=H}if(W===b.length)return r(M,U),it&&ui(M,W),X;if(U===null){for(;W<b.length;W++)U=S(M,b[W],k),U!==null&&(_=f(U,_,W),$===null?X=U:$.sibling=U,$=U);return it&&ui(M,W),X}for(U=a(M,U);W<b.length;W++)H=L(U,M,W,b[W],k),H!==null&&(e&&H.alternate!==null&&U.delete(H.key===null?W:H.key),_=f(H,_,W),$===null?X=H:$.sibling=H,$=H);return e&&U.forEach(function(ye){return t(M,ye)}),it&&ui(M,W),X}function F(M,_,b,k){var X=Po(b);if(typeof X!="function")throw Error(J(150));if(b=X.call(b),b==null)throw Error(J(151));for(var $=X=null,U=_,W=_=0,H=null,ae=b.next();U!==null&&!ae.done;W++,ae=b.next()){U.index>W?(H=U,U=null):H=U.sibling;var ye=O(M,U,ae.value,k);if(ye===null){U===null&&(U=H);break}e&&U&&ye.alternate===null&&t(M,U),_=f(ye,_,W),$===null?X=ye:$.sibling=ye,$=ye,U=H}if(ae.done)return r(M,U),it&&ui(M,W),X;if(U===null){for(;!ae.done;W++,ae=b.next())ae=S(M,ae.value,k),ae!==null&&(_=f(ae,_,W),$===null?X=ae:$.sibling=ae,$=ae);return it&&ui(M,W),X}for(U=a(M,U);!ae.done;W++,ae=b.next())ae=L(U,M,W,ae.value,k),ae!==null&&(e&&ae.alternate!==null&&U.delete(ae.key===null?W:ae.key),_=f(ae,_,W),$===null?X=ae:$.sibling=ae,$=ae);return e&&U.forEach(function(Z){return t(M,Z)}),it&&ui(M,W),X}function Q(M,_,b,k){if(typeof b=="object"&&b!==null&&b.type===Wi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ka:e:{for(var X=b.key,$=_;$!==null;){if($.key===X){if(X=b.type,X===Wi){if($.tag===7){r(M,$.sibling),_=l($,b.props.children),_.return=M,M=_;break e}}else if($.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Mr&&vf(X)===$.type){r(M,$.sibling),_=l($,b.props),_.ref=zo(M,$,b),_.return=M,M=_;break e}r(M,$);break}else t(M,$);$=$.sibling}b.type===Wi?(_=xi(b.props.children,M.mode,k,b.key),_.return=M,M=_):(k=Ns(b.type,b.key,b.props,null,M.mode,k),k.ref=zo(M,_,b),k.return=M,M=k)}return g(M);case Gi:e:{for($=b.key;_!==null;){if(_.key===$)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){r(M,_.sibling),_=l(_,b.children||[]),_.return=M,M=_;break e}else{r(M,_);break}else t(M,_);_=_.sibling}_=Iu(b,M.mode,k),_.return=M,M=_}return g(M);case Mr:return $=b._init,Q(M,_,$(b._payload),k)}if(Zo(b))return j(M,_,b,k);if(Po(b))return F(M,_,b,k);ls(M,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(r(M,_.sibling),_=l(_,b),_.return=M,M=_):(r(M,_),_=Su(b,M.mode,k),_.return=M,M=_),g(M)):r(M,_)}return Q}var ho=Kh(!0),qh=Kh(!1),Vs=qr(null),Gs=null,Ji=null,l0=null;function u0(){l0=Ji=Gs=null}function c0(e){var t=Vs.current;tt(Vs),e._currentValue=t}function cc(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function so(e,t){Gs=e,l0=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(l0!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(Gs===null)throw Error(J(308));Ji=e,Gs.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var hi=null;function f0(e){hi===null?hi=[e]:hi.push(e)}function Jh(e,t,r,a){var l=t.interleaved;return l===null?(r.next=r,f0(t)):(r.next=l.next,l.next=r),t.interleaved=r,wr(e,a)}function wr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rr=!1;function d0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Be&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,wr(e,r)}return l=a.interleaved,l===null?(t.next=t,f0(a)):(t.next=l.next,l.next=t),a.interleaved=t,wr(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Kc(e,r)}}function Ef(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var l=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?l=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?l=f=t:f=f.next=t}else l=f=t;r={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ws(e,t,r,a){var l=e.updateQueue;Rr=!1;var f=l.firstBaseUpdate,g=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var w=m,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var I=e.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==g&&(m===null?I.firstBaseUpdate=x:m.next=x,I.lastBaseUpdate=w))}if(f!==null){var S=l.baseState;g=0,I=x=w=null,m=f;do{var O=m.lane,L=m.eventTime;if((a&O)===O){I!==null&&(I=I.next={eventTime:L,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var j=e,F=m;switch(O=t,L=r,F.tag){case 1:if(j=F.payload,typeof j=="function"){S=j.call(L,S,O);break e}S=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=F.payload,O=typeof j=="function"?j.call(L,S,O):j,O==null)break e;S=ft({},S,O);break e;case 2:Rr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,O=l.effects,O===null?l.effects=[m]:O.push(m))}else L={eventTime:L,lane:O,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(x=I=L,w=S):I=I.next=L,g|=O;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;O=m,m=O.next,O.next=null,l.lastBaseUpdate=O,l.shared.pending=null}}while(!0);if(I===null&&(w=S),l.baseState=w,l.firstBaseUpdate=x,l.lastBaseUpdate=I,t=l.shared.interleaved,t!==null){l=t;do g|=l.lane,l=l.next;while(l!==t)}else f===null&&(l.shared.lanes=0);Ei|=g,e.lanes=g,e.memoizedState=S}}function Cf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=r,typeof l!="function")throw Error(J(191,l));l.call(a)}}}var Ma={},lr=qr(Ma),wa=qr(Ma),va=qr(Ma);function gi(e){if(e===Ma)throw Error(J(174));return e}function h0(e,t){switch(Ke(va,t),Ke(wa,e),Ke(lr,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gu(t,e)}tt(lr),Ke(lr,t)}function go(){tt(lr),tt(wa),tt(va)}function tg(e){gi(va.current);var t=gi(lr.current),r=Gu(t,e.type);t!==r&&(Ke(wa,e),Ke(lr,r))}function g0(e){wa.current===e&&(tt(lr),tt(wa))}var ut=qr(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function p0(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var Ss=Er.ReactCurrentDispatcher,wu=Er.ReactCurrentBatchConfig,vi=0,ct=null,_t=null,Mt=null,Ys=!1,ra=!1,Ea=0,wm=0;function Ht(){throw Error(J(321))}function x0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zn(e[r],t[r]))return!1;return!0}function m0(e,t,r,a,l,f){if(vi=f,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?Am:Sm,e=r(a,l),ra){f=0;do{if(ra=!1,Ea=0,25<=f)throw Error(J(301));f+=1,Mt=_t=null,t.updateQueue=null,Ss.current=Im,e=r(a,l)}while(ra)}if(Ss.current=Zs,t=_t!==null&&_t.next!==null,vi=0,Mt=_t=ct=null,Ys=!1,t)throw Error(J(300));return e}function y0(){var e=Ea!==0;return Ea=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Pn(){if(_t===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Mt===null?ct.memoizedState:Mt.next;if(t!==null)Mt=t,_t=e;else{if(e===null)throw Error(J(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Mt===null?ct.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Ca(e,t){return typeof t=="function"?t(e):t}function vu(e){var t=Pn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var a=_t,l=a.baseQueue,f=r.pending;if(f!==null){if(l!==null){var g=l.next;l.next=f.next,f.next=g}a.baseQueue=l=f,r.pending=null}if(l!==null){f=l.next,a=a.baseState;var m=g=null,w=null,x=f;do{var I=x.lane;if((vi&I)===I)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var S={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(m=w=S,g=a):w=w.next=S,ct.lanes|=I,Ei|=I}x=x.next}while(x!==null&&x!==f);w===null?g=a:w.next=m,Zn(a,t.memoizedState)||(ln=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=w,r.lastRenderedState=a}if(e=r.interleaved,e!==null){l=e;do f=l.lane,ct.lanes|=f,Ei|=f,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eu(e){var t=Pn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var a=r.dispatch,l=r.pending,f=t.memoizedState;if(l!==null){r.pending=null;var g=l=l.next;do f=e(f,g.action),g=g.next;while(g!==l);Zn(f,t.memoizedState)||(ln=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,a]}function ng(){}function rg(e,t){var r=ct,a=Pn(),l=t(),f=!Zn(a.memoizedState,l);if(f&&(a.memoizedState=l,ln=!0),a=a.queue,w0(ag.bind(null,r,a,e),[e]),a.getSnapshot!==t||f||Mt!==null&&Mt.memoizedState.tag&1){if(r.flags|=2048,Aa(9,og.bind(null,r,a,l,t),void 0,null),Rt===null)throw Error(J(349));vi&30||ig(r,t,l)}return l}function ig(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function og(e,t,r,a){t.value=r,t.getSnapshot=a,sg(t)&&lg(e)}function ag(e,t,r){return r(function(){sg(t)&&lg(e)})}function sg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zn(e,r)}catch{return!0}}function lg(e){var t=wr(e,1);t!==null&&Yn(t,e,1,-1)}function Af(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,ct,e),[t.memoizedState,e]}function Aa(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function ug(){return Pn().memoizedState}function Is(e,t,r,a){var l=rr();ct.flags|=e,l.memoizedState=Aa(1|t,r,void 0,a===void 0?null:a)}function hl(e,t,r,a){var l=Pn();a=a===void 0?null:a;var f=void 0;if(_t!==null){var g=_t.memoizedState;if(f=g.destroy,a!==null&&x0(a,g.deps)){l.memoizedState=Aa(t,r,f,a);return}}ct.flags|=e,l.memoizedState=Aa(1|t,r,f,a)}function Sf(e,t){return Is(8390656,8,e,t)}function w0(e,t){return hl(2048,8,e,t)}function cg(e,t){return hl(4,2,e,t)}function fg(e,t){return hl(4,4,e,t)}function dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hg(e,t,r){return r=r!=null?r.concat([e]):null,hl(4,4,dg.bind(null,t,e),r)}function v0(){}function gg(e,t){var r=Pn();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&x0(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function pg(e,t){var r=Pn();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&x0(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function xg(e,t,r){return vi&21?(Zn(r,t)||(r=Eh(),ct.lanes|=r,Ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=r)}function vm(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var a=wu.transition;wu.transition={};try{e(!1),t()}finally{He=r,wu.transition=a}}function mg(){return Pn().memoizedState}function Em(e,t,r){var a=Gr(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},yg(e))wg(t,r);else if(r=Jh(e,t,r,a),r!==null){var l=Qt();Yn(r,e,a,l),vg(r,t,a)}}function Cm(e,t,r){var a=Gr(e),l={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(yg(e))wg(t,l);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,m=f(g,r);if(l.hasEagerState=!0,l.eagerState=m,Zn(m,g)){var w=t.interleaved;w===null?(l.next=l,f0(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}r=Jh(e,t,l,a),r!==null&&(l=Qt(),Yn(r,e,a,l),vg(r,t,a))}}function yg(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function wg(e,t){ra=Ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vg(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Kc(e,r)}}var Zs={readContext:Ln,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},Am={readContext:Ln,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:Sf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,dg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=rr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Em.bind(null,ct,e),[a.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:Af,useDebugValue:v0,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=Af(!1),t=e[0];return e=vm.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ct,l=rr();if(it){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Rt===null)throw Error(J(349));vi&30||ig(a,t,r)}l.memoizedState=r;var f={value:r,getSnapshot:t};return l.queue=f,Sf(ag.bind(null,a,f,e),[e]),a.flags|=2048,Aa(9,og.bind(null,a,f,r,t),void 0,null),r},useId:function(){var e=rr(),t=Rt.identifierPrefix;if(it){var r=hr,a=dr;r=(a&~(1<<32-Xn(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ea++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sm={readContext:Ln,useCallback:gg,useContext:Ln,useEffect:w0,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:fg,useMemo:pg,useReducer:vu,useRef:ug,useState:function(){return vu(Ca)},useDebugValue:v0,useDeferredValue:function(e){var t=Pn();return xg(t,_t.memoizedState,e)},useTransition:function(){var e=vu(Ca)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:ng,useSyncExternalStore:rg,useId:mg,unstable_isNewReconciler:!1},Im={readContext:Ln,useCallback:gg,useContext:Ln,useEffect:w0,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:fg,useMemo:pg,useReducer:Eu,useRef:ug,useState:function(){return Eu(Ca)},useDebugValue:v0,useDeferredValue:function(e){var t=Pn();return _t===null?t.memoizedState=e:xg(t,_t.memoizedState,e)},useTransition:function(){var e=Eu(Ca)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:ng,useSyncExternalStore:rg,useId:mg,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fc(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gl={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Qt(),l=Gr(e),f=pr(a,l);f.payload=t,r!=null&&(f.callback=r),t=Hr(e,f,l),t!==null&&(Yn(t,e,l,a),As(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Qt(),l=Gr(e),f=pr(a,l);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Hr(e,f,l),t!==null&&(Yn(t,e,l,a),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),a=Gr(e),l=pr(r,a);l.tag=2,t!=null&&(l.callback=t),t=Hr(e,l,a),t!==null&&(Yn(t,e,a,r),As(t,e,a))}};function If(e,t,r,a,l,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!pa(r,a)||!pa(l,f):!0}function Eg(e,t,r){var a=!1,l=Qr,f=t.contextType;return typeof f=="object"&&f!==null?f=Ln(f):(l=cn(t)?yi:Wt.current,a=t.contextTypes,f=(a=a!=null)?co(e,l):Qr),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=f),t}function _f(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function dc(e,t,r,a){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},d0(e);var f=t.contextType;typeof f=="object"&&f!==null?l.context=Ln(f):(f=cn(t)?yi:Wt.current,l.context=co(e,f)),l.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(fc(e,t,f,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&gl.enqueueReplaceState(l,l.state,null),Ws(e,r,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function po(e,t){try{var r="",a=t;do r+=J2(a),a=a.return;while(a);var l=r}catch(f){l=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:l,digest:null}}function Cu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _m=typeof WeakMap=="function"?WeakMap:Map;function Cg(e,t,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){$s||($s=!0,Ac=a),hc(e,t)},r}function Ag(e,t,r){r=pr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;r.payload=function(){return a(l)},r.callback=function(){hc(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){hc(e,t),typeof a!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function Tf(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new _m;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(r)||(l.add(r),e=Um.bind(null,e,t,r),t.then(e,e))}function bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,r,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pr(-1,1),t.tag=2,Hr(r,t,1))),r.lanes|=1),e)}var Tm=Er.ReactCurrentOwner,ln=!1;function Zt(e,t,r,a){t.child=e===null?qh(t,null,r,a):ho(t,e.child,r,a)}function Of(e,t,r,a,l){r=r.render;var f=t.ref;return so(t,l),a=m0(e,t,r,a,f,l),r=y0(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vr(e,t,l)):(it&&r&&o0(t),t.flags|=1,Zt(e,t,a,l),t.child)}function Mf(e,t,r,a,l){if(e===null){var f=r.type;return typeof f=="function"&&!b0(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Sg(e,t,f,a,l)):(e=Ns(r.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&l)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:pa,r(g,a)&&e.ref===t.ref)return vr(e,t,l)}return t.flags|=1,e=Wr(f,a),e.ref=t.ref,e.return=t,t.child=e}function Sg(e,t,r,a,l){if(e!==null){var f=e.memoizedProps;if(pa(f,a)&&e.ref===t.ref)if(ln=!1,t.pendingProps=a=f,(e.lanes&l)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,vr(e,t,l)}return gc(e,t,r,a,l)}function Ig(e,t,r){var a=t.pendingProps,l=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(to,mn),mn|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(to,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:r,Ke(to,mn),mn|=a}else f!==null?(a=f.baseLanes|r,t.memoizedState=null):a=r,Ke(to,mn),mn|=a;return Zt(e,t,l,r),t.child}function _g(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gc(e,t,r,a,l){var f=cn(r)?yi:Wt.current;return f=co(t,f),so(t,l),r=m0(e,t,r,a,f,l),a=y0(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vr(e,t,l)):(it&&a&&o0(t),t.flags|=1,Zt(e,t,r,l),t.child)}function Rf(e,t,r,a,l){if(cn(r)){var f=!0;Us(t)}else f=!1;if(so(t,l),t.stateNode===null)_s(e,t),Eg(t,r,a),dc(t,r,a,l),a=!0;else if(e===null){var g=t.stateNode,m=t.memoizedProps;g.props=m;var w=g.context,x=r.contextType;typeof x=="object"&&x!==null?x=Ln(x):(x=cn(r)?yi:Wt.current,x=co(t,x));var I=r.getDerivedStateFromProps,S=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==a||w!==x)&&_f(t,g,a,x),Rr=!1;var O=t.memoizedState;g.state=O,Ws(t,a,g,l),w=t.memoizedState,m!==a||O!==w||un.current||Rr?(typeof I=="function"&&(fc(t,r,I,a),w=t.memoizedState),(m=Rr||If(t,r,m,a,O,w,x))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),g.props=a,g.state=w,g.context=x,a=m):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,eg(e,t),m=t.memoizedProps,x=t.type===t.elementType?m:Hn(t.type,m),g.props=x,S=t.pendingProps,O=g.context,w=r.contextType,typeof w=="object"&&w!==null?w=Ln(w):(w=cn(r)?yi:Wt.current,w=co(t,w));var L=r.getDerivedStateFromProps;(I=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==S||O!==w)&&_f(t,g,a,w),Rr=!1,O=t.memoizedState,g.state=O,Ws(t,a,g,l);var j=t.memoizedState;m!==S||O!==j||un.current||Rr?(typeof L=="function"&&(fc(t,r,L,a),j=t.memoizedState),(x=Rr||If(t,r,x,a,O,j,w)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,j,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,j,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),g.props=a,g.state=j,g.context=w,a=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),a=!1)}return pc(e,t,r,a,f,l)}function pc(e,t,r,a,l,f){_g(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return l&&mf(t,r,!1),vr(e,t,f);a=t.stateNode,Tm.current=t;var m=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=ho(t,e.child,null,f),t.child=ho(t,null,m,f)):Zt(e,t,m,f),t.memoizedState=a.state,l&&mf(t,r,!0),t.child}function Tg(e){var t=e.stateNode;t.pendingContext?xf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xf(e,t.context,!1),h0(e,t.containerInfo)}function Df(e,t,r,a,l){return fo(),s0(l),t.flags|=256,Zt(e,t,r,a),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function bg(e,t,r){var a=t.pendingProps,l=ut.current,f=!1,g=(t.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ke(ut,l&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ml(g,a,0,null),e=xi(e,a,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=mc(r),t.memoizedState=xc,e):E0(t,g));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return bm(e,t,g,a,m,l,r);if(f){f=a.fallback,g=t.mode,l=e.child,m=l.sibling;var w={mode:"hidden",children:a.children};return!(g&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=w,t.deletions=null):(a=Wr(l,w),a.subtreeFlags=l.subtreeFlags&14680064),m!==null?f=Wr(m,f):(f=xi(f,g,r,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?mc(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~r,t.memoizedState=xc,a}return f=e.child,e=f.sibling,a=Wr(f,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function E0(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function us(e,t,r,a){return a!==null&&s0(a),ho(t,e.child,null,r),e=E0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bm(e,t,r,a,l,f,g){if(r)return t.flags&256?(t.flags&=-257,a=Cu(Error(J(422))),us(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,l=t.mode,a=ml({mode:"visible",children:a.children},l,0,null),f=xi(f,l,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,t.mode&1&&ho(t,e.child,null,g),t.child.memoizedState=mc(g),t.memoizedState=xc,f);if(!(t.mode&1))return us(e,t,g,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var m=a.dgst;return a=m,f=Error(J(419)),a=Cu(f,a,void 0),us(e,t,g,a)}if(m=(g&e.childLanes)!==0,ln||m){if(a=Rt,a!==null){switch(g&-g){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|g)?0:l,l!==0&&l!==f.retryLane&&(f.retryLane=l,wr(e,l),Yn(a,e,l,-1))}return T0(),a=Cu(Error(J(421))),us(e,t,g,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=zm.bind(null,e),l._reactRetry=t,null):(e=f.treeContext,vn=zr(l.nextSibling),Cn=t,it=!0,Wn=null,e!==null&&(On[Mn++]=dr,On[Mn++]=hr,On[Mn++]=wi,dr=e.id,hr=e.overflow,wi=t),t=E0(t,a.children),t.flags|=4096,t)}function kf(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),cc(e.return,t,r)}function Au(e,t,r,a,l){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:l}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=r,f.tailMode=l)}function Ng(e,t,r){var a=t.pendingProps,l=a.revealOrder,f=a.tail;if(Zt(e,t,a.children,r),a=ut.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,r,t);else if(e.tag===19)kf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ke(ut,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Xs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Au(t,!1,l,r,f);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Xs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Au(t,!0,r,null,f);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Wr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Nm(e,t,r){switch(t.tag){case 3:Tg(t),fo();break;case 5:tg(t);break;case 1:cn(t.type)&&Us(t);break;case 4:h0(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;Ke(Vs,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ke(ut,ut.current&1),t.flags|=128,null):r&t.child.childLanes?bg(e,t,r):(Ke(ut,ut.current&1),e=vr(e,t,r),e!==null?e.sibling:null);Ke(ut,ut.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Ng(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ke(ut,ut.current),a)break;return null;case 22:case 23:return t.lanes=0,Ig(e,t,r)}return vr(e,t,r)}var Og,yc,Mg,Rg;Og=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yc=function(){};Mg=function(e,t,r,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,gi(lr.current);var f=null;switch(r){case"input":l=Uu(e,l),a=Uu(e,a),f=[];break;case"select":l=ft({},l,{value:void 0}),a=ft({},a,{value:void 0}),f=[];break;case"textarea":l=Vu(e,l),a=Vu(e,a),f=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Fs)}Wu(r,a);var g;r=null;for(x in l)if(!a.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var m=l[x];for(g in m)m.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(la.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var w=a[x];if(m=l!=null?l[x]:void 0,a.hasOwnProperty(x)&&w!==m&&(w!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in w)w.hasOwnProperty(g)&&m[g]!==w[g]&&(r||(r={}),r[g]=w[g])}else r||(f||(f=[]),f.push(x,r)),r=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(f=f||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(la.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&Je("scroll",e),f||m===w||(f=[])):(f=f||[]).push(x,w))}r&&(f=f||[]).push("style",r);var x=f;(t.updateQueue=x)&&(t.flags|=4)}};Rg=function(e,t,r,a){r!==a&&(t.flags|=4)};function Ho(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Om(e,t,r){var a=t.pendingProps;switch(a0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return cn(t.type)&&js(),Vt(t),null;case 3:return a=t.stateNode,go(),tt(un),tt(Wt),p0(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(_c(Wn),Wn=null))),yc(e,t),Vt(t),null;case 5:g0(t);var l=gi(va.current);if(r=t.type,e!==null&&t.stateNode!=null)Mg(e,t,r,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(J(166));return Vt(t),null}if(e=gi(lr.current),ss(t)){a=t.stateNode,r=t.type;var f=t.memoizedProps;switch(a[or]=t,a[ya]=f,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(l=0;l<$o.length;l++)Je($o[l],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":H1(a,f),Je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Je("invalid",a);break;case"textarea":G1(a,f),Je("invalid",a)}Wu(r,f),l=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?a.textContent!==m&&(f.suppressHydrationWarning!==!0&&as(a.textContent,m,e),l=["children",m]):typeof m=="number"&&a.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&as(a.textContent,m,e),l=["children",""+m]):la.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&Je("scroll",a)}switch(r){case"input":qa(a),V1(a,f,!0);break;case"textarea":qa(a),W1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Fs)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ah(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(r,{is:a.is}):(e=g.createElement(r),r==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,r),e[or]=t,e[ya]=a,Og(e,t,!1,!1),t.stateNode=e;e:{switch(g=Xu(r,a),r){case"dialog":Je("cancel",e),Je("close",e),l=a;break;case"iframe":case"object":case"embed":Je("load",e),l=a;break;case"video":case"audio":for(l=0;l<$o.length;l++)Je($o[l],e);l=a;break;case"source":Je("error",e),l=a;break;case"img":case"image":case"link":Je("error",e),Je("load",e),l=a;break;case"details":Je("toggle",e),l=a;break;case"input":H1(e,a),l=Uu(e,a),Je("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=ft({},a,{value:void 0}),Je("invalid",e);break;case"textarea":G1(e,a),l=Vu(e,a),Je("invalid",e);break;default:l=a}Wu(r,l),m=l;for(f in m)if(m.hasOwnProperty(f)){var w=m[f];f==="style"?uh(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&sh(e,w)):f==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&ua(e,w):typeof w=="number"&&ua(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(la.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Je("scroll",e):w!=null&&Wc(e,f,w,g))}switch(r){case"input":qa(e),V1(e,a,!1);break;case"textarea":qa(e),W1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Zr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ro(e,!!a.multiple,f,!1):a.defaultValue!=null&&ro(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Rg(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(J(166));if(r=gi(va.current),gi(lr.current),ss(t)){if(a=t.stateNode,r=t.memoizedProps,a[or]=t,(f=a.nodeValue!==r)&&(e=Cn,e!==null))switch(e.tag){case 3:as(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(a.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[or]=t,t.stateNode=a}return Vt(t),null;case 13:if(tt(ut),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&vn!==null&&t.mode&1&&!(t.flags&128))$h(),fo(),t.flags|=98560,f=!1;else if(f=ss(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[or]=t}else fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),f=!1}else Wn!==null&&(_c(Wn),Wn=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Tt===0&&(Tt=3):T0())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return go(),yc(e,t),e===null&&xa(t.stateNode.containerInfo),Vt(t),null;case 10:return c0(t.type._context),Vt(t),null;case 17:return cn(t.type)&&js(),Vt(t),null;case 19:if(tt(ut),f=t.memoizedState,f===null)return Vt(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)Ho(f,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Xs(e),g!==null){for(t.flags|=128,Ho(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)f=r,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(ut,ut.current&1|2),t.child}e=e.sibling}f.tail!==null&&yt()>xo&&(t.flags|=128,a=!0,Ho(f,!1),t.lanes=4194304)}else{if(!a)if(e=Xs(g),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ho(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!it)return Vt(t),null}else 2*yt()-f.renderingStartTime>xo&&r!==1073741824&&(t.flags|=128,a=!0,Ho(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(r=f.last,r!==null?r.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=yt(),t.sibling=null,r=ut.current,Ke(ut,a?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return _0(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?mn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function Mm(e,t){switch(a0(t),t.tag){case 1:return cn(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),tt(un),tt(Wt),p0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g0(t),null;case 13:if(tt(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(ut),null;case 4:return go(),null;case 10:return c0(t.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var cs=!1,Gt=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,ce=null;function eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){xt(e,t,a)}else r.current=null}function wc(e,t,r){try{r()}catch(a){xt(e,t,a)}}var Lf=!1;function Dm(e,t){if(nc=Ls,e=Bh(),i0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var l=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,m=-1,w=-1,x=0,I=0,S=e,O=null;t:for(;;){for(var L;S!==r||l!==0&&S.nodeType!==3||(m=g+l),S!==f||a!==0&&S.nodeType!==3||(w=g+a),S.nodeType===3&&(g+=S.nodeValue.length),(L=S.firstChild)!==null;)O=S,S=L;for(;;){if(S===e)break t;if(O===r&&++x===l&&(m=g),O===f&&++I===a&&(w=g),(L=S.nextSibling)!==null)break;S=O,O=S.parentNode}S=L}r=m===-1||w===-1?null:{start:m,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(rc={focusedElem:e,selectionRange:r},Ls=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var F=j.memoizedProps,Q=j.memoizedState,M=t.stateNode,_=M.getSnapshotBeforeUpdate(t.elementType===t.type?F:Hn(t.type,F),Q);M.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){xt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return j=Lf,Lf=!1,j}function ia(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var f=l.destroy;l.destroy=void 0,f!==void 0&&wc(t,r,f)}l=l.next}while(l!==a)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function vc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dg(e){var t=e.alternate;t!==null&&(e.alternate=null,Dg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[ya],delete t[ac],delete t[pm],delete t[xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kg(e){return e.tag===5||e.tag===3||e.tag===4}function Pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(a!==4&&(e=e.child,e!==null))for(Ec(e,t,r),e=e.sibling;e!==null;)Ec(e,t,r),e=e.sibling}function Cc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Cc(e,t,r),e=e.sibling;e!==null;)Cc(e,t,r),e=e.sibling}var Pt=null,Vn=!1;function Nr(e,t,r){for(r=r.child;r!==null;)Lg(e,t,r),r=r.sibling}function Lg(e,t,r){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(sl,r)}catch{}switch(r.tag){case 5:Gt||eo(r,t);case 6:var a=Pt,l=Vn;Pt=null,Nr(e,t,r),Pt=a,Vn=l,Pt!==null&&(Vn?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Vn?(e=Pt,r=r.stateNode,e.nodeType===8?xu(e.parentNode,r):e.nodeType===1&&xu(e,r),ha(e)):xu(Pt,r.stateNode));break;case 4:a=Pt,l=Vn,Pt=r.stateNode.containerInfo,Vn=!0,Nr(e,t,r),Pt=a,Vn=l;break;case 0:case 11:case 14:case 15:if(!Gt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var f=l,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&wc(r,t,g),l=l.next}while(l!==a)}Nr(e,t,r);break;case 1:if(!Gt&&(eo(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(m){xt(r,t,m)}Nr(e,t,r);break;case 21:Nr(e,t,r);break;case 22:r.mode&1?(Gt=(a=Gt)||r.memoizedState!==null,Nr(e,t,r),Gt=a):Nr(e,t,r);break;default:Nr(e,t,r)}}function Bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rm),t.forEach(function(a){var l=Hm.bind(null,e,a);r.has(a)||(r.add(a),a.then(l,l))})}}function zn(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];try{var f=e,g=t,m=g;e:for(;m!==null;){switch(m.tag){case 5:Pt=m.stateNode,Vn=!1;break e;case 3:Pt=m.stateNode.containerInfo,Vn=!0;break e;case 4:Pt=m.stateNode.containerInfo,Vn=!0;break e}m=m.return}if(Pt===null)throw Error(J(160));Lg(f,g,l),Pt=null,Vn=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(x){xt(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pg(t,e),t=t.sibling}function Pg(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),tr(e),a&4){try{ia(3,e,e.return),pl(3,e)}catch(F){xt(e,e.return,F)}try{ia(5,e,e.return)}catch(F){xt(e,e.return,F)}}break;case 1:zn(t,e),tr(e),a&512&&r!==null&&eo(r,r.return);break;case 5:if(zn(t,e),tr(e),a&512&&r!==null&&eo(r,r.return),e.flags&32){var l=e.stateNode;try{ua(l,"")}catch(F){xt(e,e.return,F)}}if(a&4&&(l=e.stateNode,l!=null)){var f=e.memoizedProps,g=r!==null?r.memoizedProps:f,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&ih(l,f),Xu(m,g);var x=Xu(m,f);for(g=0;g<w.length;g+=2){var I=w[g],S=w[g+1];I==="style"?uh(l,S):I==="dangerouslySetInnerHTML"?sh(l,S):I==="children"?ua(l,S):Wc(l,I,S,x)}switch(m){case"input":zu(l,f);break;case"textarea":oh(l,f);break;case"select":var O=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!f.multiple;var L=f.value;L!=null?ro(l,!!f.multiple,L,!1):O!==!!f.multiple&&(f.defaultValue!=null?ro(l,!!f.multiple,f.defaultValue,!0):ro(l,!!f.multiple,f.multiple?[]:"",!1))}l[ya]=f}catch(F){xt(e,e.return,F)}}break;case 6:if(zn(t,e),tr(e),a&4){if(e.stateNode===null)throw Error(J(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(F){xt(e,e.return,F)}}break;case 3:if(zn(t,e),tr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(F){xt(e,e.return,F)}break;case 4:zn(t,e),tr(e);break;case 13:zn(t,e),tr(e),l=e.child,l.flags&8192&&(f=l.memoizedState!==null,l.stateNode.isHidden=f,!f||l.alternate!==null&&l.alternate.memoizedState!==null||(S0=yt())),a&4&&Bf(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Gt=(x=Gt)||I,zn(t,e),Gt=x):zn(t,e),tr(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&e.mode&1)for(ce=e,I=e.child;I!==null;){for(S=ce=I;ce!==null;){switch(O=ce,L=O.child,O.tag){case 0:case 11:case 14:case 15:ia(4,O,O.return);break;case 1:eo(O,O.return);var j=O.stateNode;if(typeof j.componentWillUnmount=="function"){a=O,r=O.return;try{t=a,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(F){xt(a,r,F)}}break;case 5:eo(O,O.return);break;case 22:if(O.memoizedState!==null){jf(S);continue}}L!==null?(L.return=O,ce=L):jf(S)}I=I.sibling}e:for(I=null,S=e;;){if(S.tag===5){if(I===null){I=S;try{l=S.stateNode,x?(f=l.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=S.stateNode,w=S.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=lh("display",g))}catch(F){xt(e,e.return,F)}}}else if(S.tag===6){if(I===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(F){xt(e,e.return,F)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;I===S&&(I=null),S=S.return}I===S&&(I=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:zn(t,e),tr(e),a&4&&Bf(e);break;case 21:break;default:zn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kg(r)){var a=r;break e}r=r.return}throw Error(J(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(ua(l,""),a.flags&=-33);var f=Pf(e);Cc(e,f,l);break;case 3:case 4:var g=a.stateNode.containerInfo,m=Pf(e);Ec(e,m,g);break;default:throw Error(J(161))}}catch(w){xt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function km(e,t,r){ce=e,Bg(e)}function Bg(e,t,r){for(var a=(e.mode&1)!==0;ce!==null;){var l=ce,f=l.child;if(l.tag===22&&a){var g=l.memoizedState!==null||cs;if(!g){var m=l.alternate,w=m!==null&&m.memoizedState!==null||Gt;m=cs;var x=Gt;if(cs=g,(Gt=w)&&!x)for(ce=l;ce!==null;)g=ce,w=g.child,g.tag===22&&g.memoizedState!==null?Uf(l):w!==null?(w.return=g,ce=w):Uf(l);for(;f!==null;)ce=f,Bg(f),f=f.sibling;ce=l,cs=m,Gt=x}Ff(e)}else l.subtreeFlags&8772&&f!==null?(f.return=l,ce=f):Ff(e)}}function Ff(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||pl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Gt)if(r===null)a.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Hn(t.type,r.memoizedProps);a.componentDidUpdate(l,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Cf(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cf(t,g,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var S=I.dehydrated;S!==null&&ha(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Gt||t.flags&512&&vc(t)}catch(O){xt(t,t.return,O)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function jf(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Uf(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pl(4,t)}catch(w){xt(t,r,w)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(w){xt(t,l,w)}}var f=t.return;try{vc(t)}catch(w){xt(t,f,w)}break;case 5:var g=t.return;try{vc(t)}catch(w){xt(t,g,w)}}}catch(w){xt(t,t.return,w)}if(t===e){ce=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ce=m;break}ce=t.return}}var Lm=Math.ceil,Qs=Er.ReactCurrentDispatcher,C0=Er.ReactCurrentOwner,kn=Er.ReactCurrentBatchConfig,Be=0,Rt=null,Et=null,Bt=0,mn=0,to=qr(0),Tt=0,Sa=null,Ei=0,xl=0,A0=0,oa=null,an=null,S0=0,xo=1/0,cr=null,$s=!1,Ac=null,Vr=null,fs=!1,Pr=null,Ks=0,aa=0,Sc=null,Ts=-1,bs=0;function Qt(){return Be&6?yt():Ts!==-1?Ts:Ts=yt()}function Gr(e){return e.mode&1?Be&2&&Bt!==0?Bt&-Bt:ym.transition!==null?(bs===0&&(bs=Eh()),bs):(e=He,e!==0||(e=window.event,e=e===void 0?16:bh(e.type)),e):1}function Yn(e,t,r,a){if(50<aa)throw aa=0,Sc=null,Error(J(185));ba(e,r,a),(!(Be&2)||e!==Rt)&&(e===Rt&&(!(Be&2)&&(xl|=r),Tt===4&&kr(e,Bt)),fn(e,a),r===1&&Be===0&&!(t.mode&1)&&(xo=yt()+500,dl&&Jr()))}function fn(e,t){var r=e.callbackNode;yx(e,t);var a=ks(e,e===Rt?Bt:0);if(a===0)r!==null&&Z1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Z1(r),t===1)e.tag===0?mm(zf.bind(null,e)):Yh(zf.bind(null,e)),hm(function(){!(Be&6)&&Jr()}),r=null;else{switch(Ch(a)){case 1:r=$c;break;case 4:r=wh;break;case 16:r=Ds;break;case 536870912:r=vh;break;default:r=Ds}r=Wg(r,Fg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fg(e,t){if(Ts=-1,bs=0,Be&6)throw Error(J(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var a=ks(e,e===Rt?Bt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=qs(e,a);else{t=a;var l=Be;Be|=2;var f=Ug();(Rt!==e||Bt!==t)&&(cr=null,xo=yt()+500,pi(e,t));do try{Fm();break}catch(m){jg(e,m)}while(!0);u0(),Qs.current=f,Be=l,Et!==null?t=0:(Rt=null,Bt=0,t=Tt)}if(t!==0){if(t===2&&(l=Ku(e),l!==0&&(a=l,t=Ic(e,l))),t===1)throw r=Sa,pi(e,0),kr(e,a),fn(e,yt()),r;if(t===6)kr(e,a);else{if(l=e.current.alternate,!(a&30)&&!Pm(l)&&(t=qs(e,a),t===2&&(f=Ku(e),f!==0&&(a=f,t=Ic(e,f))),t===1))throw r=Sa,pi(e,0),kr(e,a),fn(e,yt()),r;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(J(345));case 2:ci(e,an,cr);break;case 3:if(kr(e,a),(a&130023424)===a&&(t=S0+500-yt(),10<t)){if(ks(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){Qt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=oc(ci.bind(null,e,an,cr),t);break}ci(e,an,cr);break;case 4:if(kr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var g=31-Xn(a);f=1<<g,g=t[g],g>l&&(l=g),a&=~f}if(a=l,a=yt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Lm(a/1960))-a,10<a){e.timeoutHandle=oc(ci.bind(null,e,an,cr),a);break}ci(e,an,cr);break;case 5:ci(e,an,cr);break;default:throw Error(J(329))}}}return fn(e,yt()),e.callbackNode===r?Fg.bind(null,e):null}function Ic(e,t){var r=oa;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=qs(e,t),e!==2&&(t=an,an=r,t!==null&&_c(t)),e}function _c(e){an===null?an=e:an.push.apply(an,e)}function Pm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var l=r[a],f=l.getSnapshot;l=l.value;try{if(!Zn(f(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~A0,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xn(t),a=1<<r;e[r]=-1,t&=~a}}function zf(e){if(Be&6)throw Error(J(327));lo();var t=ks(e,0);if(!(t&1))return fn(e,yt()),null;var r=qs(e,t);if(e.tag!==0&&r===2){var a=Ku(e);a!==0&&(t=a,r=Ic(e,a))}if(r===1)throw r=Sa,pi(e,0),kr(e,t),fn(e,yt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ci(e,an,cr),fn(e,yt()),null}function I0(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(xo=yt()+500,dl&&Jr())}}function Ci(e){Pr!==null&&Pr.tag===0&&!(Be&6)&&lo();var t=Be;Be|=1;var r=kn.transition,a=He;try{if(kn.transition=null,He=1,e)return e()}finally{He=a,kn.transition=r,Be=t,!(Be&6)&&Jr()}}function _0(){mn=to.current,tt(to)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dm(r)),Et!==null)for(r=Et.return;r!==null;){var a=r;switch(a0(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&js();break;case 3:go(),tt(un),tt(Wt),p0();break;case 5:g0(a);break;case 4:go();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:c0(a.type._context);break;case 22:case 23:_0()}r=r.return}if(Rt=e,Et=e=Wr(e.current,null),Bt=mn=t,Tt=0,Sa=null,A0=xl=Ei=0,an=oa=null,hi!==null){for(t=0;t<hi.length;t++)if(r=hi[t],a=r.interleaved,a!==null){r.interleaved=null;var l=a.next,f=r.pending;if(f!==null){var g=f.next;f.next=l,a.next=g}r.pending=a}hi=null}return e}function jg(e,t){do{var r=Et;try{if(u0(),Ss.current=Zs,Ys){for(var a=ct.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Ys=!1}if(vi=0,Mt=_t=ct=null,ra=!1,Ea=0,C0.current=null,r===null||r.return===null){Tt=1,Sa=t,Et=null;break}e:{var f=e,g=r.return,m=r,w=t;if(t=Bt,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,I=m,S=I.tag;if(!(I.mode&1)&&(S===0||S===11||S===15)){var O=I.alternate;O?(I.updateQueue=O.updateQueue,I.memoizedState=O.memoizedState,I.lanes=O.lanes):(I.updateQueue=null,I.memoizedState=null)}var L=bf(g);if(L!==null){L.flags&=-257,Nf(L,g,m,f,t),L.mode&1&&Tf(f,x,t),t=L,w=x;var j=t.updateQueue;if(j===null){var F=new Set;F.add(w),t.updateQueue=F}else j.add(w);break e}else{if(!(t&1)){Tf(f,x,t),T0();break e}w=Error(J(426))}}else if(it&&m.mode&1){var Q=bf(g);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),Nf(Q,g,m,f,t),s0(po(w,m));break e}}f=w=po(w,m),Tt!==4&&(Tt=2),oa===null?oa=[f]:oa.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var M=Cg(f,w,t);Ef(f,M);break e;case 1:m=w;var _=f.type,b=f.stateNode;if(!(f.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vr===null||!Vr.has(b)))){f.flags|=65536,t&=-t,f.lanes|=t;var k=Ag(f,m,t);Ef(f,k);break e}}f=f.return}while(f!==null)}Hg(r)}catch(X){t=X,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function Ug(){var e=Qs.current;return Qs.current=Zs,e===null?Zs:e}function T0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||!(Ei&268435455)&&!(xl&268435455)||kr(Rt,Bt)}function qs(e,t){var r=Be;Be|=2;var a=Ug();(Rt!==e||Bt!==t)&&(cr=null,pi(e,t));do try{Bm();break}catch(l){jg(e,l)}while(!0);if(u0(),Be=r,Qs.current=a,Et!==null)throw Error(J(261));return Rt=null,Bt=0,Tt}function Bm(){for(;Et!==null;)zg(Et)}function Fm(){for(;Et!==null&&!ux();)zg(Et)}function zg(e){var t=Gg(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?Hg(e):Et=t,C0.current=null}function Hg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mm(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,Et=null;return}}else if(r=Om(r,t,mn),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Tt===0&&(Tt=5)}function ci(e,t,r){var a=He,l=kn.transition;try{kn.transition=null,He=1,jm(e,t,r,a)}finally{kn.transition=l,He=a}return null}function jm(e,t,r,a){do lo();while(Pr!==null);if(Be&6)throw Error(J(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(wx(e,f),e===Rt&&(Et=Rt=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fs||(fs=!0,Wg(Ds,function(){return lo(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=kn.transition,kn.transition=null;var g=He;He=1;var m=Be;Be|=4,C0.current=null,Dm(e,r),Pg(r,e),om(rc),Ls=!!nc,rc=nc=null,e.current=r,km(r),cx(),Be=m,He=g,kn.transition=f}else e.current=r;if(fs&&(fs=!1,Pr=e,Ks=l),f=e.pendingLanes,f===0&&(Vr=null),hx(r.stateNode),fn(e,yt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],a(l.value,{componentStack:l.stack,digest:l.digest});if($s)throw $s=!1,e=Ac,Ac=null,e;return Ks&1&&e.tag!==0&&lo(),f=e.pendingLanes,f&1?e===Sc?aa++:(aa=0,Sc=e):aa=0,Jr(),null}function lo(){if(Pr!==null){var e=Ch(Ks),t=kn.transition,r=He;try{if(kn.transition=null,He=16>e?16:e,Pr===null)var a=!1;else{if(e=Pr,Pr=null,Ks=0,Be&6)throw Error(J(331));var l=Be;for(Be|=4,ce=e.current;ce!==null;){var f=ce,g=f.child;if(ce.flags&16){var m=f.deletions;if(m!==null){for(var w=0;w<m.length;w++){var x=m[w];for(ce=x;ce!==null;){var I=ce;switch(I.tag){case 0:case 11:case 15:ia(8,I,f)}var S=I.child;if(S!==null)S.return=I,ce=S;else for(;ce!==null;){I=ce;var O=I.sibling,L=I.return;if(Dg(I),I===x){ce=null;break}if(O!==null){O.return=L,ce=O;break}ce=L}}}var j=f.alternate;if(j!==null){var F=j.child;if(F!==null){j.child=null;do{var Q=F.sibling;F.sibling=null,F=Q}while(F!==null)}}ce=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,ce=g;else e:for(;ce!==null;){if(f=ce,f.flags&2048)switch(f.tag){case 0:case 11:case 15:ia(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,ce=M;break e}ce=f.return}}var _=e.current;for(ce=_;ce!==null;){g=ce;var b=g.child;if(g.subtreeFlags&2064&&b!==null)b.return=g,ce=b;else e:for(g=_;ce!==null;){if(m=ce,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:pl(9,m)}}catch(X){xt(m,m.return,X)}if(m===g){ce=null;break e}var k=m.sibling;if(k!==null){k.return=m.return,ce=k;break e}ce=m.return}}if(Be=l,Jr(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(sl,e)}catch{}a=!0}return a}finally{He=r,kn.transition=t}}return!1}function Hf(e,t,r){t=po(r,t),t=Cg(e,t,1),e=Hr(e,t,1),t=Qt(),e!==null&&(ba(e,1,t),fn(e,t))}function xt(e,t,r){if(e.tag===3)Hf(e,e,r);else for(;t!==null;){if(t.tag===3){Hf(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vr===null||!Vr.has(a))){e=po(r,e),e=Ag(t,e,1),t=Hr(t,e,1),e=Qt(),t!==null&&(ba(t,1,e),fn(t,e));break}}t=t.return}}function Um(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Bt&r)===r&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>yt()-S0?pi(e,0):A0|=r),fn(e,t)}function Vg(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var r=Qt();e=wr(e,t),e!==null&&(ba(e,t,r),fn(e,r))}function zm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vg(e,r)}function Hm(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(t),Vg(e,r)}var Gg;Gg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)ln=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ln=!1,Nm(e,t,r);ln=!!(e.flags&131072)}else ln=!1,it&&t.flags&1048576&&Zh(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;_s(e,t),e=t.pendingProps;var l=co(t,Wt.current);so(t,r),l=m0(null,t,a,e,l,r);var f=y0();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(a)?(f=!0,Us(t)):f=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,d0(t),l.updater=gl,t.stateNode=l,l._reactInternals=t,dc(t,a,e,r),t=pc(null,t,a,!0,f,r)):(t.tag=0,it&&f&&o0(t),Zt(null,t,l,r),t=t.child),t;case 16:a=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=Gm(a),e=Hn(a,e),l){case 0:t=gc(null,t,a,e,r);break e;case 1:t=Rf(null,t,a,e,r);break e;case 11:t=Of(null,t,a,e,r);break e;case 14:t=Mf(null,t,a,Hn(a.type,e),r);break e}throw Error(J(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Hn(a,l),gc(e,t,a,l,r);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Hn(a,l),Rf(e,t,a,l,r);case 3:e:{if(Tg(t),e===null)throw Error(J(387));a=t.pendingProps,f=t.memoizedState,l=f.element,eg(e,t),Ws(t,a,null,r);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){l=po(Error(J(423)),t),t=Df(e,t,a,r,l);break e}else if(a!==l){l=po(Error(J(424)),t),t=Df(e,t,a,r,l);break e}else for(vn=zr(t.stateNode.containerInfo.firstChild),Cn=t,it=!0,Wn=null,r=qh(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fo(),a===l){t=vr(e,t,r);break e}Zt(e,t,a,r)}t=t.child}return t;case 5:return tg(t),e===null&&uc(t),a=t.type,l=t.pendingProps,f=e!==null?e.memoizedProps:null,g=l.children,ic(a,l)?g=null:f!==null&&ic(a,f)&&(t.flags|=32),_g(e,t),Zt(e,t,g,r),t.child;case 6:return e===null&&uc(t),null;case 13:return bg(e,t,r);case 4:return h0(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ho(t,null,a,r):Zt(e,t,a,r),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Hn(a,l),Of(e,t,a,l,r);case 7:return Zt(e,t,t.pendingProps,r),t.child;case 8:return Zt(e,t,t.pendingProps.children,r),t.child;case 12:return Zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,f=t.memoizedProps,g=l.value,Ke(Vs,a._currentValue),a._currentValue=g,f!==null)if(Zn(f.value,g)){if(f.children===l.children&&!un.current){t=vr(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var w=m.firstContext;w!==null;){if(w.context===a){if(f.tag===1){w=pr(-1,r&-r),w.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?w.next=w:(w.next=I.next,I.next=w),x.pending=w}}f.lanes|=r,w=f.alternate,w!==null&&(w.lanes|=r),cc(f.return,r,t),m.lanes|=r;break}w=w.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(J(341));g.lanes|=r,m=g.alternate,m!==null&&(m.lanes|=r),cc(g,r,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Zt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,so(t,r),l=Ln(l),a=a(l),t.flags|=1,Zt(e,t,a,r),t.child;case 14:return a=t.type,l=Hn(a,t.pendingProps),l=Hn(a.type,l),Mf(e,t,a,l,r);case 15:return Sg(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Hn(a,l),_s(e,t),t.tag=1,cn(a)?(e=!0,Us(t)):e=!1,so(t,r),Eg(t,a,l),dc(t,a,l,r),pc(null,t,a,!0,e,r);case 19:return Ng(e,t,r);case 22:return Ig(e,t,r)}throw Error(J(156,t.tag))};function Wg(e,t){return yh(e,t)}function Vm(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,a){return new Vm(e,t,r,a)}function b0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gm(e){if(typeof e=="function")return b0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Zc)return 14}return 2}function Wr(e,t){var r=e.alternate;return r===null?(r=Dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ns(e,t,r,a,l,f){var g=2;if(a=e,typeof e=="function")b0(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Wi:return xi(r.children,l,f,t);case Xc:g=8,l|=8;break;case Pu:return e=Dn(12,r,t,l|2),e.elementType=Pu,e.lanes=f,e;case Bu:return e=Dn(13,r,t,l),e.elementType=Bu,e.lanes=f,e;case Fu:return e=Dn(19,r,t,l),e.elementType=Fu,e.lanes=f,e;case th:return ml(r,l,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jd:g=10;break e;case eh:g=9;break e;case Yc:g=11;break e;case Zc:g=14;break e;case Mr:g=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Dn(g,r,t,l),t.elementType=e,t.type=a,t.lanes=f,t}function xi(e,t,r,a){return e=Dn(7,e,a,t),e.lanes=r,e}function ml(e,t,r,a){return e=Dn(22,e,a,t),e.elementType=th,e.lanes=r,e.stateNode={isHidden:!1},e}function Su(e,t,r){return e=Dn(6,e,null,t),e.lanes=r,e}function Iu(e,t,r){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wm(e,t,r,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function N0(e,t,r,a,l,f,g,m,w){return e=new Wm(e,t,r,m,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},d0(f),e}function Xm(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Xg(e){if(!e)return Qr;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(cn(r))return Xh(e,r,t)}return t}function Yg(e,t,r,a,l,f,g,m,w){return e=N0(r,a,!0,e,l,f,g,m,w),e.context=Xg(null),r=e.current,a=Qt(),l=Gr(r),f=pr(a,l),f.callback=t??null,Hr(r,f,l),e.current.lanes=l,ba(e,l,a),fn(e,a),e}function yl(e,t,r,a){var l=t.current,f=Qt(),g=Gr(l);return r=Xg(r),t.context===null?t.context=r:t.pendingContext=r,t=pr(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Hr(l,t,g),e!==null&&(Yn(e,l,g,f),As(e,l,g)),g}function Js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function O0(e,t){Vf(e,t),(e=e.alternate)&&Vf(e,t)}function Ym(){return null}var Zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function M0(e){this._internalRoot=e}wl.prototype.render=M0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));yl(e,t,null,null)};wl.prototype.unmount=M0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ci(function(){yl(null,e,null,null)}),t[yr]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ih();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&Th(e)}};function R0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function Zm(e,t,r,a,l){if(l){if(typeof a=="function"){var f=a;a=function(){var x=Js(g);f.call(x)}}var g=Yg(t,a,e,0,null,!1,!1,"",Gf);return e._reactRootContainer=g,e[yr]=g.current,xa(e.nodeType===8?e.parentNode:e),Ci(),g}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var m=a;a=function(){var x=Js(w);m.call(x)}}var w=N0(e,0,!1,null,null,!1,!1,"",Gf);return e._reactRootContainer=w,e[yr]=w.current,xa(e.nodeType===8?e.parentNode:e),Ci(function(){yl(t,w,r,a)}),w}function El(e,t,r,a,l){var f=r._reactRootContainer;if(f){var g=f;if(typeof l=="function"){var m=l;l=function(){var w=Js(g);m.call(w)}}yl(t,g,e,l)}else g=Zm(r,t,e,l,a);return Js(g)}Ah=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qo(t.pendingLanes);r!==0&&(Kc(t,r|1),fn(t,yt()),!(Be&6)&&(xo=yt()+500,Jr()))}break;case 13:Ci(function(){var a=wr(e,1);if(a!==null){var l=Qt();Yn(a,e,1,l)}}),O0(e,1)}};qc=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var r=Qt();Yn(t,e,134217728,r)}O0(e,134217728)}};Sh=function(e){if(e.tag===13){var t=Gr(e),r=wr(e,t);if(r!==null){var a=Qt();Yn(r,e,t,a)}O0(e,t)}};Ih=function(){return He};_h=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};Zu=function(e,t,r){switch(t){case"input":if(zu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var l=fl(a);if(!l)throw Error(J(90));rh(a),zu(a,l)}}}break;case"textarea":oh(e,r);break;case"select":t=r.value,t!=null&&ro(e,!!r.multiple,t,!1)}};dh=I0;hh=Ci;var Qm={usingClientEntryPoint:!1,Events:[Oa,Qi,fl,ch,fh,I0]},Vo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$m={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xh(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{sl=ds.inject($m),sr=ds}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;Sn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(t))throw Error(J(200));return Xm(e,t,null,r)};Sn.createRoot=function(e,t){if(!R0(e))throw Error(J(299));var r=!1,a="",l=Zg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=N0(e,1,!1,null,null,r,!1,a,l),e[yr]=t.current,xa(e.nodeType===8?e.parentNode:e),new M0(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=xh(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return Ci(e)};Sn.hydrate=function(e,t,r){if(!vl(t))throw Error(J(200));return El(null,e,t,!0,r)};Sn.hydrateRoot=function(e,t,r){if(!R0(e))throw Error(J(405));var a=r!=null&&r.hydratedSources||null,l=!1,f="",g=Zg;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=Yg(t,null,e,1,r??null,l,!1,f,g),e[yr]=t.current,xa(e),a)for(e=0;e<a.length;e++)r=a[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new wl(t)};Sn.render=function(e,t,r){if(!vl(t))throw Error(J(200));return El(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!vl(e))throw Error(J(40));return e._reactRootContainer?(Ci(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};Sn.unstable_batchedUpdates=I0;Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!vl(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return El(e,t,r,!1,a)};Sn.version="18.3.1-next-f1338f8080-20240426";function Qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qg)}catch(e){console.error(e)}}Qg(),Qd.exports=Sn;var Km=Qd.exports,Wf=Km;ku.createRoot=Wf.createRoot,ku.hydrateRoot=Wf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ia.apply(this,arguments)}var Br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Br||(Br={}));const Xf="popstate";function qm(e){e===void 0&&(e={});function t(a,l){let{pathname:f,search:g,hash:m}=a.location;return Tc("",{pathname:f,search:g,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:el(l)}return ey(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jm(){return Math.random().toString(36).substr(2,8)}function Yf(e,t){return{usr:e.state,key:e.key,idx:t}}function Tc(e,t,r,a){return r===void 0&&(r=null),Ia({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:r,key:t&&t.key||a||Jm()})}function el(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Co(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ey(e,t,r,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:f=!1}=a,g=l.history,m=Br.Pop,w=null,x=I();x==null&&(x=0,g.replaceState(Ia({},g.state,{idx:x}),""));function I(){return(g.state||{idx:null}).idx}function S(){m=Br.Pop;let Q=I(),M=Q==null?null:Q-x;x=Q,w&&w({action:m,location:F.location,delta:M})}function O(Q,M){m=Br.Push;let _=Tc(F.location,Q,M);x=I()+1;let b=Yf(_,x),k=F.createHref(_);try{g.pushState(b,"",k)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(k)}f&&w&&w({action:m,location:F.location,delta:1})}function L(Q,M){m=Br.Replace;let _=Tc(F.location,Q,M);x=I();let b=Yf(_,x),k=F.createHref(_);g.replaceState(b,"",k),f&&w&&w({action:m,location:F.location,delta:0})}function j(Q){let M=l.location.origin!=="null"?l.location.origin:l.location.href,_=typeof Q=="string"?Q:el(Q);return _=_.replace(/ $/,"%20"),Ct(M,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,M)}let F={get action(){return m},get location(){return e(l,g)},listen(Q){if(w)throw new Error("A history only accepts one active listener");return l.addEventListener(Xf,S),w=Q,()=>{l.removeEventListener(Xf,S),w=null}},createHref(Q){return t(l,Q)},createURL:j,encodeLocation(Q){let M=j(Q);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:O,replace:L,go(Q){return g.go(Q)}};return F}var Zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zf||(Zf={}));function ty(e,t,r){return r===void 0&&(r="/"),ny(e,t,r)}function ny(e,t,r,a){let l=typeof t=="string"?Co(t):t,f=k0(l.pathname||"/",r);if(f==null)return null;let g=$g(e);ry(g);let m=null;for(let w=0;m==null&&w<g.length;++w){let x=py(f);m=dy(g[w],x)}return m}function $g(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let l=(f,g,m)=>{let w={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};w.relativePath.startsWith("/")&&(Ct(w.relativePath.startsWith(a),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(a.length));let x=Xr([a,w.relativePath]),I=r.concat(w);f.children&&f.children.length>0&&(Ct(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),$g(f.children,t,I,x)),!(f.path==null&&!f.index)&&t.push({path:x,score:cy(x,f.index),routesMeta:I})};return e.forEach((f,g)=>{var m;if(f.path===""||!((m=f.path)!=null&&m.includes("?")))l(f,g);else for(let w of Kg(f.path))l(f,g,w)}),t}function Kg(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),f=r.replace(/\?$/,"");if(a.length===0)return l?[f,""]:[f];let g=Kg(a.join("/")),m=[];return m.push(...g.map(w=>w===""?f:[f,w].join("/"))),l&&m.push(...g),m.map(w=>e.startsWith("/")&&w===""?"/":w)}function ry(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fy(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const iy=/^:[\w-]+$/,oy=3,ay=2,sy=1,ly=10,uy=-2,Qf=e=>e==="*";function cy(e,t){let r=e.split("/"),a=r.length;return r.some(Qf)&&(a+=uy),t&&(a+=ay),r.filter(l=>!Qf(l)).reduce((l,f)=>l+(iy.test(f)?oy:f===""?sy:ly),a)}function fy(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function dy(e,t,r){let{routesMeta:a}=e,l={},f="/",g=[];for(let m=0;m<a.length;++m){let w=a[m],x=m===a.length-1,I=f==="/"?t:t.slice(f.length)||"/",S=hy({path:w.relativePath,caseSensitive:w.caseSensitive,end:x},I),O=w.route;if(!S)return null;Object.assign(l,S.params),g.push({params:l,pathname:Xr([f,S.pathname]),pathnameBase:vy(Xr([f,S.pathnameBase])),route:O}),S.pathnameBase!=="/"&&(f=Xr([f,S.pathnameBase]))}return g}function hy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=gy(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let f=l[0],g=f.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((x,I,S)=>{let{paramName:O,isOptional:L}=I;if(O==="*"){let F=m[S]||"";g=f.slice(0,f.length-F.length).replace(/(.)\/+$/,"$1")}const j=m[S];return L&&!j?x[O]=void 0:x[O]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:g,pattern:e}}function gy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),D0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,m,w)=>(a.push({paramName:m,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function py(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return D0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function k0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=e=>xy.test(e);function yy(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:l=""}=typeof e=="string"?Co(e):e,f;if(r)if(my(r))f=r;else{if(r.includes("//")){let g=r;r=r.replace(/\/\/+/g,"/"),D0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(g+" -> "+r))}r.startsWith("/")?f=$f(r.substring(1),"/"):f=$f(r,t)}else f=t;return{pathname:f,search:Ey(a),hash:Cy(l)}}function $f(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function _u(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qg(e,t){let r=wy(e);return t?r.map((a,l)=>l===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Jg(e,t,r,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=Co(e):(l=Ia({},e),Ct(!l.pathname||!l.pathname.includes("?"),_u("?","pathname","search",l)),Ct(!l.pathname||!l.pathname.includes("#"),_u("#","pathname","hash",l)),Ct(!l.search||!l.search.includes("#"),_u("#","search","hash",l)));let f=e===""||l.pathname==="",g=f?"/":l.pathname,m;if(g==null)m=r;else{let S=t.length-1;if(!a&&g.startsWith("..")){let O=g.split("/");for(;O[0]==="..";)O.shift(),S-=1;l.pathname=O.join("/")}m=S>=0?t[S]:"/"}let w=yy(l,m),x=g&&g!=="/"&&g.endsWith("/"),I=(f||g===".")&&r.endsWith("/");return!w.pathname.endsWith("/")&&(x||I)&&(w.pathname+="/"),w}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),vy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ey=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ay(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ep=["post","put","patch","delete"];new Set(ep);const Sy=["get",...ep];new Set(Sy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_a.apply(this,arguments)}const L0=Y.createContext(null),Iy=Y.createContext(null),Ii=Y.createContext(null),Cl=Y.createContext(null),ei=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),tp=Y.createContext(null);function _y(e,t){let{relative:r}=t===void 0?{}:t;Ra()||Ct(!1);let{basename:a,navigator:l}=Y.useContext(Ii),{hash:f,pathname:g,search:m}=rp(e,{relative:r}),w=g;return a!=="/"&&(w=g==="/"?a:Xr([a,g])),l.createHref({pathname:w,search:m,hash:f})}function Ra(){return Y.useContext(Cl)!=null}function Da(){return Ra()||Ct(!1),Y.useContext(Cl).location}function np(e){Y.useContext(Ii).static||Y.useLayoutEffect(e)}function Ty(){let{isDataRoute:e}=Y.useContext(ei);return e?Hy():by()}function by(){Ra()||Ct(!1);let e=Y.useContext(L0),{basename:t,future:r,navigator:a}=Y.useContext(Ii),{matches:l}=Y.useContext(ei),{pathname:f}=Da(),g=JSON.stringify(qg(l,r.v7_relativeSplatPath)),m=Y.useRef(!1);return np(()=>{m.current=!0}),Y.useCallback(function(x,I){if(I===void 0&&(I={}),!m.current)return;if(typeof x=="number"){a.go(x);return}let S=Jg(x,JSON.parse(g),f,I.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Xr([t,S.pathname])),(I.replace?a.replace:a.push)(S,I.state,I)},[t,a,g,f,e])}const Ny=Y.createContext(null);function Oy(e){let t=Y.useContext(ei).outlet;return t&&Y.createElement(Ny.Provider,{value:e},t)}function rp(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=Y.useContext(Ii),{matches:l}=Y.useContext(ei),{pathname:f}=Da(),g=JSON.stringify(qg(l,a.v7_relativeSplatPath));return Y.useMemo(()=>Jg(e,JSON.parse(g),f,r==="path"),[e,g,f,r])}function My(e,t){return Ry(e,t)}function Ry(e,t,r,a){Ra()||Ct(!1);let{navigator:l}=Y.useContext(Ii),{matches:f}=Y.useContext(ei),g=f[f.length-1],m=g?g.params:{};g&&g.pathname;let w=g?g.pathnameBase:"/";g&&g.route;let x=Da(),I;if(t){var S;let Q=typeof t=="string"?Co(t):t;w==="/"||(S=Q.pathname)!=null&&S.startsWith(w)||Ct(!1),I=Q}else I=x;let O=I.pathname||"/",L=O;if(w!=="/"){let Q=w.replace(/^\//,"").split("/");L="/"+O.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=ty(e,{pathname:L}),F=By(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Xr([w,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?w:Xr([w,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,r,a);return t&&F?Y.createElement(Cl.Provider,{value:{location:_a({pathname:"/",search:"",hash:"",state:null,key:"default"},I),navigationType:Br.Pop}},F):F}function Dy(){let e=zy(),t=Ay(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),r?Y.createElement("pre",{style:l},r):null,null)}const ky=Y.createElement(Dy,null);class Ly extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Y.createElement(ei.Provider,{value:this.props.routeContext},Y.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Py(e){let{routeContext:t,match:r,children:a}=e,l=Y.useContext(L0);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(ei.Provider,{value:t},a)}function By(e,t,r,a){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var f;if(!r)return null;if(r.errors)e=r.matches;else if((f=a)!=null&&f.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let g=e,m=(l=r)==null?void 0:l.errors;if(m!=null){let I=g.findIndex(S=>S.route.id&&(m==null?void 0:m[S.route.id])!==void 0);I>=0||Ct(!1),g=g.slice(0,Math.min(g.length,I+1))}let w=!1,x=-1;if(r&&a&&a.v7_partialHydration)for(let I=0;I<g.length;I++){let S=g[I];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(x=I),S.route.id){let{loaderData:O,errors:L}=r,j=S.route.loader&&O[S.route.id]===void 0&&(!L||L[S.route.id]===void 0);if(S.route.lazy||j){w=!0,x>=0?g=g.slice(0,x+1):g=[g[0]];break}}}return g.reduceRight((I,S,O)=>{let L,j=!1,F=null,Q=null;r&&(L=m&&S.route.id?m[S.route.id]:void 0,F=S.route.errorElement||ky,w&&(x<0&&O===0?(Vy("route-fallback"),j=!0,Q=null):x===O&&(j=!0,Q=S.route.hydrateFallbackElement||null)));let M=t.concat(g.slice(0,O+1)),_=()=>{let b;return L?b=F:j?b=Q:S.route.Component?b=Y.createElement(S.route.Component,null):S.route.element?b=S.route.element:b=I,Y.createElement(Py,{match:S,routeContext:{outlet:I,matches:M,isDataRoute:r!=null},children:b})};return r&&(S.route.ErrorBoundary||S.route.errorElement||O===0)?Y.createElement(Ly,{location:r.location,revalidation:r.revalidation,component:F,error:L,children:_(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):_()},null)}var ip=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ip||{}),op=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(op||{});function Fy(e){let t=Y.useContext(L0);return t||Ct(!1),t}function jy(e){let t=Y.useContext(Iy);return t||Ct(!1),t}function Uy(e){let t=Y.useContext(ei);return t||Ct(!1),t}function ap(e){let t=Uy(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function zy(){var e;let t=Y.useContext(tp),r=jy(),a=ap();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function Hy(){let{router:e}=Fy(ip.UseNavigateStable),t=ap(op.UseNavigateStable),r=Y.useRef(!1);return np(()=>{r.current=!0}),Y.useCallback(function(l,f){f===void 0&&(f={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,_a({fromRouteId:t},f)))},[e,t])}const Kf={};function Vy(e,t,r){Kf[e]||(Kf[e]=!0)}function Gy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wy(e){return Oy(e.context)}function fi(e){Ct(!1)}function Xy(e){let{basename:t="/",children:r=null,location:a,navigationType:l=Br.Pop,navigator:f,static:g=!1,future:m}=e;Ra()&&Ct(!1);let w=t.replace(/^\/*/,"/"),x=Y.useMemo(()=>({basename:w,navigator:f,static:g,future:_a({v7_relativeSplatPath:!1},m)}),[w,m,f,g]);typeof a=="string"&&(a=Co(a));let{pathname:I="/",search:S="",hash:O="",state:L=null,key:j="default"}=a,F=Y.useMemo(()=>{let Q=k0(I,w);return Q==null?null:{location:{pathname:Q,search:S,hash:O,state:L,key:j},navigationType:l}},[w,I,S,O,L,j,l]);return F==null?null:Y.createElement(Ii.Provider,{value:x},Y.createElement(Cl.Provider,{children:r,value:F}))}function Yy(e){let{children:t,location:r}=e;return My(bc(t),r)}new Promise(()=>{});function bc(e,t){t===void 0&&(t=[]);let r=[];return Y.Children.forEach(e,(a,l)=>{if(!Y.isValidElement(a))return;let f=[...t,l];if(a.type===Y.Fragment){r.push.apply(r,bc(a.props.children,f));return}a.type!==fi&&Ct(!1),!a.props.index||!a.props.children||Ct(!1);let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=bc(a.props.children,f)),r.push(g)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nc.apply(this,arguments)}function Zy(e,t){if(e==null)return{};var r={},a=Object.keys(e),l,f;for(f=0;f<a.length;f++)l=a[f],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function Qy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $y(e,t){return e.button===0&&(!t||t==="_self")&&!Qy(e)}const Ky=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qy="6";try{window.__reactRouterVersion=qy}catch{}const Jy="startTransition",qf=U2[Jy];function ew(e){let{basename:t,children:r,future:a,window:l}=e,f=Y.useRef();f.current==null&&(f.current=qm({window:l,v5Compat:!0}));let g=f.current,[m,w]=Y.useState({action:g.action,location:g.location}),{v7_startTransition:x}=a||{},I=Y.useCallback(S=>{x&&qf?qf(()=>w(S)):w(S)},[w,x]);return Y.useLayoutEffect(()=>g.listen(I),[g,I]),Y.useEffect(()=>Gy(a),[a]),Y.createElement(Xy,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:g,future:a})}const tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sp=Y.forwardRef(function(t,r){let{onClick:a,relative:l,reloadDocument:f,replace:g,state:m,target:w,to:x,preventScrollReset:I,viewTransition:S}=t,O=Zy(t,Ky),{basename:L}=Y.useContext(Ii),j,F=!1;if(typeof x=="string"&&nw.test(x)&&(j=x,tw))try{let b=new URL(window.location.href),k=x.startsWith("//")?new URL(b.protocol+x):new URL(x),X=k0(k.pathname,L);k.origin===b.origin&&X!=null?x=X+k.search+k.hash:F=!0}catch{}let Q=_y(x,{relative:l}),M=rw(x,{replace:g,state:m,target:w,preventScrollReset:I,relative:l,viewTransition:S});function _(b){a&&a(b),b.defaultPrevented||M(b)}return Y.createElement("a",Nc({},O,{href:j||Q,onClick:F||f?a:_,ref:r,target:w}))});var Jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var ed;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ed||(ed={}));function rw(e,t){let{target:r,replace:a,state:l,preventScrollReset:f,relative:g,viewTransition:m}=t===void 0?{}:t,w=Ty(),x=Da(),I=rp(e,{relative:g});return Y.useCallback(S=>{if($y(S,r)){S.preventDefault();let O=a!==void 0?a:el(x)===el(I);w(e,{replace:O,state:l,preventScrollReset:f,relative:g,viewTransition:m})}},[x,w,I,a,l,r,e,f,g,m])}/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(e,t)=>{const r=Y.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:m="",children:w,...x},I)=>Y.createElement("svg",{ref:I,...iw,width:l,height:l,stroke:a,strokeWidth:g?Number(f)*24/Number(l):f,className:["lucide",`lucide-${ow(e)}`,m].join(" "),...x},[...t.map(([S,O])=>Y.createElement(S,O)),...Array.isArray(w)?w:[w]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ot("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ot("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ot("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ot("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ot("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ot("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ot("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ot("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ot("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ot("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ot("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ot("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ot("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ot("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ot("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function up(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=up(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Rc(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=up(e))&&(a&&(a+=" "),a+=t);return a}const yw={th:{nav:{dashboard:"",scan:"",history:"",language:""},dashboard:{title:"",subtitle:"",totalProducts:"",totalProductsSub:"",lowStockAlerts:"",lowStockAlertsSub:"",transactionsToday:"",transactionsTodaySub:"+4 ",readyTitle:"?",readyDesc:"  Google Sheets ",startScanning:""},scan:{title:"",subtitle:"",manualEntry:"",enterBarcode:"...",quickTip:"",quickTipText:' "" ',loading:"...",backToScanner:"",adjustStock:"",receive:"+  (IN)",issue:"-  (OUT)",attachPhoto:" ()",confirm:"",productNotFound:"",errorFetching:"",stockUpdated:"!",failedUpdate:""},history:{title:"",subtitle:"",loading:"...",by:"",noHistory:""},inventory:{barcode:"",category:"",currentStock:"",minStock:"",price:"",unit:"",lastUpdated:"",location:"",shelf:"",row:"",aisle:""},common:{loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",search:"",filter:"",export:"",import:""},print:{title:"",preview:"",settings:"",width:" (mm)",height:" (mm)",fontSize:"",copies:"",showPrice:"",standardSizes:"",productInfo:"",barcode:":",name:":",price:":",print:""}},en:{nav:{dashboard:"Dashboard",scan:"Scan & Adjust",history:"History",language:"Language"},dashboard:{title:"Dashboard",subtitle:"Overview of your inventory status",totalProducts:"Total Products",totalProductsSub:"Active items in database",lowStockAlerts:"Low Stock Alerts",lowStockAlertsSub:"Items requiring attention",transactionsToday:"Transactions Today",transactionsTodaySub:"+4 from yesterday",readyTitle:"Ready to manage stock?",readyDesc:"Use the scanner to quickly receive or issue items. The system will automatically update Google Sheets in real-time.",startScanning:"Start Scanning"},scan:{title:"Scan Product",subtitle:"Point camera at barcode or enter manually",manualEntry:"Or manually enter code",enterBarcode:"Enter Barcode ID...",quickTip:"Quick Tip",quickTipText:'Enter "Product Code" to search',loading:"Looking up product...",backToScanner:"Back to Scanner",adjustStock:"Adjust Stock",receive:"+ RECEIVE (IN)",issue:"- ISSUE (OUT)",attachPhoto:"Attach proof photo (Optional)",confirm:"CONFIRM",productNotFound:"Product not found for barcode",errorFetching:"Error fetching product",stockUpdated:"Stock updated successfully!",failedUpdate:"Failed to update stock"},history:{title:"Transaction History",subtitle:"Recent stock movements",loading:"Loading history...",by:"by",noHistory:"No transaction history yet"},inventory:{barcode:"Barcode",category:"Category",currentStock:"Current Stock",minStock:"Min Stock",price:"Price",unit:"Unit",lastUpdated:"Last Updated",location:"Location",shelf:"Shelf",row:"Row",aisle:"Aisle"},common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",export:"Export",import:"Import"},print:{title:"Print Barcode Label",preview:"Preview",settings:"Print Settings",width:"Width (mm)",height:"Height (mm)",fontSize:"Font Size",copies:"Copies",showPrice:"Show Price",standardSizes:"Standard Label Sizes",productInfo:"Product Information",barcode:"Barcode:",name:"Name:",price:"Price:",print:"Print"}}},cp=Y.createContext(),_i=()=>{const e=Y.useContext(cp);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},ww=({children:e})=>{const[t,r]=Y.useState(()=>localStorage.getItem("language")||"th");Y.useEffect(()=>{localStorage.setItem("language",t)},[t]);const a=()=>{r(f=>f==="th"?"en":"th")},l=f=>{const g=f.split(".");let m=yw[t];for(const w of g)if(m=m==null?void 0:m[w],m===void 0)return console.warn(`Translation key not found: ${f}`),f;return m};return A.jsx(cp.Provider,{value:{language:t,setLanguage:r,toggleLanguage:a,t:l},children:e})},li=({to:e,icon:t,label:r,active:a})=>A.jsxs(sp,{to:e,className:Rc("flex flex-col items-center justify-center w-full py-2 text-xs font-medium transition-colors duration-200 md:flex-row md:justify-start md:px-4 md:py-3 md:text-sm md:gap-3 md:rounded-lg no-select",a?"text-primary bg-blue-50 md:bg-blue-50":"text-slate-500 hover:text-primary hover:bg-slate-50"),children:[A.jsx(t,{className:Rc("w-6 h-6 md:w-5 md:h-5",a&&"text-primary")}),A.jsx("span",{children:r})]}),vw=()=>{var f;const t=Da().pathname,{language:r,toggleLanguage:a,t:l}=_i();return A.jsxs("div",{className:"flex flex-col h-screen-safe bg-slate-50 md:flex-row overflow-hidden",children:[A.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white border-r border-slate-200 shadow-sm h-full",children:[A.jsxs("div",{className:"p-6 flex items-center gap-3 flex-shrink-0",children:[A.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:A.jsx(tl,{className:"w-6 h-6 text-primary"})}),A.jsxs("h1",{className:"text-xl font-bold text-slate-800 tracking-tight",children:["OptiStock ",A.jsx("span",{className:"text-primary",children:"AI"})]})]}),A.jsxs("nav",{className:"flex-1 px-4 space-y-2 mt-4 overflow-y-auto scrollable",children:[A.jsx(li,{to:"/",icon:id,label:l("nav.dashboard"),active:t==="/"}),A.jsx(li,{to:"/scan",icon:od,label:l("nav.scan"),active:t==="/scan"}),A.jsx(li,{to:"/history",icon:nd,label:l("nav.history"),active:t==="/history"}),A.jsx(li,{to:"/ai-analysis",icon:Mc,label:"AI Insights",active:t==="/ai-analysis"})]}),A.jsx("div",{className:"px-4 pb-4 flex-shrink-0",children:A.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium transition-colors",children:[A.jsx(rd,{className:"w-5 h-5"}),A.jsx("span",{children:r==="th"?"":"English"})]})}),A.jsx("div",{className:"p-4 border-t border-slate-100 flex-shrink-0",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-500",children:"AD"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Admin User"}),A.jsx("p",{className:"text-xs text-slate-400",children:"admin@example.com"})]})]})})]}),A.jsx("main",{className:"flex-1 flex flex-col overflow-hidden",children:A.jsx("div",{className:"flex-1 overflow-y-auto scrollable pb-20 md:pb-0",children:A.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:A.jsx(Wy,{})})})}),A.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around items-center px-1 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-50 flex-shrink-0",children:[A.jsx(li,{to:"/",icon:id,label:(f=l("nav.dashboard"))==null?void 0:f.split(" ")[0],active:t==="/"}),A.jsx(li,{to:"/ai-analysis",icon:Mc,label:"AI",active:t==="/ai-analysis"}),A.jsx("div",{className:"relative -top-5 mx-2",children:A.jsx(sp,{to:"/scan",className:"flex items-center justify-center w-14 h-14 rounded-full bg-primary text-white shadow-lg shadow-primary/30 active:scale-95 transition-transform",children:A.jsx(od,{className:"w-7 h-7"})})}),A.jsx(li,{to:"/history",icon:nd,label:l("nav.history"),active:t==="/history"}),A.jsxs("button",{onClick:a,className:"flex flex-col items-center justify-center w-full py-2 text-xs font-medium text-slate-500 hover:text-primary transition-colors no-select",children:[A.jsx(rd,{className:"w-6 h-6"}),A.jsx("span",{children:r==="th"?"TH":"EN"})]})]})]})};var fp={exports:{}};(function(e,t){(function(r,a){e.exports=a(Y)})(typeof self<"u"?self:Vi,function(r){return function(){var a={155:function(_){_.exports=r}},l={};function f(_){var b=l[_];if(b!==void 0)return b.exports;var k=l[_]={exports:{}};return a[_](k,k.exports,f),k.exports}f.d=function(_,b){for(var k in b)f.o(b,k)&&!f.o(_,k)&&Object.defineProperty(_,k,{enumerable:!0,get:b[k]})},f.o=function(_,b){return Object.prototype.hasOwnProperty.call(_,b)},f.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var g={};f.r(g),f.d(g,{useReactToPrint:function(){return M}});var m=f(155);const w="printWindow";function x({level:_="error",messages:b,suppressErrors:k=!1}){k||(_==="error"?console.error(b):_==="warning"?console.warn(b):console.debug(b))}function I(_,b){if(b||!_){const k=document.getElementById(w);k&&document.body.removeChild(k)}}function S(_){return _ instanceof Error?_:new Error("Unknown Error")}function O(_,b){const{documentTitle:k,onAfterPrint:X,onPrintError:$,preserveAfterPrint:U,print:W,suppressErrors:H}=b;setTimeout(()=>{var ae,ye;if(_.contentWindow){let ie=function(){X==null||X(),I(U)};var Z=ie;if(_.contentWindow.focus(),W)W(_).then(ie).catch(fe=>{$?$("print",S(fe)):x({messages:["An error was thrown by the specified `print` function"],suppressErrors:H})});else{if(_.contentWindow.print){const fe=(ye=(ae=_.contentDocument)===null||ae===void 0?void 0:ae.title)!==null&&ye!==void 0?ye:"",B=_.ownerDocument.title;k&&(_.ownerDocument.title=k,_.contentDocument&&(_.contentDocument.title=k)),_.contentWindow.print(),k&&(_.ownerDocument.title=B,_.contentDocument&&(_.contentDocument.title=fe))}else x({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:H});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(fe=>{var B,Te;return((Te=(B=navigator.userAgent)!==null&&B!==void 0?B:navigator.vendor)!==null&&Te!==void 0?Te:"opera"in window&&window.opera).match(fe)})?setTimeout(ie,500):ie()}}else x({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:H})},500)}function L(_){const b=[],k=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,null);let X=k.nextNode();for(;X;)b.push(X),X=k.nextNode();return b}function j(_,b,k){const X=L(_),$=L(b);if(X.length===$.length)for(let U=0;U<X.length;U++){const W=X[U],H=$[U],ae=W.shadowRoot;if(ae!==null){const ye=H.attachShadow({mode:ae.mode});ye.innerHTML=ae.innerHTML,j(ae,ye,k)}}else x({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",_,b],suppressErrors:k})}const F=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function Q(_,b,k,X){var $,U,W,H,ae;const{contentNode:ye,clonedContentNode:Z,clonedImgNodes:ie,clonedVideoNodes:fe,numResourcesToLoad:B,originalCanvasNodes:Te}=k,{bodyClass:we,fonts:re,ignoreGlobalStyles:pe,pageStyle:he,nonce:Re,suppressErrors:Ae,copyShadowRoots:jt}=X;_.onload=null;const xe=($=_.contentDocument)!==null&&$!==void 0?$:(U=_.contentWindow)===null||U===void 0?void 0:U.document;if(xe){const Ge=xe.body.appendChild(Z);jt&&j(ye,Ge,!!Ae),re&&(!((W=_.contentDocument)===null||W===void 0)&&W.fonts&&(!((H=_.contentWindow)===null||H===void 0)&&H.FontFace)?re.forEach(ke=>{const oe=new FontFace(ke.family,ke.source,{weight:ke.weight,style:ke.style});_.contentDocument.fonts.add(oe),oe.loaded.then(()=>{b(oe)}).catch(st=>{b(oe,["Failed loading the font:",oe,"Load error:",S(st)])})}):(re.forEach(ke=>{b(ke)}),x({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Ae})));const se=he??F,wt=xe.createElement("style");Re&&(wt.setAttribute("nonce",Re),xe.head.setAttribute("nonce",Re)),wt.appendChild(xe.createTextNode(se)),xe.head.appendChild(wt),we&&xe.body.classList.add(...we.split(" "));const Ze=xe.querySelectorAll("canvas");for(let ke=0;ke<Te.length;++ke){const oe=Te[ke],st=Ze[ke];if(st===void 0){x({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",oe],suppressErrors:Ae});continue}const be=st.getContext("2d");be&&be.drawImage(oe,0,0)}for(let ke=0;ke<ie.length;ke++){const oe=ie[ke],st=oe.getAttribute("src");if(st){const be=new Image;be.onload=()=>{b(oe)},be.onerror=(Qe,Le,Ne,Ce,Jt)=>{b(oe,["Error loading <img>",oe,"Error",Jt])},be.src=st}else b(oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',oe])}for(let ke=0;ke<fe.length;ke++){const oe=fe[ke];oe.preload="auto";const st=oe.getAttribute("poster");if(st){const be=new Image;be.onload=()=>{b(oe)},be.onerror=(Qe,Le,Ne,Ce,Jt)=>{b(oe,["Error loading video poster",st,"for video",oe,"Error:",Jt])},be.src=st}else oe.readyState>=2?b(oe):oe.src?(oe.onloadeddata=()=>{b(oe)},oe.onerror=(be,Qe,Le,Ne,Ce)=>{b(oe,["Error loading video",oe,"Error",Ce])},oe.onstalled=()=>{b(oe,["Loading video stalled, skipping",oe])}):b(oe,["Error loading video, `src` is empty",oe])}const dn="select",bt=ye.querySelectorAll(dn),at=xe.querySelectorAll(dn);for(let ke=0;ke<bt.length;ke++)at[ke].value=bt[ke].value;if(!pe){const ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let oe=0,st=ke.length;oe<st;++oe){const be=ke[oe];if(be.tagName.toLowerCase()==="style"){const Qe=xe.createElement(be.tagName),Le=be.sheet;if(Le){let Ne="";try{const Ce=Le.cssRules.length;for(let Jt=0;Jt<Ce;++Jt)typeof Le.cssRules[Jt].cssText=="string"&&(Ne+=`${Le.cssRules[Jt].cssText}\r
`)}catch(Ce){x({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",be,`Original error: ${S(Ce).message}`],level:"warning"})}Qe.setAttribute("id",`react-to-print-${oe}`),Re&&Qe.setAttribute("nonce",Re),Qe.appendChild(xe.createTextNode(Ne)),xe.head.appendChild(Qe)}}else if(be.getAttribute("href"))if(be.hasAttribute("disabled"))x({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",be],level:"warning"}),b(be);else{const Qe=xe.createElement(be.tagName);for(let Le=0,Ne=be.attributes.length;Le<Ne;++Le){const Ce=be.attributes[Le];Ce&&Qe.setAttribute(Ce.nodeName,(ae=Ce.nodeValue)!==null&&ae!==void 0?ae:"")}Qe.onload=()=>{b(Qe)},Qe.onerror=(Le,Ne,Ce,Jt,de)=>{b(Qe,["Failed to load",Qe,"Error:",de])},Re&&Qe.setAttribute("nonce",Re),xe.head.appendChild(Qe)}else x({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",be],level:"warning"}),b(be)}}}B===0&&O(_,X)}function M({bodyClass:_,contentRef:b,copyShadowRoots:k,documentTitle:X,fonts:$,ignoreGlobalStyles:U,nonce:W,onAfterPrint:H,onBeforePrint:ae,onPrintError:ye,pageStyle:Z,preserveAfterPrint:ie,print:fe,printIframeProps:B,suppressErrors:Te}){return(0,m.useCallback)(re=>{function pe(){const he={bodyClass:_,contentRef:b,copyShadowRoots:k,documentTitle:X,fonts:$,ignoreGlobalStyles:U,nonce:W,onAfterPrint:H,onPrintError:ye,pageStyle:Z,preserveAfterPrint:ie,print:fe,suppressErrors:Te},Re=function(xe){const Ge=document.createElement("iframe");return Ge.width=`${document.documentElement.clientWidth}px`,Ge.height=`${document.documentElement.clientHeight}px`,Ge.style.position="absolute",Ge.style.top=`-${document.documentElement.clientHeight+100}px`,Ge.style.left=`-${document.documentElement.clientWidth+100}px`,Ge.id=w,Ge.srcdoc="<!DOCTYPE html>",xe&&(xe.allow&&(Ge.allow=xe.allow),xe.referrerPolicy!==void 0&&(Ge.referrerPolicy=xe.referrerPolicy),xe.sandbox!==void 0&&(Ge.sandbox=xe.sandbox)),Ge}(B),Ae=function(xe,Ge){const{contentRef:se,fonts:wt,ignoreGlobalStyles:Ze,suppressErrors:dn}=Ge,bt=function({contentRef:Qe,optionalContent:Le,suppressErrors:Ne}){return Le&&typeof Le=="function"?(Qe&&x({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Le()):Qe?Qe.current:void x({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Ne})}({contentRef:se,optionalContent:xe,suppressErrors:dn});if(!bt)return;const at=bt.cloneNode(!0),ke=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),oe=at.querySelectorAll("img"),st=at.querySelectorAll("video"),be=wt?wt.length:0;return{contentNode:bt,clonedContentNode:at,clonedImgNodes:oe,clonedVideoNodes:st,numResourcesToLoad:(Ze?0:ke.length)+oe.length+st.length+be,originalCanvasNodes:bt.querySelectorAll("canvas")}}(re,he);if(!Ae)return void x({messages:["There is nothing to print"],suppressErrors:Te});const jt=function(xe,Ge,se){const{suppressErrors:wt}=xe,Ze=[],dn=[];return function(bt,at){Ze.includes(bt)?x({level:"debug",messages:["Tried to mark a resource that has already been handled",bt],suppressErrors:wt}):(at?(x({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...at],suppressErrors:wt}),dn.push(bt)):Ze.push(bt),Ze.length+dn.length===Ge&&O(se,xe))}}(he,Ae.numResourcesToLoad,Re);(function(xe,Ge,se,wt){xe.onload=()=>{Q(xe,Ge,se,wt)},document.body.appendChild(xe)})(Re,jt,Ae,he)}I(ie,!0),ae?ae().then(()=>{pe()}).catch(he=>{ye==null||ye("onBeforePrint",S(he))}):pe()},[_,b,k,X,$,U,W,H,ae,ye,Z,ie,fe,Te])}return g}()})})(fp);var dp=fp.exports;const Ew=!1,nr="https://script.google.com/macros/s/AKfycbwAdd8MyZZ_7K7pWI1vCvpnMp8Rq7B_nhQ4xV-Z7XxbyA2hfFI_Bn8UL9FFWWryC4nm/exec",ad="1c3U81eazLDTMQTdDScObASikKgYJf_qmKabn4Lyf1Og",En={getInventory:async()=>{try{return await(await fetch(`${nr}?action=getInventory`)).json()}catch(e){throw console.error("Error fetching inventory:",e),e}},getHistory:async(e=null)=>{try{let t=`${nr}?action=getHistory`;return e&&(t+=`&startDate=${encodeURIComponent(e)}`),await(await fetch(t)).json()}catch(t){throw console.error("Error fetching history:",t),t}},searchProduct:async e=>{try{return await(await fetch(`${nr}?action=searchProduct&query=${encodeURIComponent(e)}`)).json()}catch(t){throw console.error("Error searching products:",t),t}},getProduct:async e=>{try{return await(await fetch(`${nr}?action=getProduct&barcode=${encodeURIComponent(e)}`)).json()}catch(t){throw console.error("Error fetching product:",t),t}},updateStock:async(e,t,r,a="WebApp",l=null)=>{try{const f=new URLSearchParams({action:"updateStock",barcode:e,amount:t,type:r,userId:a});return l&&f.append("imageUrl",l),await(await fetch(`${nr}?${f.toString()}`,{method:"POST",redirect:"follow"})).json()}catch(f){throw console.error("Error updating stock:",f),f}},bulkUpdateMinStock:async e=>{try{const t=new URLSearchParams({action:"bulkUpdateMinStock",updates:JSON.stringify(e)});return await(await fetch(`${nr}?${t.toString()}`,{method:"POST",redirect:"follow"})).json()}catch(t){throw console.error("Error bulk updating:",t),t}},saveReport:async(e="")=>{try{return await(await fetch(`${nr}?action=saveReport&note=${encodeURIComponent(e)}`,{method:"POST"})).json()}catch(t){throw console.error("Error saving report:",t),t}},clearHistory:async()=>{try{return await(await fetch(`${nr}?action=clearHistory`,{method:"POST"})).json()}catch(e){throw console.error("Error clearing history:",e),e}},uploadImage:async e=>{try{const t=await new Promise((f,g)=>{const m=new FileReader;m.onload=()=>f(m.result),m.onerror=g,m.readAsDataURL(e)}),r=new URLSearchParams({action:"uploadImage",imageData:t,fileName:e.name});return await(await fetch(`${nr}?${r.toString()}`,{method:"POST",redirect:"follow"})).json()}catch(t){throw console.error("Error uploading image:",t),t}},config:{USE_MOCK:Ew,API_URL:nr,SPREADSHEET_ID:ad,SPREADSHEET_URL:`https://docs.google.com/spreadsheets/d/${ad}/edit`}},Cw=()=>{const[e,t]=Y.useState({totalItems:0,lowStock:0,totalValue:0}),[r,a]=Y.useState(!0),{t:l}=_i(),[f,g]=Y.useState(!1),[m,w]=Y.useState([]);Y.useEffect(()=>{(async()=>{try{const L=await En.getInventory();let j=[];Array.isArray(L)?j=L:L&&Array.isArray(L.data)&&(j=L.data);const F=await En.getHistory();let Q=[];Array.isArray(F)?Q=F:F&&Array.isArray(F.data)&&(Q=F.data);const M=j.filter(W=>W.barcode&&String(W.barcode).trim()!==""),_=M.length,b=M.filter(W=>{const H=parseInt(W.stock)||0,ae=parseInt(W.minStock)||0;return H<=ae}),k=b.length;w(b);const X=new Date().toDateString(),$=Q.filter(W=>(W.timestamp?new Date(W.timestamp):new Date).toDateString()===X).length,U=M.reduce((W,H)=>W+H.stock*(H.price||0),0);t({totalItems:_,lowStock:k,totalValue:U,todayTx:$})}catch(L){console.error("Error fetching dashboard data:",L)}finally{a(!1)}})()},[]);const x=({title:O,value:L,subtext:j,icon:F,color:Q,onClick:M,clickable:_})=>A.jsxs("div",{onClick:_?M:void 0,className:`bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-100 flex items-start justify-between ${_?"cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]":""}`,children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs md:text-sm font-medium text-slate-500 mb-1",children:O}),A.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:L}),j&&A.jsx("p",{className:"text-xs text-slate-400 mt-1 md:mt-2",children:j})]}),A.jsx("div",{className:`p-2 md:p-3 rounded-lg ${Q}`,children:A.jsx(F,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]}),I=Y.useRef(),S=dp.useReactToPrint({content:()=>I.current,documentTitle:`Low_Stock_Report_${new Date().toISOString().split("T")[0]}`});return A.jsxs("div",{className:"space-y-4 md:space-y-8 relative",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:l("dashboard.title")}),A.jsx("p",{className:"text-sm md:text-base text-slate-500",children:l("dashboard.subtitle")})]}),A.jsxs("button",{onClick:async()=>{if(confirm("Create Daily Report snapshot?")){a(!0);try{await En.saveReport("Manual Trigger"),alert("Report saved to Sheet!")}catch{alert("Error saving report")}finally{a(!1)}}},className:"absolute top-0 right-0 bg-slate-100 hover:bg-slate-200 text-slate-600 px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[A.jsx(nl,{className:"w-4 h-4"})," Save Daily Report"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6",children:[A.jsx(x,{title:l("dashboard.totalProducts"),value:r?"...":e.totalItems,icon:tl,color:"bg-blue-500",subtext:l("dashboard.totalProductsSub")}),A.jsx(x,{title:l("dashboard.lowStockAlerts"),value:r?"...":e.lowStock,icon:Oc,color:"bg-amber-500",subtext:l("dashboard.lowStockAlertsSub"),clickable:!0,onClick:()=>g(!0)}),A.jsx(x,{title:l("dashboard.transactionsToday"),value:r?"...":e.todayTx||0,icon:aw,color:"bg-green-500",subtext:l("dashboard.transactionsTodaySub")})]}),A.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 rounded-2xl p-6 md:p-8 text-white relative overflow-hidden",children:[A.jsxs("div",{className:"relative z-10",children:[A.jsx("h2",{className:"text-lg md:text-2xl font-bold mb-2 md:mb-4",children:l("dashboard.readyTitle")}),A.jsx("p",{className:"text-sm md:text-base text-slate-300 max-w-xl mb-4 md:mb-6",children:l("dashboard.readyDesc")}),A.jsx("a",{href:"/scan",className:"inline-block bg-white text-slate-900 font-bold px-4 md:px-6 py-2 md:py-3 rounded-lg hover:bg-slate-100 transition-colors text-sm md:text-base",children:l("dashboard.startScanning")})]}),A.jsx(tl,{className:"absolute -right-10 -bottom-10 w-48 h-48 md:w-64 md:h-64 text-white/5 rotate-12"})]}),f&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[A.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex items-center justify-between bg-amber-50 flex-shrink-0",children:[A.jsxs("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[A.jsx(Oc,{className:"w-5 h-5"}),l("dashboard.lowStockAlerts")," (",m.length,")"]}),A.jsx("button",{onClick:()=>g(!1),className:"w-8 h-8 rounded-full bg-white text-slate-400 hover:text-slate-600 flex items-center justify-center transition-colors shadow-sm",children:""})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:A.jsxs("div",{ref:I,className:"p-4 md:p-6 bg-white print:p-8",children:[A.jsxs("div",{className:"hidden print:block mb-6 border-b pb-4",children:[A.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Low Stock Report"}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Date: ",new Date().toLocaleString()]}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Items Count: ",m.length]})]}),m.length===0?A.jsx("div",{className:"p-8 text-center text-slate-500",children:"No items are low in stock."}):A.jsx("div",{className:"divide-y divide-slate-100",children:m.map((O,L)=>A.jsxs("div",{className:"py-3 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 text-sm md:text-base",children:O.name||"Unknown Product"}),A.jsxs("p",{className:"text-xs text-slate-400 font-mono",children:["#",O.barcode]}),parseInt(O.stock)===0&&A.jsx("span",{className:"inline-block mt-0.5 px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-600 border border-red-200",children:"OUT OF STOCK"})]}),A.jsxs("div",{className:"text-right flex items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block text-xs text-slate-400 uppercase tracking-wide",children:"Stock"}),A.jsx("span",{className:`font-bold ${O.stock<=0?"text-red-600":"text-amber-600"}`,children:O.stock})]}),A.jsx("div",{className:"print:hidden h-8 w-px bg-slate-100 mx-1"}),A.jsxs("div",{children:[A.jsx("span",{className:"block text-xs text-slate-400 uppercase tracking-wide",children:"Min"}),A.jsx("span",{className:"font-medium text-slate-600",children:O.minStock})]})]})]},L))})]})}),A.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-between items-center flex-shrink-0",children:[A.jsx("p",{className:"text-xs text-slate-400 hidden md:block",children:"Print this list to perform manual restocking."}),A.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[A.jsxs("button",{onClick:S,className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm",children:[A.jsx(nl,{className:"w-4 h-4"})," Print"]}),A.jsx("button",{onClick:()=>g(!1),className:"flex-1 md:flex-none px-4 py-2 bg-slate-900 text-white rounded-lg text-sm font-bold hover:bg-slate-800 shadow-md",children:"Close"})]})]})]})})]})};var ue;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var sd=new Map([[ue.QR_CODE,"QR_CODE"],[ue.AZTEC,"AZTEC"],[ue.CODABAR,"CODABAR"],[ue.CODE_39,"CODE_39"],[ue.CODE_93,"CODE_93"],[ue.CODE_128,"CODE_128"],[ue.DATA_MATRIX,"DATA_MATRIX"],[ue.MAXICODE,"MAXICODE"],[ue.ITF,"ITF"],[ue.EAN_13,"EAN_13"],[ue.EAN_8,"EAN_8"],[ue.PDF_417,"PDF_417"],[ue.RSS_14,"RSS_14"],[ue.RSS_EXPANDED,"RSS_EXPANDED"],[ue.UPC_A,"UPC_A"],[ue.UPC_E,"UPC_E"],[ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ld;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ld||(ld={}));function Aw(e){return Object.values(ue).includes(e)}var $r;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})($r||($r={}));var Gn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[$r.SCAN_TYPE_CAMERA,$r.SCAN_TYPE_FILE],e}(),hp=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!sd.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,sd.get(t))},e}(),ud=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Dc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Dc||(Dc={}));var gp=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Dc.UNKWOWN_ERROR}},e}(),pp=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ir(e){return typeof e>"u"||e===null}function Sw(e,t,r){return e>r?r:e<t?t:e}var no=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ze=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),cd=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),xp=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(l),g=Object.keys(t),m=0,w=g;m<w.length;m++){var x=w[m];if(f.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),kc={exports:{}};(function(e,t){(function(r,a){a(t)})(Vi,function(r){function a(v){return v==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,n){v.__proto__=n}||function(v,n){for(var i in n)n.hasOwnProperty(i)&&(v[i]=n[i])};function f(v,n){l(v,n);function i(){this.constructor=v}v.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function g(v,n){var i=Object.setPrototypeOf;i?i(v,n):v.__proto__=n}function m(v,n){n===void 0&&(n=v.constructor);var i=Error.captureStackTrace;i&&i(v,n)}var w=function(v){f(n,v);function n(i){var o=this.constructor,s=v.call(this,i)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),g(s,o.prototype),m(s),s}return n}(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class I extends x{}I.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class O{constructor(n){if(this.binarizer=n,n===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,s){const u=this.binarizer.getLuminanceSource().crop(n,i,o,s);return new O(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends x{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class j{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(n,i,o,s,u){for(;u--;)o[s++]=n[i++]}static currentTimeMillis(){return Date.now()}}class Q extends x{}Q.kind="IndexOutOfBoundsException";class M extends Q{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}M.kind="ArrayIndexOutOfBoundsException";class _{static fill(n,i){for(let o=0,s=n.length;o<s;o++)n[o]=i}static fillWithin(n,i,o,s){_.rangeCheck(n.length,i,o);for(let u=i;u<o;u++)n[u]=s}static rangeCheck(n,i,o){if(i>o)throw new S("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new M(i);if(o>n)throw new M(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){const s=o-i,u=new Int32Array(s);return F.arraycopy(n,i,u,0,s),u}static binarySearch(n,i,o){o===void 0&&(o=_.numberComparator);let s=0,u=n.length-1;for(;s<=u;){const c=u+s>>1,d=o(i,n[c]);if(d>0)s=c+1;else if(d<0)u=c-1;else return c}return-s-1}static numberComparator(n,i){return n-i}}class b{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=k.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=k.makeArray(n);F.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const o=this.bits;let s=Math.floor(n/32),u=o[s];u&=~((1<<(n&31))-1);const c=o.length;for(;u===0;){if(++s===c)return i;u=o[s]}const d=s*32+b.numberOfTrailingZeros(u);return d>i?i:d}getNextUnset(n){const i=this.size;if(n>=i)return i;const o=this.bits;let s=Math.floor(n/32),u=~o[s];u&=~((1<<(n&31))-1);const c=o.length;for(;u===0;){if(++s===c)return i;u=~o[s]}const d=s*32+b.numberOfTrailingZeros(u);return d>i?i:d}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new S;if(i===n)return;i--;const o=Math.floor(n/32),s=Math.floor(i/32),u=this.bits;for(let c=o;c<=s;c++){const d=c>o?0:n&31,p=(2<<(c<s?31:i&31))-(1<<d);u[c]|=p}}clear(){const n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new S;if(i===n)return!0;i--;const s=Math.floor(n/32),u=Math.floor(i/32),c=this.bits;for(let d=s;d<=u;d++){const h=d>s?0:n&31,y=(2<<(d<u?31:i&31))-(1<<h)&4294967295;if((c[d]&y)!==(o?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new S("Sizes don't match");const i=this.bits;for(let o=0,s=i.length;o<s;o++)i[o]^=n.bits[o]}toBytes(n,i,o,s){for(let u=0;u<s;u++){let c=0;for(let d=0;d<8;d++)this.get(n)&&(c|=1<<7-d),n++;i[o+u]=c}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,s=this.bits;for(let u=0;u<o;u++){let c=s[u];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,n[i-u]=c}if(this.size!==o*32){const u=o*32-this.size;let c=n[0]>>>u;for(let d=1;d<o;d++){const h=n[d];c|=h<<32-u,n[d-1]=c,c=h>>>u}n[o-1]=c}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof k))return!1;const i=n;return this.size===i.size&&_.equals(this.bits,i.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new k(this.size,this.bits.slice())}}var X;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var $=X;class U extends x{static getFormatInstance(){return new U}}U.kind="FormatException";var W;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(W||(W={}));class H{constructor(n,i,o,...s){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,H.VALUE_IDENTIFIER_TO_ECI.set(n,this),H.NAME_TO_ECI.set(o,this);const u=this.values;for(let c=0,d=u.length;c!==d;c++){const h=u[c];H.VALUES_TO_ECI.set(h,this)}for(const c of s)H.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new U("incorect value");const i=H.VALUES_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}static getCharacterSetECIByName(n){const i=H.NAME_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}equals(n){if(!(n instanceof H))return!1;const i=n;return this.getName()===i.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(W.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(W.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(W.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(W.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(W.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(W.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(W.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(W.Big5,28,"Big5"),H.GB18030=new H(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(W.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends x{}ae.kind="UnsupportedOperationException";class ye{static decode(n,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!ye.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof H?n:H.getCharacterSetECIByName(n)}static decodeFallback(n,i){const o=this.encodingCharacterSet(i);if(ye.isDecodeFallbackSupported(o)){let s="";for(let u=0,c=n.length;u<c;u++){let d=n[u].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(o.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new ae(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(H.UTF8)||n.equals(H.ISO8859_1)||n.equals(H.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),s=[];for(let u=0;u<o.length;u++)s.push(o[u].charCodeAt(0));return new Uint8Array(s)}}class Z{static castAsNonUtf8Char(n,i=null){const o=i?i.getName():this.ISO88591;return ye.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get($.CHARACTER_SET)!==void 0)return i.get($.CHARACTER_SET).toString();const o=n.length;let s=!0,u=!0,c=!0,d=0,h=0,p=0,y=0,E=0,C=0,N=0,R=0,D=0,P=0,G=0;const ee=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let te=0;te<o&&(s||u||c);te++){const q=n[te]&255;c&&(d>0?q&128?d--:c=!1:q&128&&(q&64?(d++,q&32?(d++,q&16?(d++,q&8?c=!1:y++):p++):h++):c=!1)),s&&(q>127&&q<160?s=!1:q>159&&(q<192||q===215||q===247)&&G++),u&&(E>0?q<64||q===127||q>252?u=!1:E--:q===128||q===160||q>239?u=!1:q>160&&q<224?(C++,R=0,N++,N>D&&(D=N)):q>127?(E++,N=0,R++,R>P&&(P=R)):(N=0,R=0))}return c&&d>0&&(c=!1),u&&E>0&&(u=!1),c&&(ee||h+p+y>0)?Z.UTF8:u&&(Z.ASSUME_SHIFT_JIS||D>=3||P>=3)?Z.SHIFT_JIS:s&&u?D===2&&C===2||G*10>=o?Z.SHIFT_JIS:Z.ISO88591:s?Z.ISO88591:u?Z.SHIFT_JIS:c?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function s(c,d,h,p,y,E){if(c==="%%")return"%";if(i[++o]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=y?parseInt(y.substr(1)):void 0,N;switch(E){case"s":N=i[o];break;case"c":N=i[o][0];break;case"f":N=parseFloat(i[o]).toFixed(c);break;case"p":N=parseFloat(i[o]).toPrecision(c);break;case"e":N=parseFloat(i[o]).toExponential(c);break;case"x":N=parseInt(i[o]).toString(C||16);break;case"d":N=parseFloat(parseInt(i[o],C||10).toPrecision(c)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(C);let R=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;N.length<R;)N=d!==void 0?N+D:D+N;return N}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,s)}static getBytes(n,i){return ye.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}Z.SHIFT_JIS=H.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=H.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=H.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class ie{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let s=i;i<i+o;s++)this.append(n[s]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class fe{constructor(n,i,o,s){if(this.width=n,this.height=i,this.rowSize=o,this.bits=s,i==null&&(i=n),this.height=i,n<1||i<1)throw new S("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,o=n[0].length,s=new fe(o,i);for(let u=0;u<i;u++){const c=n[u];for(let d=0;d<o;d++)c[d]&&s.set(d,u)}return s}static parseFromString(n,i,o){if(n===null)throw new S("stringRepresentation cannot be null");const s=new Array(n.length);let u=0,c=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(u>c){if(d===-1)d=u-c;else if(u-c!==d)throw new S("row lengths do not match");c=u,h++}p++}else if(n.substring(p,p+i.length)===i)p+=i.length,s[u]=!0,u++;else if(n.substring(p,p+o.length)===o)p+=o.length,s[u]=!1,u++;else throw new S("illegal character encountered: "+n.substring(p));if(u>c){if(d===-1)d=u-c;else if(u-c!==d)throw new S("row lengths do not match");h++}const y=new fe(d,h);for(let E=0;E<u;E++)s[E]&&y.set(Math.floor(E%d),Math.floor(E/d));return y}get(n,i){const o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new S("input matrix dimensions do not match");const i=new k(Math.floor(this.width/32)+1),o=this.rowSize,s=this.bits;for(let u=0,c=this.height;u<c;u++){const d=u*o,h=n.getRow(u,i).getBitArray();for(let p=0;p<o;p++)s[d+p]^=h[p]}}clear(){const n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,s){if(i<0||n<0)throw new S("Left and top must be nonnegative");if(s<1||o<1)throw new S("Height and width must be at least 1");const u=n+o,c=i+s;if(c>this.height||u>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=i;p<c;p++){const y=p*d;for(let E=n;E<u;E++)h[y+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new k(this.width):i.clear();const o=this.rowSize,s=this.bits,u=n*o;for(let c=0;c<o;c++)i.setBulk(c*32,s[u+c]);return i}setRow(n,i){F.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let o=new k(n),s=new k(n);for(let u=0,c=Math.floor((i+1)/2);u<c;u++)o=this.getRow(u,o),s=this.getRow(i-1-u,s),o.reverse(),s.reverse(),this.setRow(u,s),this.setRow(i-1-u,o)}getEnclosingRectangle(){const n=this.width,i=this.height,o=this.rowSize,s=this.bits;let u=n,c=i,d=-1,h=-1;for(let p=0;p<i;p++)for(let y=0;y<o;y++){const E=s[p*o+y];if(E!==0){if(p<c&&(c=p),p>h&&(h=p),y*32<u){let C=0;for(;!(E<<31-C&4294967295);)C++;y*32+C<u&&(u=y*32+C)}if(y*32+31>d){let C=31;for(;!(E>>>C);)C--;y*32+C>d&&(d=y*32+C)}}}return d<u||h<c?null:Int32Array.from([u,c,d-u+1,h-c+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const s=o/n;let u=o%n*32;const c=i[o];let d=0;for(;!(c<<31-d&4294967295);)d++;return u+=d,Int32Array.from([u,s])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const s=Math.floor(o/n);let u=Math.floor(o%n)*32;const c=i[o];let d=31;for(;!(c>>>d);)d--;return u+=d,Int32Array.from([u,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof fe))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&_.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+_.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let s=new ie;for(let u=0,c=this.height;u<c;u++){for(let d=0,h=this.width;d<h;d++)s.append(this.get(d,u)?n:i);s.append(o)}return s.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class B extends x{static getNotFoundInstance(){return new B}}B.kind="NotFoundException";class Te extends j{constructor(n){super(n),this.luminances=Te.EMPTY,this.buckets=new Int32Array(Te.LUMINANCE_BUCKETS)}getBlackRow(n,i){const o=this.getLuminanceSource(),s=o.getWidth();i==null||i.getSize()<s?i=new k(s):i.clear(),this.initArrays(s);const u=o.getRow(n,this.luminances),c=this.buckets;for(let h=0;h<s;h++)c[(u[h]&255)>>Te.LUMINANCE_SHIFT]++;const d=Te.estimateBlackPoint(c);if(s<3)for(let h=0;h<s;h++)(u[h]&255)<d&&i.set(h);else{let h=u[0]&255,p=u[1]&255;for(let y=1;y<s-1;y++){const E=u[y+1]&255;(p*4-h-E)/2<d&&i.set(y),h=p,p=E}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),s=new fe(i,o);this.initArrays(i);const u=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),y=n.getRow(p,this.luminances),E=Math.floor(i*4/5);for(let C=Math.floor(i/5);C<E;C++){const N=y[C]&255;u[N>>Te.LUMINANCE_SHIFT]++}}const c=Te.estimateBlackPoint(u),d=n.getMatrix();for(let h=0;h<o;h++){const p=h*i;for(let y=0;y<i;y++)(d[p+y]&255)<c&&s.set(y,h)}return s}createBinarizer(n){return new Te(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let o=0;o<Te.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){const i=n.length;let o=0,s=0,u=0;for(let y=0;y<i;y++)n[y]>u&&(s=y,u=n[y]),n[y]>o&&(o=n[y]);let c=0,d=0;for(let y=0;y<i;y++){const E=y-s,C=n[y]*E*E;C>d&&(c=y,d=C)}if(s>c){const y=s;s=c,c=y}if(c-s<=i/16)throw new B;let h=c-1,p=-1;for(let y=c-1;y>s;y--){const E=y-s,C=E*E*(c-y)*(o-n[y]);C>p&&(h=y,p=C)}return h<<Te.LUMINANCE_SHIFT}}Te.LUMINANCE_BITS=5,Te.LUMINANCE_SHIFT=8-Te.LUMINANCE_BITS,Te.LUMINANCE_BUCKETS=1<<Te.LUMINANCE_BITS,Te.EMPTY=Uint8ClampedArray.from([0]);class we extends Te{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=we.MINIMUM_DIMENSION&&o>=we.MINIMUM_DIMENSION){const s=n.getMatrix();let u=i>>we.BLOCK_SIZE_POWER;i&we.BLOCK_SIZE_MASK&&u++;let c=o>>we.BLOCK_SIZE_POWER;o&we.BLOCK_SIZE_MASK&&c++;const d=we.calculateBlackPoints(s,u,c,i,o),h=new fe(i,o);we.calculateThresholdForBlock(s,u,c,i,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new we(n)}static calculateThresholdForBlock(n,i,o,s,u,c,d){const h=u-we.BLOCK_SIZE,p=s-we.BLOCK_SIZE;for(let y=0;y<o;y++){let E=y<<we.BLOCK_SIZE_POWER;E>h&&(E=h);const C=we.cap(y,2,o-3);for(let N=0;N<i;N++){let R=N<<we.BLOCK_SIZE_POWER;R>p&&(R=p);const D=we.cap(N,2,i-3);let P=0;for(let ee=-2;ee<=2;ee++){const te=c[C+ee];P+=te[D-2]+te[D-1]+te[D]+te[D+1]+te[D+2]}const G=P/25;we.thresholdBlock(n,R,E,G,s,d)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,s,u,c){for(let d=0,h=o*u+i;d<we.BLOCK_SIZE;d++,h+=u)for(let p=0;p<we.BLOCK_SIZE;p++)(n[h+p]&255)<=s&&c.set(i+p,o+d)}static calculateBlackPoints(n,i,o,s,u){const c=u-we.BLOCK_SIZE,d=s-we.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(i);let y=p<<we.BLOCK_SIZE_POWER;y>c&&(y=c);for(let E=0;E<i;E++){let C=E<<we.BLOCK_SIZE_POWER;C>d&&(C=d);let N=0,R=255,D=0;for(let G=0,ee=y*s+C;G<we.BLOCK_SIZE;G++,ee+=s){for(let te=0;te<we.BLOCK_SIZE;te++){const q=n[ee+te]&255;N+=q,q<R&&(R=q),q>D&&(D=q)}if(D-R>we.MIN_DYNAMIC_RANGE)for(G++,ee+=s;G<we.BLOCK_SIZE;G++,ee+=s)for(let te=0;te<we.BLOCK_SIZE;te++)N+=n[ee+te]&255}let P=N>>we.BLOCK_SIZE_POWER*2;if(D-R<=we.MIN_DYNAMIC_RANGE&&(P=R/2,p>0&&E>0)){const G=(h[p-1][E]+2*h[p][E-1]+h[p-1][E-1])/4;R<G&&(P=G)}h[p][E]=P}}return h}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class re{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,s){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new ie;for(let o=0;o<this.height;o++){const s=this.getRow(o,n);for(let u=0;u<this.width;u++){const c=s[u]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class pe extends re{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const o=this.delegate.getRow(n,i),s=this.getWidth();for(let u=0;u<s;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let s=0;s<i;s++)o[s]=255-(n[s]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,s){return new pe(this.delegate.crop(n,i,o,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class he extends re{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return he.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){const s=new Uint8ClampedArray(i*o);for(let u=0,c=0,d=n.length;u<d;u+=4,c++){let h;if(n[u+3]===0)h=255;else{const y=n[u],E=n[u+1],C=n[u+2];h=306*y+601*E+117*C+512>>10}s[c]=h}return s}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth(),s=n*o;return i===null?i=this.buffer.slice(s,s+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(s,s+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,s){return super.crop(n,i,o,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),o=i.getContext("2d"),s=n*he.DEGREE_TO_RADIANS,u=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*u+Math.abs(Math.sin(s))*c),h=Math.ceil(Math.abs(Math.sin(s))*u+Math.abs(Math.cos(s))*c);return i.width=d,i.height=h,o.translate(d/2,h/2),o.rotate(s),o.drawImage(this.canvas,u/-2,c/-2),this.buffer=he.makeBufferFromCanvasImageData(i),this}invert(){return new pe(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Re{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||Vi||self||window||void 0)&&(globalThis||Vi||self||window||void 0).__awaiter||function(v,n,i,o){function s(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(y){try{p(o.next(y))}catch(E){c(E)}}function h(y){try{p(o.throw(y))}catch(E){c(E)}}function p(y){y.done?u(y.value):s(y.value).then(d,h)}p((o=o.apply(v,n||[])).next())})};class jt{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of n){const s=o.kind==="video"?"videoinput":o.kind;if(s!=="videoinput")continue;const u=o.deviceId||o.id,c=o.label||`Video device ${i.length+1}`,d=o.groupId,h={deviceId:u,label:c,kind:s,groupId:d};i.push(h)}return i})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Re(i.deviceId,i.label))})}findDeviceById(n){return Ae(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Ae(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(n,i){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return Ae(this,void 0,void 0,function*(){let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const u={video:s};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(n,i,o){return Ae(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(s,i,o)})}decodeFromStream(n,i,o){return Ae(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(s,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Ae(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const o=document.getElementById(n);if(!o)throw new I(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new I("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(o,i);return o.src=n,s}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;const s=(u,c)=>{if(this._stopAsyncDecode){c(new B("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);u(d)}catch(d){const h=i&&d instanceof B,y=(d instanceof L||d instanceof U)&&o;if(h||y)return setTimeout(s,this._timeBetweenDecodingAttempts,u,c);c(d)}};return new Promise((u,c)=>s(u,c))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(n);i(s,null),setTimeout(o,this.timeBetweenScansMillis)}catch(s){i(null,s);const u=s instanceof L||s instanceof U,c=s instanceof B;(u||c)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),o=new he(i),s=new we(o);return new O(s)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,s;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,s=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,s=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=s+"px",i.width=o,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class xe{constructor(n,i,o=i==null?0:8*i.length,s,u,c=F.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=s,this.format=u,this.timestamp=c,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=s,this.format=u,this.resultMetadata=null,c==null?this.timestamp=F.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(i.length+n.length);F.arraycopy(i,0,o,0,i.length),F.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var se=Ge,wt;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wt||(wt={}));var Ze=wt;class dn{constructor(n,i,o,s,u=-1,c=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=s,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=c,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class bt{exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class at{constructor(n,i){if(i.length===0)throw new S;this.field=n;const o=i.length;if(o>1&&i[0]===0){let s=1;for(;s<o&&i[s]===0;)s++;s===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-s),F.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(n===1){o=0;for(let c=0,d=i.length;c!==d;c++){const h=i[c];o=bt.addOrSubtract(o,h)}return o}o=i[0];const s=i.length,u=this.field;for(let c=1;c<s;c++)o=bt.addOrSubtract(u.multiply(n,o),i[c]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){const c=i;i=o,o=c}let s=new Int32Array(o.length);const u=o.length-i.length;F.arraycopy(o,0,s,0,u);for(let c=u;c<o.length;c++)s[c]=bt.addOrSubtract(i[c-u],o[c]);return new at(this.field,s)}multiply(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,s=n.coefficients,u=s.length,c=new Int32Array(o+u-1),d=this.field;for(let h=0;h<o;h++){const p=i[h];for(let y=0;y<u;y++)c[h+y]=bt.addOrSubtract(c[h+y],d.multiply(p,s[y]))}return new at(d,c)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,o=this.field,s=new Int32Array(i),u=this.coefficients;for(let c=0;c<i;c++)s[c]=o.multiply(u[c],n);return new at(o,s)}multiplyByMonomial(n,i){if(n<0)throw new S;if(i===0)return this.field.getZero();const o=this.coefficients,s=o.length,u=new Int32Array(s+n),c=this.field;for(let d=0;d<s;d++)u[d]=c.multiply(o[d],i);return new at(c,u)}divide(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new S("Divide by 0");const i=this.field;let o=i.getZero(),s=this;const u=n.getCoefficient(n.getDegree()),c=i.inverse(u);for(;s.getDegree()>=n.getDegree()&&!s.isZero();){const d=s.getDegree()-n.getDegree(),h=i.multiply(s.getCoefficient(s.getDegree()),c),p=n.multiplyByMonomial(d,h),y=i.buildMonomial(d,h);o=o.addOrSubtract(y),s=s.addOrSubtract(p)}return[o,s]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){const s=this.field.log(o);s===0?n+="1":s===1?n+="a":(n+="a^",n+=s)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class ke extends x{}ke.kind="ArithmeticException";class oe extends bt{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;const s=new Int32Array(i);let u=1;for(let d=0;d<i;d++)s[d]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=s;const c=new Int32Array(i);for(let d=0;d<i-1;d++)c[s[d]]=d;this.logTable=c,this.zero=new at(this,Int32Array.from([0])),this.one=new at(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new S;if(i===0)return this.zero;const o=new Int32Array(n+1);return o[0]=i,new at(this,o)}inverse(n){if(n===0)throw new ke;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}oe.AZTEC_DATA_12=new oe(4201,4096,1),oe.AZTEC_DATA_10=new oe(1033,1024,1),oe.AZTEC_DATA_6=new oe(67,64,1),oe.AZTEC_PARAM=new oe(19,16,1),oe.QR_CODE_FIELD_256=new oe(285,256,0),oe.DATA_MATRIX_FIELD_256=new oe(301,256,1),oe.AZTEC_DATA_8=oe.DATA_MATRIX_FIELD_256,oe.MAXICODE_FIELD_64=oe.AZTEC_DATA_6;class st extends x{}st.kind="ReedSolomonException";class be extends x{}be.kind="IllegalStateException";class Qe{constructor(n){this.field=n}decode(n,i){const o=this.field,s=new at(o,n),u=new Int32Array(i);let c=!0;for(let N=0;N<i;N++){const R=s.evaluateAt(o.exp(N+o.getGeneratorBase()));u[u.length-1-N]=R,R!==0&&(c=!1)}if(c)return;const d=new at(o,u),h=this.runEuclideanAlgorithm(o.buildMonomial(i,1),d,i),p=h[0],y=h[1],E=this.findErrorLocations(p),C=this.findErrorMagnitudes(y,E);for(let N=0;N<E.length;N++){const R=n.length-1-o.log(E[N]);if(R<0)throw new st("Bad error location");n[R]=oe.addOrSubtract(n[R],C[N])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){const N=n;n=i,i=N}const s=this.field;let u=n,c=i,d=s.getZero(),h=s.getOne();for(;c.getDegree()>=(o/2|0);){let N=u,R=d;if(u=c,d=h,u.isZero())throw new st("r_{i-1} was zero");c=N;let D=s.getZero();const P=u.getCoefficient(u.getDegree()),G=s.inverse(P);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){const ee=c.getDegree()-u.getDegree(),te=s.multiply(c.getCoefficient(c.getDegree()),G);D=D.addOrSubtract(s.buildMonomial(ee,te)),c=c.addOrSubtract(u.multiplyByMonomial(ee,te))}if(h=D.multiply(d).addOrSubtract(R),c.getDegree()>=u.getDegree())throw new be("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new st("sigmaTilde(0) was zero");const y=s.inverse(p),E=h.multiplyScalar(y),C=c.multiplyScalar(y);return[E,C]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(i);let s=0;const u=this.field;for(let c=1;c<u.getSize()&&s<i;c++)n.evaluateAt(c)===0&&(o[s]=u.inverse(c),s++);if(s!==i)throw new st("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){const o=i.length,s=new Int32Array(o),u=this.field;for(let c=0;c<o;c++){const d=u.inverse(i[c]);let h=1;for(let p=0;p<o;p++)if(c!==p){const y=u.multiply(i[p],d),E=y&1?y&-2:y|1;h=u.multiply(h,E)}s[c]=u.multiply(n.evaluateAt(d),u.inverse(h)),u.getGeneratorBase()!==0&&(s[c]=u.multiply(s[c],d))}return s}}var Le;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Le||(Le={}));class Ne{decode(n){this.ddata=n;let i=n.getBits(),o=this.extractBits(i),s=this.correctBits(o),u=Ne.convertBoolArrayToByteArray(s),c=Ne.getEncodedData(s),d=new dn(u,c,null,null);return d.setNumBits(s.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,o=Le.UPPER,s=Le.UPPER,u="",c=0;for(;c<i;)if(s===Le.BINARY){if(i-c<5)break;let d=Ne.readCode(n,c,5);if(c+=5,d===0){if(i-c<11)break;d=Ne.readCode(n,c,11)+31,c+=11}for(let h=0;h<d;h++){if(i-c<8){c=i;break}const p=Ne.readCode(n,c,8);u+=Z.castAsNonUtf8Char(p),c+=8}s=o}else{let d=s===Le.DIGIT?4:5;if(i-c<d)break;let h=Ne.readCode(n,c,d);c+=d;let p=Ne.getCharacter(s,h);p.startsWith("CTRL_")?(o=s,s=Ne.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=s)):(u+=p,s=o)}return u}static getTable(n){switch(n){case"L":return Le.LOWER;case"P":return Le.PUNCT;case"M":return Le.MIXED;case"D":return Le.DIGIT;case"B":return Le.BINARY;case"U":default:return Le.UPPER}}static getCharacter(n,i){switch(n){case Le.UPPER:return Ne.UPPER_TABLE[i];case Le.LOWER:return Ne.LOWER_TABLE[i];case Le.MIXED:return Ne.MIXED_TABLE[i];case Le.PUNCT:return Ne.PUNCT_TABLE[i];case Le.DIGIT:return Ne.DIGIT_TABLE[i];default:throw new be("Bad table")}}correctBits(n){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=oe.AZTEC_DATA_10):(o=12,i=oe.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),u=n.length/o;if(u<s)throw new U;let c=n.length%o,d=new Int32Array(u);for(let C=0;C<u;C++,c+=o)d[C]=Ne.readCode(n,c,o);try{new Qe(i).decode(d,u-s)}catch(C){throw new U(C)}let h=(1<<o)-1,p=0;for(let C=0;C<s;C++){let N=d[C];if(N===0||N===h)throw new U;(N===1||N===h-1)&&p++}let y=new Array(s*o-p),E=0;for(let C=0;C<s;C++){let N=d[C];if(N===1||N===h-1)y.fill(N>1,E,E+o-1),E+=o-1;else for(let R=o-1;R>=0;--R)y[E++]=(N&1<<R)!==0}return y}extractBits(n){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),s=(i?11:14)+o*4,u=new Int32Array(s),c=new Array(this.totalBitsInLayer(o,i));if(i)for(let d=0;d<u.length;d++)u[d]=d;else{let d=s+1+2*b.truncDivision(b.truncDivision(s,2)-1,15),h=s/2,p=b.truncDivision(d,2);for(let y=0;y<h;y++){let E=y+b.truncDivision(y,15);u[h-y-1]=p-E-1,u[h+y]=p+E+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(i?9:12),y=d*2,E=s-1-y;for(let C=0;C<p;C++){let N=C*2;for(let R=0;R<2;R++)c[h+N+R]=n.get(u[y+R],u[y+C]),c[h+2*p+N+R]=n.get(u[y+C],u[E-R]),c[h+4*p+N+R]=n.get(u[E-R],u[E-C]),c[h+6*p+N+R]=n.get(u[E-C],u[y+R])}h+=p*8}return c}static readCode(n,i,o){let s=0;for(let u=i;u<i+o;u++)s<<=1,n[u]&&(s|=1);return s}static readByte(n,i){let o=n.length-i;return o>=8?Ne.readCode(n,i,8):Ne.readCode(n,i,o)<<8-o}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let o=0;o<i.length;o++)i[o]=Ne.readByte(n,8*o);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ne.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ce{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,s){const u=n-o,c=i-s;return Math.sqrt(u*u+c*c)}static sum(n){let i=0;for(let o=0,s=n.length;o!==s;o++){const u=n[o];i+=u}return i}}class Jt{static floatToIntBits(n){return n}}Jt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof de){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Jt.floatToIntBits(this.x)+Jt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),s=this.distance(n[0],n[2]);let u,c,d;if(o>=i&&o>=s?(c=n[0],u=n[1],d=n[2]):s>=o&&s>=i?(c=n[1],u=n[0],d=n[2]):(c=n[2],u=n[0],d=n[1]),this.crossProductZ(u,c,d)<0){const h=u;u=d,d=h}n[0]=u,n[1]=c,n[2]=d}static distance(n,i){return Ce.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){const s=i.x,u=i.y;return(o.x-s)*(n.y-u)-(o.y-u)*(n.x-s)}}class ja{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class x1 extends ja{constructor(n,i,o,s,u){super(n,i),this.compact=o,this.nbDatablocks=s,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ur{constructor(n,i,o,s){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=ur.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),s==null&&(s=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=s-u,this.downInit=s+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new B}detect(){let n=this.leftInit,i=this.rightInit,o=this.upInit,s=this.downInit,u=!1,c=!0,d=!1,h=!1,p=!1,y=!1,E=!1;const C=this.width,N=this.height;for(;c;){c=!1;let R=!0;for(;(R||!h)&&i<C;)R=this.containsBlackPoint(o,s,i,!1),R?(i++,c=!0,h=!0):h||i++;if(i>=C){u=!0;break}let D=!0;for(;(D||!p)&&s<N;)D=this.containsBlackPoint(n,i,s,!0),D?(s++,c=!0,p=!0):p||s++;if(s>=N){u=!0;break}let P=!0;for(;(P||!y)&&n>=0;)P=this.containsBlackPoint(o,s,n,!1),P?(n--,c=!0,y=!0):y||n--;if(n<0){u=!0;break}let G=!0;for(;(G||!E)&&o>=0;)G=this.containsBlackPoint(n,i,o,!0),G?(o--,c=!0,E=!0):E||o--;if(o<0){u=!0;break}c&&(d=!0)}if(!u&&d){const R=i-n;let D=null;for(let te=1;D===null&&te<R;te++)D=this.getBlackPointOnSegment(n,s-te,n+te,s);if(D==null)throw new B;let P=null;for(let te=1;P===null&&te<R;te++)P=this.getBlackPointOnSegment(n,o+te,n+te,o);if(P==null)throw new B;let G=null;for(let te=1;G===null&&te<R;te++)G=this.getBlackPointOnSegment(i,o+te,i-te,o);if(G==null)throw new B;let ee=null;for(let te=1;ee===null&&te<R;te++)ee=this.getBlackPointOnSegment(i,s-te,i-te,s);if(ee==null)throw new B;return this.centerEdges(ee,D,G,P)}else throw new B}getBlackPointOnSegment(n,i,o,s){const u=Ce.round(Ce.distance(n,i,o,s)),c=(o-n)/u,d=(s-i)/u,h=this.image;for(let p=0;p<u;p++){const y=Ce.round(n+p*c),E=Ce.round(i+p*d);if(h.get(y,E))return new de(y,E)}return null}centerEdges(n,i,o,s){const u=n.getX(),c=n.getY(),d=i.getX(),h=i.getY(),p=o.getX(),y=o.getY(),E=s.getX(),C=s.getY(),N=ur.CORR;return u<this.width/2?[new de(E-N,C+N),new de(d+N,h+N),new de(p-N,y-N),new de(u+N,c-N)]:[new de(E+N,C+N),new de(d+N,h-N),new de(p-N,y+N),new de(u-N,c-N)]}containsBlackPoint(n,i,o,s){const u=this.image;if(s){for(let c=n;c<=i;c++)if(u.get(c,o))return!0}else for(let c=n;c<=i;c++)if(u.get(o,c))return!0;return!1}}ur.INIT_SIZE=10,ur.CORR=1;class kl{static checkAndNudgePoints(n,i){const o=n.getWidth(),s=n.getHeight();let u=!0;for(let c=0;c<i.length&&u;c+=2){const d=Math.floor(i[c]),h=Math.floor(i[c+1]);if(d<-1||d>o||h<-1||h>s)throw new B;u=!1,d===-1?(i[c]=0,u=!0):d===o&&(i[c]=o-1,u=!0),h===-1?(i[c+1]=0,u=!0):h===s&&(i[c+1]=s-1,u=!0)}u=!0;for(let c=i.length-2;c>=0&&u;c-=2){const d=Math.floor(i[c]),h=Math.floor(i[c+1]);if(d<-1||d>o||h<-1||h>s)throw new B;u=!1,d===-1?(i[c]=0,u=!0):d===o&&(i[c]=o-1,u=!0),h===-1?(i[c+1]=0,u=!0):h===s&&(i[c+1]=s-1,u=!0)}}}class Fn{constructor(n,i,o,s,u,c,d,h,p){this.a11=n,this.a21=i,this.a31=o,this.a12=s,this.a22=u,this.a32=c,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,i,o,s,u,c,d,h,p,y,E,C,N,R,D,P){const G=Fn.quadrilateralToSquare(n,i,o,s,u,c,d,h);return Fn.squareToQuadrilateral(p,y,E,C,N,R,D,P).times(G)}transformPoints(n){const i=n.length,o=this.a11,s=this.a12,u=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,E=this.a33;for(let C=0;C<i;C+=2){const N=n[C],R=n[C+1],D=u*N+h*R+E;n[C]=(o*N+c*R+p)/D,n[C+1]=(s*N+d*R+y)/D}}transformPointsWithValues(n,i){const o=this.a11,s=this.a12,u=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,y=this.a32,E=this.a33,C=n.length;for(let N=0;N<C;N++){const R=n[N],D=i[N],P=u*R+h*D+E;n[N]=(o*R+c*D+p)/P,i[N]=(s*R+d*D+y)/P}}static squareToQuadrilateral(n,i,o,s,u,c,d,h){const p=n-o+u-d,y=i-s+c-h;if(p===0&&y===0)return new Fn(o-n,u-o,n,s-i,c-s,i,0,0,1);{const E=o-u,C=d-u,N=s-c,R=h-c,D=E*R-C*N,P=(p*R-C*y)/D,G=(E*y-p*N)/D;return new Fn(o-n+P*o,d-n+G*d,n,s-i+P*s,h-i+G*h,i,P,G,1)}}static quadrilateralToSquare(n,i,o,s,u,c,d,h){return Fn.squareToQuadrilateral(n,i,o,s,u,c,d,h).buildAdjoint()}buildAdjoint(){return new Fn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Fn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class m1 extends kl{sampleGrid(n,i,o,s,u,c,d,h,p,y,E,C,N,R,D,P,G,ee,te){const q=Fn.quadrilateralToQuadrilateral(s,u,c,d,h,p,y,E,C,N,R,D,P,G,ee,te);return this.sampleGridWithTransform(n,i,o,q)}sampleGridWithTransform(n,i,o,s){if(i<=0||o<=0)throw new B;const u=new fe(i,o),c=new Float32Array(2*i);for(let d=0;d<o;d++){const h=c.length,p=d+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=p;s.transformPoints(c),kl.checkAndNudgePoints(n,c);try{for(let y=0;y<h;y+=2)n.get(Math.floor(c[y]),Math.floor(c[y+1]))&&u.set(y/2,d)}catch{throw new B}}return u}}class Cr{static setGridSampler(n){Cr.gridSampler=n}static getInstance(){return Cr.gridSampler}}Cr.gridSampler=new m1;class Xt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class y1{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let c=o[0];o[0]=o[2],o[2]=c}this.extractParameters(o);let s=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new x1(s,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new B;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let s=0;for(let c=0;c<4;c++){let d=o[(this.shift+c)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let u=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let o=0;n.forEach((s,u,c)=>{let d=(s>>i-2<<1)+(s&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let s=0;s<4;s++)if(b.bitCount(o^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new B}getCorrectedParameterData(n,i){let o,s;i?(o=7,s=2):(o=10,s=4);let u=o-s,c=new Int32Array(o);for(let h=o-1;h>=0;--h)c[h]=n&15,n>>=4;try{new Qe(oe.AZTEC_PARAM).decode(c,u)}catch{throw new B}let d=0;for(let h=0;h<s;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(n){let i=n,o=n,s=n,u=n,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(i,c,1,-1),C=this.getFirstDifferent(o,c,1,1),N=this.getFirstDifferent(s,c,-1,1),R=this.getFirstDifferent(u,c,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(R,E)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(E,C,N,R))break}i=E,o=C,s=N,u=R,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new B;this.compact=this.nbCenterLayers===5;let d=new de(i.getX()+.5,i.getY()-.5),h=new de(o.getX()+.5,o.getY()+.5),p=new de(s.getX()-.5,s.getY()+.5),y=new de(u.getX()-.5,u.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,s;try{let d=new ur(this.image).detect();n=d[0],i=d[1],o=d[2],s=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Xt(h+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(h-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Xt(h-7,p-7),!1,-1,-1).toResultPoint()}let u=Ce.round((n.getX()+s.getX()+i.getX()+o.getX())/4),c=Ce.round((n.getY()+s.getY()+i.getY()+o.getY())/4);try{let d=new ur(this.image,15,u,c).detect();n=d[0],i=d[1],o=d[2],s=d[3]}catch{n=this.getFirstDifferent(new Xt(u+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(u+7,c+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(u-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Xt(u-7,c-7),!1,-1,-1).toResultPoint()}return u=Ce.round((n.getX()+s.getX()+i.getX()+o.getX())/4),c=Ce.round((n.getY()+s.getY()+i.getY()+o.getY())/4),new Xt(u,c)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,s,u){let c=Cr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return c.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,i.getX(),i.getY(),o.getX(),o.getY(),s.getX(),s.getY(),u.getX(),u.getY())}sampleLine(n,i,o){let s=0,u=this.distanceResultPoint(n,i),c=u/o,d=n.getX(),h=n.getY(),p=c*(i.getX()-n.getX())/u,y=c*(i.getY()-n.getY())/u;for(let E=0;E<o;E++)this.image.get(Ce.round(d+E*p),Ce.round(h+E*y))&&(s|=1<<o-E-1);return s}isWhiteOrBlackRectangle(n,i,o,s){let u=3;n=new Xt(n.getX()-u,n.getY()+u),i=new Xt(i.getX()-u,i.getY()-u),o=new Xt(o.getX()+u,o.getY()-u),s=new Xt(s.getX()+u,s.getY()+u);let c=this.getColor(s,n);if(c===0)return!1;let d=this.getColor(n,i);return d!==c||(d=this.getColor(i,o),d!==c)?!1:(d=this.getColor(o,s),d===c)}getColor(n,i){let o=this.distancePoint(n,i),s=(i.getX()-n.getX())/o,u=(i.getY()-n.getY())/o,c=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(o);for(let C=0;C<y;C++)d+=s,h+=u,this.image.get(Ce.round(d),Ce.round(h))!==p&&c++;let E=c/o;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(n,i,o,s){let u=n.getX()+o,c=n.getY()+s;for(;this.isValid(u,c)&&this.image.get(u,c)===i;)u+=o,c+=s;for(u-=o,c-=s;this.isValid(u,c)&&this.image.get(u,c)===i;)u+=o;for(u-=o;this.isValid(u,c)&&this.image.get(u,c)===i;)c+=s;return c-=s,new Xt(u,c)}expandSquare(n,i,o){let s=o/(2*i),u=n[0].getX()-n[2].getX(),c=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new de(d+s*u,h+s*c),y=new de(d-s*u,h-s*c);u=n[1].getX()-n[3].getX(),c=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let E=new de(d+s*u,h+s*c),C=new de(d-s*u,h-s*c);return[p,E,y,C]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Ce.round(n.getX()),o=Ce.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return Ce.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Ce.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class Ua{decode(n,i=null){let o=null,s=new y1(n.getBlackMatrix()),u=null,c=null;try{let y=s.detectMirror(!1);u=y.getPoints(),this.reportFoundResultPoints(i,u),c=new Ne().decode(y)}catch(y){o=y}if(c==null)try{let y=s.detectMirror(!0);u=y.getPoints(),this.reportFoundResultPoints(i,u),c=new Ne().decode(y)}catch(y){throw o??y}let d=new xe(c.getText(),c.getRawBytes(),c.getNumBits(),u,se.AZTEC,F.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(Ze.BYTE_SEGMENTS,h);let p=c.getECLevel();return p!=null&&d.putMetadata(Ze.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,i){if(n!=null){let o=n.get($.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((s,u,c)=>{o.foundPossibleResultPoint(s)})}}reset(){}}class Zp extends jt{constructor(n=500){super(new Ua,n)}}class vt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get($.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),c=this.doDecode(u,i),d=c.getResultMetadata();let h=270;d!==null&&d.get(Ze.ORIENTATION)===!0&&(h=h+d.get(Ze.ORIENTATION)%360),c.putMetadata(Ze.ORIENTATION,h);const p=c.getResultPoints();if(p!==null){const y=u.getHeight();for(let E=0;E<p.length;E++)p[E]=new de(y-p[E].getY()-1,p[E].getX())}return c}else throw new B}}reset(){}doDecode(n,i){const o=n.getWidth(),s=n.getHeight();let u=new k(o);const c=i&&i.get($.TRY_HARDER)===!0,d=Math.max(1,s>>(c?8:5));let h;c?h=s:h=15;const p=Math.trunc(s/2);for(let y=0;y<h;y++){const E=Math.trunc((y+1)/2),C=(y&1)===0,N=p+d*(C?E:-E);if(N<0||N>=s)break;try{u=n.getBlackRow(N,u)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(u.reverse(),i&&i.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;i.forEach((P,G)=>D.set(G,P)),D.delete($.NEED_RESULT_POINT_CALLBACK),i=D}try{const D=this.decodeRow(N,u,i);if(R===1){D.putMetadata(Ze.ORIENTATION,180);const P=D.getResultPoints();P!==null&&(P[0]=new de(o-P[0].getX()-1,P[0].getY()),P[1]=new de(o-P[1].getX()-1,P[1].getY()))}return D}catch{}}}throw new B}static recordPattern(n,i,o){const s=o.length;for(let p=0;p<s;p++)o[p]=0;const u=n.getSize();if(i>=u)throw new B;let c=!n.get(i),d=0,h=i;for(;h<u;){if(n.get(h)!==c)o[d]++;else{if(++d===s)break;o[d]=1,c=!c}h++}if(!(d===s||d===s-1&&h===u))throw new B}static recordPatternInReverse(n,i,o){let s=o.length,u=n.get(i);for(;i>0&&s>=0;)n.get(--i)!==u&&(s--,u=!u);if(s>=0)throw new B;vt.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){const s=n.length;let u=0,c=0;for(let p=0;p<s;p++)u+=n[p],c+=i[p];if(u<c)return Number.POSITIVE_INFINITY;const d=u/c;o*=d;let h=0;for(let p=0;p<s;p++){const y=n[p],E=i[p]*d,C=y>E?y-E:E-y;if(C>o)return Number.POSITIVE_INFINITY;h+=C}return h/u}}class ne extends vt{static findStartPattern(n){const i=n.getSize(),o=n.getNextSet(0);let s=0,u=Int32Array.from([0,0,0,0,0,0]),c=o,d=!1;const h=6;for(let p=o;p<i;p++)if(n.get(p)!==d)u[s]++;else{if(s===h-1){let y=ne.MAX_AVG_VARIANCE,E=-1;for(let C=ne.CODE_START_A;C<=ne.CODE_START_C;C++){const N=vt.patternMatchVariance(u,ne.CODE_PATTERNS[C],ne.MAX_INDIVIDUAL_VARIANCE);N<y&&(y=N,E=C)}if(E>=0&&n.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,E]);c+=u[0]+u[1],u=u.slice(2,u.length-1),u[s-1]=0,u[s]=0,s--}else s++;u[s]=1,d=!d}throw new B}static decodeCode(n,i,o){vt.recordPattern(n,o,i);let s=ne.MAX_AVG_VARIANCE,u=-1;for(let c=0;c<ne.CODE_PATTERNS.length;c++){const d=ne.CODE_PATTERNS[c],h=this.patternMatchVariance(i,d,ne.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,u=c)}if(u>=0)return u;throw new B}decodeRow(n,i,o){const s=o&&o.get($.ASSUME_GS1)===!0,u=ne.findStartPattern(i),c=u[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let p;switch(c){case ne.CODE_START_A:p=ne.CODE_CODE_A;break;case ne.CODE_START_B:p=ne.CODE_CODE_B;break;case ne.CODE_START_C:p=ne.CODE_CODE_C;break;default:throw new U}let y=!1,E=!1,C="",N=u[0],R=u[1];const D=Int32Array.from([0,0,0,0,0,0]);let P=0,G=0,ee=c,te=0,q=!0,Me=!1,Se=!1;for(;!y;){const Fi=E;switch(E=!1,P=G,G=ne.decodeCode(i,D,R),h[d++]=G,G!==ne.CODE_STOP&&(q=!0),G!==ne.CODE_STOP&&(te++,ee+=te*G),N=R,R+=D.reduce((A2,S2)=>A2+S2,0),G){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new U}switch(p){case ne.CODE_CODE_A:if(G<64)Se===Me?C+=String.fromCharCode(32+G):C+=String.fromCharCode(32+G+128),Se=!1;else if(G<96)Se===Me?C+=String.fromCharCode(G-64):C+=String.fromCharCode(G+64),Se=!1;else switch(G!==ne.CODE_STOP&&(q=!1),G){case ne.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!Me&&Se?(Me=!0,Se=!1):Me&&Se?(Me=!1,Se=!1):Se=!0;break;case ne.CODE_SHIFT:E=!0,p=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:p=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:p=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_B:if(G<96)Se===Me?C+=String.fromCharCode(32+G):C+=String.fromCharCode(32+G+128),Se=!1;else switch(G!==ne.CODE_STOP&&(q=!1),G){case ne.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!Me&&Se?(Me=!0,Se=!1):Me&&Se?(Me=!1,Se=!1):Se=!0;break;case ne.CODE_SHIFT:E=!0,p=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:p=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:p=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_C:if(G<100)G<10&&(C+="0"),C+=G;else switch(G!==ne.CODE_STOP&&(q=!1),G){case ne.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case ne.CODE_CODE_A:p=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:p=ne.CODE_CODE_B;break;case ne.CODE_STOP:y=!0;break}break}Fi&&(p=p===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const rn=R-N;if(R=i.getNextUnset(R),!i.isRange(R,Math.min(i.getSize(),R+(R-N)/2),!1))throw new B;if(ee-=te*P,ee%103!==P)throw new L;const Un=C.length;if(Un===0)throw new B;Un>0&&q&&(p===ne.CODE_CODE_C?C=C.substring(0,Un-2):C=C.substring(0,Un-1));const on=(u[1]+u[0])/2,Ye=N+rn/2,Lt=h.length,hn=new Uint8Array(Lt);for(let Fi=0;Fi<Lt;Fi++)hn[Fi]=h[Fi];const Bi=[new de(on,n),new de(Ye,n)];return new xe(C,hn,0,Bi,se.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class At extends vt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,o){let s=this.counters;s.fill(0),this.decodeRowResult="";let u=At.findAsteriskPattern(i,s),c=i.getNextSet(u[1]),d=i.getSize(),h,p;do{At.recordPattern(i,c,s);let D=At.toNarrowWidePattern(s);if(D<0)throw new B;h=At.patternToChar(D),this.decodeRowResult+=h,p=c;for(let P of s)c+=P;c=i.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let D of s)y+=D;let E=c-p-y;if(c!==d&&E*2<y)throw new B;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,P=0;for(let G=0;G<D;G++)P+=At.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(D)!==At.ALPHABET_STRING.charAt(P%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new B;let C;this.extendedMode?C=At.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let N=(u[1]+u[0])/2,R=p+y/2;return new xe(C,null,0,[new de(N,n),new de(R,n)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let o=n.getSize(),s=n.getNextSet(0),u=0,c=s,d=!1,h=i.length;for(let p=s;p<o;p++)if(n.get(p)!==d)i[u]++;else{if(u===h-1){if(this.toNarrowWidePattern(i)===At.ASTERISK_ENCODING&&n.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,d=!d}throw new B}static toNarrowWidePattern(n){let i=n.length,o=0,s;do{let u=2147483647;for(let h of n)h<u&&h>o&&(u=h);o=u,s=0;let c=0,d=0;for(let h=0;h<i;h++){let p=n[h];p>o&&(d|=1<<i-1-h,s++,c+=p)}if(s===3){for(let h=0;h<i&&s>0;h++){let p=n[h];if(p>o&&(s--,p*2>=c))return-1}return d}}while(s>3);return-1}static patternToChar(n){for(let i=0;i<At.CHARACTER_ENCODINGS.length;i++)if(At.CHARACTER_ENCODINGS[i]===n)return At.ALPHABET_STRING.charAt(i);if(n===At.ASTERISK_ENCODING)return"*";throw new B}static decodeExtended(n){let i=n.length,o="";for(let s=0;s<i;s++){let u=n.charAt(s);if(u==="+"||u==="$"||u==="%"||u==="/"){let c=n.charAt(s+1),d="\0";switch(u){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new U;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new U;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new U;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new U;break}o+=d,s++}else o+=u}return o}}At.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",At.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],At.ASTERISK_ENCODING=148;class We extends vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let s=this.decodeStart(i),u=this.decodeEnd(i),c=new ie;We.decodeMiddle(i,s[1],u[0],c);let d=c.toString(),h=null;o!=null&&(h=o.get($.ALLOWED_LENGTHS)),h==null&&(h=We.DEFAULT_ALLOWED_LENGTHS);let p=d.length,y=!1,E=0;for(let R of h){if(p===R){y=!0;break}R>E&&(E=R)}if(!y&&p>E&&(y=!0),!y)throw new U;const C=[new de(s[1],n),new de(u[0],n)];return new xe(d,null,0,C,se.ITF,new Date().getTime())}static decodeMiddle(n,i,o,s){let u=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(u.fill(0),c.fill(0),d.fill(0);i<o;){vt.recordPattern(n,i,u);for(let p=0;p<5;p++){let y=2*p;c[p]=u[y],d[p]=u[y+1]}let h=We.decodeDigit(c);s.append(h.toString()),h=this.decodeDigit(d),s.append(h.toString()),u.forEach(function(p){i+=p})}}decodeStart(n){let i=We.skipWhiteSpace(n),o=We.findGuardPattern(n,i,We.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let s=i-1;o>0&&s>=0&&!n.get(s);s--)o--;if(o!==0)throw new B}static skipWhiteSpace(n){const i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new B;return o}decodeEnd(n){n.reverse();try{let i=We.skipWhiteSpace(n),o;try{o=We.findGuardPattern(n,i,We.END_PATTERN_REVERSED[0])}catch(u){u instanceof B&&(o=We.findGuardPattern(n,i,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let s=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-s,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let s=o.length,u=new Int32Array(s),c=n.getSize(),d=!1,h=0,p=i;u.fill(0);for(let y=i;y<c;y++)if(n.get(y)!==d)u[h]++;else{if(h===s-1){if(vt.patternMatchVariance(u,o,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[p,y];p+=u[0]+u[1],F.arraycopy(u,2,u,0,h-1),u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,d=!d}throw new B}static decodeDigit(n){let i=We.MAX_AVG_VARIANCE,o=-1,s=We.PATTERNS.length;for(let u=0;u<s;u++){let c=We.PATTERNS[u],d=vt.patternMatchVariance(n,c,We.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,o=u):d===i&&(o=-1)}if(o>=0)return o%10;throw new B}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,s=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=dt.findGuardPattern(n,s,!1,this.START_END_PATTERN,u);let c=o[0];s=o[1];let d=c-(s-c);d>=0&&(i=n.isRange(d,c,!1))}return o}static checkChecksum(n){return dt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return dt.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let s=i-1;s>=0;s-=2){let u=n.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}o*=3;for(let s=i-2;s>=0;s-=2){let u=n.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}static decodeEnd(n,i){return dt.findGuardPattern(n,i,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,s){return this.findGuardPattern(n,i,o,s,new Int32Array(s.length))}static findGuardPattern(n,i,o,s,u){let c=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let d=0,h=i,p=s.length,y=o;for(let E=i;E<c;E++)if(n.get(E)!==y)u[d]++;else{if(d===p-1){if(vt.patternMatchVariance(u,s,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=u[0]+u[1];let C=u.slice(2,u.length-1);for(let N=0;N<d-1;N++)u[N]=C[N];u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,y=!y}throw new B}static decodeDigit(n,i,o,s){this.recordPattern(n,o,i);let u=this.MAX_AVG_VARIANCE,c=-1,d=s.length;for(let h=0;h<d;h++){let p=s[h],y=vt.patternMatchVariance(i,p,dt.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,c=h)}if(c>=0)return c;throw new B}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class To{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,s),c=s.toString(),d=To.parseExtensionString(c),h=[new de((o[0]+o[1])/2,n),new de(u,n)],p=new xe(c,null,0,h,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=n.getSize(),c=i[1],d=0;for(let p=0;p<5&&c<u;p++){let y=dt.decodeDigit(n,s,c,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let E of s)c+=E;y>=10&&(d|=1<<4-p),p!==4&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(o.length!==5)throw new B;let h=this.determineCheckDigit(d);if(To.extensionChecksum(o.toString())!==h)throw new B;return c}static extensionChecksum(n){let i=n.length,o=0;for(let s=i-2;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-48;o*=3;for(let s=i-1;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new B}static parseExtensionString(n){if(n.length!==5)return null;let i=To.parseExtension5String(n);return i==null?null:new Map([[Ze.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),s=(o/100).toString(),u=o%100,c=u<10?"0"+u:u.toString();return i+s+"."+c}}class Ll{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,s),c=s.toString(),d=Ll.parseExtensionString(c),h=[new de((o[0]+o[1])/2,n),new de(u,n)],p=new xe(c,null,0,h,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,i,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=n.getSize(),c=i[1],d=0;for(let h=0;h<2&&c<u;h++){let p=dt.decodeDigit(n,s,c,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+p%10);for(let y of s)c+=y;p>=10&&(d|=1<<1-h),h!==1&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(o.length!==2)throw new B;if(parseInt(o.toString())%4!==d)throw new B;return c}static parseExtensionString(n){return n.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(n)]])}}class w1{static decodeRow(n,i,o){let s=dt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new To().decodeRow(n,i,s)}catch{return new Ll().decodeRow(n,i,s)}}}w1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Fe extends dt{constructor(){super(),this.decodeRowStringBuffer="",Fe.L_AND_G_PATTERNS=Fe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Fe.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let s=0;s<i.length;s++)o[s]=i[i.length-s-1];Fe.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let s=Fe.findStartGuardPattern(i),u=o==null?null:o.get($.NEED_RESULT_POINT_CALLBACK);if(u!=null){const q=new de((s[0]+s[1])/2,n);u.foundPossibleResultPoint(q)}let c=this.decodeMiddle(i,s,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(u!=null){const q=new de(d,n);u.foundPossibleResultPoint(q)}let p=this.decodeEnd(i,d);if(u!=null){const q=new de((p[0]+p[1])/2,n);u.foundPossibleResultPoint(q)}let y=p[1],E=y+(y-p[0]);if(E>=i.getSize()||!i.isRange(y,E,!1))throw new B;let C=h.toString();if(C.length<8)throw new U;if(!Fe.checkChecksum(C))throw new L;let N=(s[1]+s[0])/2,R=(p[1]+p[0])/2,D=this.getBarcodeFormat(),P=[new de(N,n),new de(R,n)],G=new xe(C,null,0,P,D,new Date().getTime()),ee=0;try{let q=w1.decodeRow(n,i,p[1]);G.putMetadata(Ze.UPC_EAN_EXTENSION,q.getText()),G.putAllMetadata(q.getResultMetadata()),G.addResultPoints(q.getResultPoints()),ee=q.getText().length}catch{}let te=o==null?null:o.get($.ALLOWED_EAN_EXTENSIONS);if(te!=null){let q=!1;for(let Me in te)if(ee.toString()===Me){q=!0;break}if(!q)throw new B}return G}decodeEnd(n,i){return Fe.findGuardPattern(n,i,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Fe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return Fe.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let s=i-1;s>=0;s-=2){let u=n.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}o*=3;for(let s=i-2;s>=0;s-=2){let u=n.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}}class ni extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=n.getSize(),c=i[1],d=0;for(let p=0;p<6&&c<u;p++){let y=Fe.decodeDigit(n,s,c,Fe.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let E of s)c+=E;y>=10&&(d|=1<<5-p)}o=ni.determineFirstDigit(o,d),c=Fe.findGuardPattern(n,c,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<u;p++){let y=Fe.decodeDigit(n,s,c,Fe.L_PATTERNS);o+=String.fromCharCode(48+y);for(let E of s)c+=E}return{rowOffset:c,resultString:o}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(n,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new B}}ni.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class v1 extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=n.getSize(),c=i[1];for(let h=0;h<4&&c<u;h++){let p=Fe.decodeDigit(n,s,c,Fe.L_PATTERNS);o+=String.fromCharCode(48+p);for(let y of s)c+=y}c=Fe.findGuardPattern(n,c,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<u;h++){let p=Fe.decodeDigit(n,s,c,Fe.L_PATTERNS);o+=String.fromCharCode(48+p);for(let y of s)c+=y}return{rowOffset:c,resultString:o}}getBarcodeFormat(){return se.EAN_8}}class E1 extends Fe{constructor(){super(...arguments),this.ean13Reader=new ni}getBarcodeFormat(){return se.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new xe(i.substring(1),null,null,n.getResultPoints(),se.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new B}reset(){this.ean13Reader.reset()}}class jn extends Fe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const u=n.getSize();let c=i[1],d=0;for(let p=0;p<6&&c<u;p++){const y=jn.decodeDigit(n,s,c,jn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let E of s)c+=E;y>=10&&(d|=1<<5-p)}let h=jn.determineNumSysAndCheckDigit(o,d);return{rowOffset:c,resultString:h}}decodeEnd(n,i){return jn.findGuardPatternWithoutCounters(n,i,!0,jn.MIDDLE_END_PATTERN)}checkChecksum(n){return Fe.checkChecksum(jn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s]){let u=String.fromCharCode(48+o),c=String.fromCharCode(48+s);return u+n+c}throw B.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new ie;o.append(n.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(s),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(s);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}jn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pl extends vt{constructor(n){super();let i=n==null?null:n.get($.POSSIBLE_FORMATS),o=[];a(i)?(o.push(new ni),o.push(new E1),o.push(new v1),o.push(new jn)):(i.indexOf(se.EAN_13)>-1&&o.push(new ni),i.indexOf(se.UPC_A)>-1&&o.push(new E1),i.indexOf(se.EAN_8)>-1&&o.push(new v1),i.indexOf(se.UPC_E)>-1&&o.push(new jn)),this.readers=o}decodeRow(n,i,o){for(let s of this.readers)try{const u=s.decodeRow(n,i,o),c=u.getBarcodeFormat()===se.EAN_13&&u.getText().charAt(0)==="0",d=o==null?null:o.get($.POSSIBLE_FORMATS),h=d==null||d.includes(se.UPC_A);if(c&&h){const p=u.getRawBytes(),y=new xe(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),se.UPC_A);return y.putAllMetadata(u.getResultMetadata()),y}return u}catch{}throw new B}reset(){for(let n of this.readers)n.reset()}}class Ut extends vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let o=0;o<i.length;o++)if(vt.patternMatchVariance(n,i[o],Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return o;throw new B}static count(n){return Ce.sum(new Int32Array(n))}static increment(n,i){let o=0,s=i[0];for(let u=1;u<n.length;u++)i[u]>s&&(s=i[u],o=u);n[o]++}static decrement(n,i){let o=0,s=i[0];for(let u=1;u<n.length;u++)i[u]<s&&(s=i[u],o=u);n[o]--}static isFinderPattern(n){let i=n[0]+n[1],o=i+n[2]+n[3],s=i/o;if(s>=Ut.MIN_FINDER_PATTERN_RATIO&&s<=Ut.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of n)d>c&&(c=d),d<u&&(u=d);return c<10*u}return!1}}Ut.MAX_AVG_VARIANCE=.2,Ut.MAX_INDIVIDUAL_VARIANCE=.45,Ut.MIN_FINDER_PATTERN_RATIO=9.5/12,Ut.MAX_FINDER_PATTERN_RATIO=12.5/14;class Oi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Oi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class za{constructor(n,i,o,s,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new de(o,u)),this.resultPoints.push(new de(s,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof za))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Qn{constructor(){}static getRSSvalue(n,i,o){let s=0;for(let h of n)s+=h;let u=0,c=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,c|=1<<h;p<n[h];p++,c&=~(1<<h)){let y=Qn.combins(s-p-1,d-h-2);if(o&&c===0&&s-p-(d-h-1)>=d-h-1&&(y-=Qn.combins(s-p-(d-h),d-h-2)),d-h-1>1){let E=0;for(let C=s-p-(d-h-2);C>i;C--)E+=Qn.combins(s-p-C-1,d-h-3);y-=E*(d-1-h)}else s-p>i&&y--;u+=y}s-=p}return u}static combins(n,i){let o,s;n-i>i?(s=i,o=n-i):(s=n-i,o=i);let u=1,c=1;for(let d=n;d>o;d--)u*=d,c<=s&&(u/=c,c++);for(;c<=s;)u/=c,c++;return u}}class Qp{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,s=new k(o),u=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&s.set(u),u++;for(let h=1;h<n.length;++h){let p=n[h],y=p.getLeftChar().getValue();for(let E=11;E>=0;--E)y&1<<E&&s.set(u),u++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let C=11;C>=0;--C)E&1<<C&&s.set(u),u++}}return s}}class ri{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class en extends Bl{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===en.FNC1}}en.FNC1="$";class ii extends Bl{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _n extends Bl{constructor(n,i,o){if(super(n),i<0||i>10||o<0||o>10)throw new U;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_n.FNC1}isSecondDigitFNC1(){return this.secondDigit===_n.FNC1}isAnyFNC1(){return this.firstDigit===_n.FNC1||this.secondDigit===_n.FNC1}}_n.FNC1=10;class le{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new B;let i=n.substring(0,2);for(let u of le.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,u[2],n):le.processFixedAI(2,u[1],n);if(n.length<3)throw new B;let o=n.substring(0,3);for(let u of le.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,u[2],n):le.processFixedAI(3,u[1],n);for(let u of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,u[2],n):le.processFixedAI(4,u[1],n);if(n.length<4)throw new B;let s=n.substring(0,4);for(let u of le.FOUR_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,u[2],n):le.processFixedAI(4,u[1],n);throw new B}static processFixedAI(n,i,o){if(o.length<n)throw new B;let s=o.substring(0,n);if(o.length<n+i)throw new B;let u=o.substring(n,n+i),c=o.substring(n+i),d="("+s+")"+u,h=le.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(n,i,o){let s=o.substring(0,n),u;o.length<n+i?u=o.length:u=n+i;let c=o.substring(n,u),d=o.substring(u),h="("+s+")"+c,p=le.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class Mi{constructor(n){this.buffer=new ie,this.information=n}decodeAllCodes(n,i){let o=i,s=null;do{let u=this.decodeGeneralPurposeField(o,s),c=le.parseFieldsInGeneralPurpose(u.getNewString());if(c!=null&&n.append(c),u.isRemaining()?s=""+u.getRemainingValue():s=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),u-1,_n.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,s=(i-8)%11;return new _n(n+7,o,s)}extractNumericValueFromBitArray(n,i){return Mi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let s=0;for(let u=0;u<o;++u)n.get(i+u)&&(s|=1<<o-u-1);return s}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ii(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ii(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new ii(this.current.getPosition(),this.buffer.toString()):i=new ii(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ri(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ri(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ri(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ri(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,8);return s>=232&&s<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new en(n+5,en.FNC1);if(i>=5&&i<15)return new en(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new en(n+7,""+(o+1));if(o>=90&&o<116)return new en(n+7,""+(o+7));let s=this.extractNumericValueFromBitArray(n,8),u;switch(s){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new U}return new en(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new en(n+5,en.FNC1);if(i>=5&&i<15)return new en(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new en(n+6,""+(o+33));let s;switch(o){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new be("Decoding invalid alphanumeric value: "+o)}return new en(n+6,s)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Fl{constructor(n){this.information=n,this.generalDecoder=new Mi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tn extends Fl{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,o)}encodeCompressedGtinWithoutAI(n,i,o){for(let s=0;s<4;++s){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}tn.appendCheckDigit(n,o)}static appendCheckDigit(n,i){let o=0;for(let s=0;s<13;s++){let u=n.charAt(s+i).charCodeAt(0)-48;o+=s&1?u:3*u}o=10-o%10,o===10&&(o=0),n.append(o)}}tn.GTIN_SIZE=40;class Ri extends tn{constructor(n){super(n)}parseInformation(){let n=new ie;n.append("(01)");let i=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ri.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Ri.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Ri.HEADER_SIZE+44)}}Ri.HEADER_SIZE=4;class Ha extends Fl{constructor(n){super(n)}parseInformation(){let n=new ie;return this.getGeneralDecoder().decodeAllCodes(n,Ha.HEADER_SIZE)}}Ha.HEADER_SIZE=5;class Va extends tn{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,s);let u=this.checkWeight(s),c=1e5;for(let d=0;d<5;++d)u/c===0&&n.append("0"),c/=10;n.append(u)}}class $n extends Va{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+Va.GTIN_SIZE+$n.WEIGHT_SIZE)throw new B;let n=new ie;return this.encodeCompressedGtin(n,$n.HEADER_SIZE),this.encodeCompressedWeight(n,$n.HEADER_SIZE+Va.GTIN_SIZE,$n.WEIGHT_SIZE),n.toString()}}$n.HEADER_SIZE=5,$n.WEIGHT_SIZE=15;class $p extends $n{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class Kp extends $n{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Kn extends tn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+tn.GTIN_SIZE)throw new B;let n=new ie;this.encodeCompressedGtin(n,Kn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+tn.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+tn.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class Yt extends tn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Yt.HEADER_SIZE+tn.GTIN_SIZE)throw new B;let n=new ie;this.encodeCompressedGtin(n,Yt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+tn.GTIN_SIZE,Yt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+tn.GTIN_SIZE+Yt.LAST_DIGIT_SIZE,Yt.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Yt.HEADER_SIZE+tn.GTIN_SIZE+Yt.LAST_DIGIT_SIZE+Yt.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()}}Yt.HEADER_SIZE=8,Yt.LAST_DIGIT_SIZE=2,Yt.FIRST_THREE_DIGITS_SIZE=10;class rt extends Va{constructor(n,i,o){super(n),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new B;let n=new ie;return this.encodeCompressedGtin(n,rt.HEADER_SIZE),this.encodeCompressedWeight(n,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(n,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,rt.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let s=o%32;o/=32;let u=o%12+1;o/=12;let c=o;c/10==0&&n.append("0"),n.append(c),u/10==0&&n.append("0"),n.append(u),s/10==0&&n.append("0"),n.append(s)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}rt.HEADER_SIZE=8,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function C1(v){try{if(v.get(1))return new Ri(v);if(!v.get(2))return new Ha(v);switch(Mi.extractNumericValueFromBitArray(v,1,4)){case 4:return new $p(v);case 5:return new Kp(v)}switch(Mi.extractNumericValueFromBitArray(v,1,5)){case 12:return new Kn(v);case 13:return new Yt(v)}switch(Mi.extractNumericValueFromBitArray(v,1,7)){case 56:return new rt(v,"310","11");case 57:return new rt(v,"320","11");case 58:return new rt(v,"310","13");case 59:return new rt(v,"320","13");case 60:return new rt(v,"310","15");case 61:return new rt(v,"320","15");case 62:return new rt(v,"310","17");case 63:return new rt(v,"320","17")}}catch(n){throw console.log(n),new be("unknown decoder: "+v)}}class Ar{constructor(n,i,o,s){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Ar?Ar.equalsOrNull(n.leftchar,i.leftchar)&&Ar.equalsOrNull(n.rightchar,i.rightchar)&&Ar.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Ar.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class jl{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof jl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((s,u)=>{i.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(o=!0)})}),o}}class K extends Ut{constructor(n){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(n,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof B){if(!this.pairs.length)throw new B;o=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new B}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let s=this.rows[o];this.pairs.length=0;for(let c of n)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(s);try{return this.checkRows(u,o+1)}catch(c){this.verbose&&console.log(c)}}throw new B}static isValidSequence(n){for(let i of K.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let s=0;s<n.length;s++)if(n[s].getFinderPattern().getValue()!=i[s]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,s=!1,u=!1;for(;o<this.rows.length;){let c=this.rows[o];if(c.getRowNumber()>n){u=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),o++}u||s||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new jl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let s of o.getPairs())for(let u of n)if(Ar.equals(s,u))break}}static isPartialRow(n,i){for(let o of i){let s=!0;for(let u of n){let c=!1;for(let d of o.getPairs())if(u.equals(d)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Qp.buildBitArray(n),s=C1(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),c=n[n.length-1].getFinderPattern().getResultPoints(),d=[u[0],u[1],c[0],c[1]];return new xe(s,null,null,d,se.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let s=o.getChecksumPortion(),u=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);s+=h.getLeftChar().getChecksumPortion(),u++;let p=h.getRightChar();p!=null&&(s+=p.getChecksumPortion(),u++)}return s%=211,211*(u-4)+s==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let s=i.length%2==0;this.startFromEven&&(s=!s);let u,c=!0,d=-1;do this.findNextPair(n,i,d),u=this.parseFoundFinderPattern(n,o,s),u==null?d=K.getNextSecondBar(n,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(n,u,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new B;let p;try{p=this.decodeDataCharacter(n,u,s,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new Ar(h,p,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=n.getSize(),c;o>=0?c=o:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<u&&(h=!n.get(c),!!h);)c++;let p=0,y=c;for(let E=c;E<u;E++)if(n.get(E)!=h)s[p]++;else{if(p==3){if(d&&K.reverseCounters(s),K.isFinderPattern(s)){this.startEnd[0]=y,this.startEnd[1]=E;return}d&&K.reverseCounters(s),y+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new B}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let s=n[o];n[o]=n[i-o-1],n[i-o-1]=s}}parseFoundFinderPattern(n,i,o){let s,u,c;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,s=this.startEnd[0]-p,u=p,c=this.startEnd[1]}else u=this.startEnd[0],c=n.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let d=this.getDecodeFinderCounters();F.arraycopy(d,0,d,1,d.length-1),d[0]=s;let h;try{h=this.parseFinderValue(d,K.FINDER_PATTERNS)}catch{return null}return new za(h,[u,c],u,c,i)}decodeDataCharacter(n,i,o,s){let u=this.getDataCharacterCounters();for(let Ye=0;Ye<u.length;Ye++)u[Ye]=0;if(s)K.recordPatternInReverse(n,i.getStartEnd()[0],u);else{K.recordPattern(n,i.getStartEnd()[1],u);for(let Ye=0,Lt=u.length-1;Ye<Lt;Ye++,Lt--){let hn=u[Ye];u[Ye]=u[Lt],u[Lt]=hn}}let c=17,d=Ce.sum(new Int32Array(u))/c,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new B;let p=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Ye=0;Ye<u.length;Ye++){let Lt=1*u[Ye]/d,hn=Lt+.5;if(hn<1){if(Lt<.3)throw new B;hn=1}else if(hn>8){if(Lt>8.7)throw new B;hn=8}let Bi=Ye/2;Ye&1?(y[Bi]=hn,C[Bi]=Lt-hn):(p[Bi]=hn,E[Bi]=Lt-hn)}this.adjustOddEvenCounts(c);let N=4*i.getValue()+(o?0:2)+(s?0:1)-1,R=0,D=0;for(let Ye=p.length-1;Ye>=0;Ye--){if(K.isNotA1left(i,o,s)){let Lt=K.WEIGHTS[N][2*Ye];D+=p[Ye]*Lt}R+=p[Ye]}let P=0;for(let Ye=y.length-1;Ye>=0;Ye--)if(K.isNotA1left(i,o,s)){let Lt=K.WEIGHTS[N][2*Ye+1];P+=y[Ye]*Lt}let G=D+P;if(R&1||R>13||R<4)throw new B;let ee=(13-R)/2,te=K.SYMBOL_WIDEST[ee],q=9-te,Me=Qn.getRSSvalue(p,te,!0),Se=Qn.getRSSvalue(y,q,!1),rn=K.EVEN_TOTAL_SUBSET[ee],Un=K.GSUM[ee],on=Me*rn+Se+Un;return new Oi(on,G)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=Ce.sum(new Int32Array(this.getOddCounts())),o=Ce.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);let c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let h=i+o-n,p=(i&1)==1,y=(o&1)==0;if(h==1)if(p){if(y)throw new B;u=!0}else{if(!y)throw new B;d=!0}else if(h==-1)if(p){if(y)throw new B;s=!0}else{if(!y)throw new B;c=!0}else if(h==0){if(p){if(!y)throw new B;i<o?(s=!0,d=!0):(u=!0,c=!0)}else if(y)throw new B}else throw new B;if(s){if(u)throw new B;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new B;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class qp extends Oi{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends Ut{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){const s=this.decodePair(i,!1,n,o);ht.addOrTally(this.possibleLeftPairs,s),i.reverse();let u=this.decodePair(i,!0,n,o);ht.addOrTally(this.possibleRightPairs,u),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ht.checkChecksum(c,d))return ht.constructResult(c,d)}throw new B}static addOrTally(n,i){if(i==null)return;let o=!1;for(let s of n)if(s.getValue()===i.getValue()){s.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),s=new String(o).toString(),u=new ie;for(let p=13-s.length;p>0;p--)u.append("0");u.append(s);let c=0;for(let p=0;p<13;p++){let y=u.charAt(p).charCodeAt(0)-48;c+=p&1?y:3*y}c=10-c%10,c===10&&(c=0),u.append(c.toString());let d=n.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new xe(u.toString(),null,0,[d[0],d[1],h[0],h[1]],se.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s}decodePair(n,i,o,s){try{let u=this.findFinderPattern(n,i),c=this.parseFoundFinderPattern(n,o,i,u),d=s==null?null:s.get($.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(u[0]+u[1])/2;i&&(y=n.getSize()-1-y),d.foundPossibleResultPoint(new de(y,o))}let h=this.decodeDataCharacter(n,c,!0),p=this.decodeDataCharacter(n,c,!1);return new qp(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(n,i,o){let s=this.getDataCharacterCounters();for(let P=0;P<s.length;P++)s[P]=0;if(o)vt.recordPatternInReverse(n,i.getStartEnd()[0],s);else{vt.recordPattern(n,i.getStartEnd()[1]+1,s);for(let P=0,G=s.length-1;P<G;P++,G--){let ee=s[P];s[P]=s[G],s[G]=ee}}let u=o?16:15,c=Ce.sum(new Int32Array(s))/u,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let P=0;P<s.length;P++){let G=s[P]/c,ee=Math.floor(G+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(P/2);P&1?(h[te]=ee,y[te]=G-ee):(d[te]=ee,p[te]=G-ee)}this.adjustOddEvenCounts(o,u);let E=0,C=0;for(let P=d.length-1;P>=0;P--)C*=9,C+=d[P],E+=d[P];let N=0,R=0;for(let P=h.length-1;P>=0;P--)N*=9,N+=h[P],R+=h[P];let D=C+3*N;if(o){if(E&1||E>12||E<4)throw new B;let P=(12-E)/2,G=ht.OUTSIDE_ODD_WIDEST[P],ee=9-G,te=Qn.getRSSvalue(d,G,!1),q=Qn.getRSSvalue(h,ee,!0),Me=ht.OUTSIDE_EVEN_TOTAL_SUBSET[P],Se=ht.OUTSIDE_GSUM[P];return new Oi(te*Me+q+Se,D)}else{if(R&1||R>10||R<4)throw new B;let P=(10-R)/2,G=ht.INSIDE_ODD_WIDEST[P],ee=9-G,te=Qn.getRSSvalue(d,G,!0),q=Qn.getRSSvalue(h,ee,!1),Me=ht.INSIDE_ODD_TOTAL_SUBSET[P],Se=ht.INSIDE_GSUM[P];return new Oi(q*Me+te+Se,D)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=n.getSize(),u=!1,c=0;for(;c<s&&(u=!n.get(c),i!==u);)c++;let d=0,h=c;for(let p=c;p<s;p++)if(n.get(p)!==u)o[d]++;else{if(d===3){if(Ut.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,u=!u}throw new B}parseFoundFinderPattern(n,i,o,s){let u=n.get(s[0]),c=s[0]-1;for(;c>=0&&u!==n.get(c);)c--;c++;const d=s[0]-c,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);F.arraycopy(h,0,p,1,h.length-1),p[0]=d;const y=this.parseFinderValue(p,ht.FINDER_PATTERNS);let E=c,C=s[1];return o&&(E=n.getSize()-1-E,C=n.getSize()-1-C),new za(y,[c,s[1]],E,C,i)}adjustOddEvenCounts(n,i){let o=Ce.sum(new Int32Array(this.getOddCounts())),s=Ce.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1,d=!1,h=!1;n?(o>12?c=!0:o<4&&(u=!0),s>12?h=!0:s<4&&(d=!0)):(o>11?c=!0:o<5&&(u=!0),s>10?h=!0:s<4&&(d=!0));let p=o+s-i,y=(o&1)===(n?1:0),E=(s&1)===1;if(p===1)if(y){if(E)throw new B;c=!0}else{if(!E)throw new B;h=!0}else if(p===-1)if(y){if(E)throw new B;u=!0}else{if(!E)throw new B;d=!0}else if(p===0){if(y){if(!E)throw new B;o<s?(u=!0,h=!0):(c=!0,d=!0)}else if(E)throw new B}else throw new B;if(u){if(c)throw new B;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new B;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Di extends vt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const o=n?n.get($.POSSIBLE_FORMATS):null,s=n&&n.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(se.EAN_13)||o.includes(se.UPC_A)||o.includes(se.EAN_8)||o.includes(se.UPC_E))&&this.readers.push(new Pl(n)),o.includes(se.CODE_39)&&this.readers.push(new At(s)),o.includes(se.CODE_128)&&this.readers.push(new ne),o.includes(se.ITF)&&this.readers.push(new We),o.includes(se.RSS_14)&&this.readers.push(new ht),o.includes(se.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new Pl(n)),this.readers.push(new At),this.readers.push(new Pl(n)),this.readers.push(new ne),this.readers.push(new We),this.readers.push(new ht),this.readers.push(new K(this.verbose)))}decodeRow(n,i,o){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,i,o)}catch{}throw new B}reset(){this.readers.forEach(n=>n.reset())}}class Jp extends jt{constructor(n=500,i){super(new Di(i),n,i)}}class Ue{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class je{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(n,i,o,s,u,c){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=u,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),p=c.getECBlocks();for(let y of p)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new U;for(let o of De.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new De(1,10,10,8,8,new Ue(5,new je(1,3))),new De(2,12,12,10,10,new Ue(7,new je(1,5))),new De(3,14,14,12,12,new Ue(10,new je(1,8))),new De(4,16,16,14,14,new Ue(12,new je(1,12))),new De(5,18,18,16,16,new Ue(14,new je(1,18))),new De(6,20,20,18,18,new Ue(18,new je(1,22))),new De(7,22,22,20,20,new Ue(20,new je(1,30))),new De(8,24,24,22,22,new Ue(24,new je(1,36))),new De(9,26,26,24,24,new Ue(28,new je(1,44))),new De(10,32,32,14,14,new Ue(36,new je(1,62))),new De(11,36,36,16,16,new Ue(42,new je(1,86))),new De(12,40,40,18,18,new Ue(48,new je(1,114))),new De(13,44,44,20,20,new Ue(56,new je(1,144))),new De(14,48,48,22,22,new Ue(68,new je(1,174))),new De(15,52,52,24,24,new Ue(42,new je(2,102))),new De(16,64,64,14,14,new Ue(56,new je(2,140))),new De(17,72,72,16,16,new Ue(36,new je(4,92))),new De(18,80,80,18,18,new Ue(48,new je(4,114))),new De(19,88,88,20,20,new Ue(56,new je(4,144))),new De(20,96,96,22,22,new Ue(68,new je(4,174))),new De(21,104,104,24,24,new Ue(56,new je(6,136))),new De(22,120,120,18,18,new Ue(68,new je(6,175))),new De(23,132,132,20,20,new Ue(62,new je(8,163))),new De(24,144,144,22,22,new Ue(62,new je(8,156),new je(2,155))),new De(25,8,18,6,16,new Ue(7,new je(1,5))),new De(26,8,32,6,14,new Ue(11,new je(1,10))),new De(27,12,26,10,24,new Ue(14,new je(1,16))),new De(28,12,36,10,16,new Ue(18,new je(1,22))),new De(29,16,36,14,16,new Ue(24,new je(1,32))),new De(30,16,48,14,22,new Ue(28,new je(1,49)))]}}De.VERSIONS=De.buildVersions();class Ul{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new U;this.version=Ul.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),o=n.getWidth();return De.getVersionForDimensions(i,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,s=0;const u=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,y=!1;do if(o===u&&s===0&&!d)n[i++]=this.readCorner1(u,c)&255,o-=2,s+=2,d=!0;else if(o===u-2&&s===0&&c&3&&!h)n[i++]=this.readCorner2(u,c)&255,o-=2,s+=2,h=!0;else if(o===u+4&&s===2&&!(c&7)&&!p)n[i++]=this.readCorner3(u,c)&255,o-=2,s+=2,p=!0;else if(o===u-2&&s===0&&(c&7)===4&&!y)n[i++]=this.readCorner4(u,c)&255,o-=2,s+=2,y=!0;else{do o<u&&s>=0&&!this.readMappingMatrix.get(s,o)&&(n[i++]=this.readUtah(o,s,u,c)&255),o-=2,s+=2;while(o>=0&&s<c);o+=1,s+=3;do o>=0&&s<c&&!this.readMappingMatrix.get(s,o)&&(n[i++]=this.readUtah(o,s,u,c)&255),o+=2,s-=2;while(o<u&&s>=0);o+=3,s+=1}while(o<u||s<c);if(i!==this.version.getTotalCodewords())throw new U;return n}readModule(n,i,o,s){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=s,n+=4-(s+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,s){let u=0;return this.readModule(n-2,i-2,o,s)&&(u|=1),u<<=1,this.readModule(n-2,i-1,o,s)&&(u|=1),u<<=1,this.readModule(n-1,i-2,o,s)&&(u|=1),u<<=1,this.readModule(n-1,i-1,o,s)&&(u|=1),u<<=1,this.readModule(n-1,i,o,s)&&(u|=1),u<<=1,this.readModule(n,i-2,o,s)&&(u|=1),u<<=1,this.readModule(n,i-1,o,s)&&(u|=1),u<<=1,this.readModule(n,i,o,s)&&(u|=1),u}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new S("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),c=i/s|0,d=o/u|0,h=c*s,p=d*u,y=new fe(p,h);for(let E=0;E<c;++E){const C=E*s;for(let N=0;N<d;++N){const R=N*u;for(let D=0;D<s;++D){const P=E*(s+2)+1+D,G=C+D;for(let ee=0;ee<u;++ee){const te=N*(u+2)+1+ee;if(n.get(te,P)){const q=R+ee;y.set(q,G)}}}}}return y}}class zl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const o=i.getECBlocks();let s=0;const u=o.getECBlocks();for(let D of u)s+=D.getCount();const c=new Array(s);let d=0;for(let D of u)for(let P=0;P<D.getCount();P++){const G=D.getDataCodewords(),ee=o.getECCodewords()+G;c[d++]=new zl(G,new Uint8Array(ee))}const p=c[0].codewords.length-o.getECCodewords(),y=p-1;let E=0;for(let D=0;D<y;D++)for(let P=0;P<d;P++)c[P].codewords[D]=n[E++];const C=i.getVersionNumber()===24,N=C?8:d;for(let D=0;D<N;D++)c[D].codewords[p-1]=n[E++];const R=c[0].codewords.length;for(let D=p;D<R;D++)for(let P=0;P<d;P++){const G=C?(P+8)%d:P,ee=C&&G>7?D-1:D;c[G].codewords[ee]=n[E++]}if(E!==n.length)throw new S;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new S(""+n);let i=0,o=this.bitOffset,s=this.byteOffset;const u=this.bytes;if(o>0){const c=8-o,d=n<c?n:c,h=c-d,p=255>>8-d<<h;i=(u[s]&p)>>h,n-=d,o+=d,o===8&&(o=0,s++)}if(n>0){for(;n>=8;)i=i<<8|u[s]&255,s++,n-=8;if(n>0){const c=8-n,d=255>>c<<c;i=i<<n|(u[s]&d)>>c,o+=n}}return this.bitOffset=o,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var St;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));class Sr{static decode(n){const i=new Hl(n),o=new ie,s=new ie,u=new Array;let c=St.ASCII_ENCODE;do if(c===St.ASCII_ENCODE)c=this.decodeAsciiSegment(i,o,s);else{switch(c){case St.C40_ENCODE:this.decodeC40Segment(i,o);break;case St.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case St.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new U}c=St.ASCII_ENCODE}while(c!==St.PAD_ENCODE&&i.available()>0);return s.length()>0&&o.append(s.toString()),new dn(n,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,o){let s=!1;do{let u=n.readBits(8);if(u===0)throw new U;if(u<=128)return s&&(u+=128),i.append(String.fromCharCode(u-1)),St.ASCII_ENCODE;if(u===129)return St.PAD_ENCODE;if(u<=229){const c=u-130;c<10&&i.append("0"),i.append(""+c)}else switch(u){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new U;break}}while(n.available()>0);return St.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1;const s=[];let u=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(u){case 0:if(h<3)u=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):i.append(p)}else throw new U;break;case 1:o?(i.append(String.fromCharCode(h+128)),o=!1):i.append(String.fromCharCode(h)),u=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:o?(i.append(String.fromCharCode(h+224)),o=!1):i.append(String.fromCharCode(h+96)),u=0;break;default:throw new U}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,s=[],u=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(u){case 0:if(h<3)u=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):i.append(p)}else throw new U;break;case 1:o?(i.append(String.fromCharCode(h+128)),o=!1):i.append(String.fromCharCode(h)),u=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):i.append(p)}else switch(h){case 27:i.append("");break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):i.append(p),u=0}else throw new U;break;default:throw new U}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const o=[];do{if(n.available()===8)return;const s=n.readBits(8);if(s===254)return;this.parseTwoBytes(s,n.readBits(8),o);for(let u=0;u<3;u++){const c=o[u];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new U;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let s=(n<<8)+i-1,u=Math.floor(s/1600);o[0]=u,s-=u*1600,u=Math.floor(s/40),o[1]=u,o[2]=s-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let s=n.readBits(6);if(s===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}s&32||(s|=64),i.append(String.fromCharCode(s))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let s=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),s++);let c;if(u===0?c=n.available()/8|0:u<250?c=u:c=250*(u-249)+this.unrandomize255State(n.readBits(8),s++),c<0)throw new U;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(n.available()<8)throw new U;d[h]=this.unrandomize255State(n.readBits(8),s++)}o.push(d);try{i.append(ye.decode(d,Z.ISO88591))}catch(h){throw new be("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,i){const o=149*i%255+1,s=n-o;return s>=0?s:s+256}}Sr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Sr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Sr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Sr.TEXT_SHIFT2_SET_CHARS=Sr.C40_SHIFT2_SET_CHARS,Sr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class e2{constructor(){this.rsDecoder=new Qe(oe.DATA_MATRIX_FIELD_256)}decode(n){const i=new Ul(n),o=i.getVersion(),s=i.readCodewords(),u=zl.getDataBlocks(s,o);let c=0;for(let p of u)c+=p.getNumDataCodewords();const d=new Uint8Array(c),h=u.length;for(let p=0;p<h;p++){const y=u[p],E=y.getCodewords(),C=y.getNumDataCodewords();this.correctErrors(E,C);for(let N=0;N<C;N++)d[N*h+p]=E[N]}return Sr.decode(d)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new L}for(let s=0;s<i;s++)n[s]=o[s]}}class mt{constructor(n){this.image=n,this.rectangleDetector=new ur(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new B;i=this.shiftToModuleCenter(i);const o=i[0],s=i[1],u=i[2],c=i[3];let d=this.transitionsBetween(o,c)+1,h=this.transitionsBetween(u,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=mt.sampleGrid(this.image,o,s,u,c,d,h);return new ja(p,[o,s,u,c])}static shiftPoint(n,i,o){let s=(i.getX()-n.getX())/(o+1),u=(i.getY()-n.getY())/(o+1);return new de(n.getX()+s,n.getY()+u)}static moveAway(n,i,o){let s=n.getX(),u=n.getY();return s<i?s-=1:s+=1,u<o?u-=1:u+=1,new de(s,u)}detectSolid1(n){let i=n[0],o=n[1],s=n[3],u=n[2],c=this.transitionsBetween(i,o),d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,u),p=this.transitionsBetween(u,i),y=c,E=[u,i,o,s];return y>d&&(y=d,E[0]=i,E[1]=o,E[2]=s,E[3]=u),y>h&&(y=h,E[0]=o,E[1]=s,E[2]=u,E[3]=i),y>p&&(E[0]=s,E[1]=u,E[2]=i,E[3]=o),E}detectSolid2(n){let i=n[0],o=n[1],s=n[2],u=n[3],c=this.transitionsBetween(i,u),d=mt.shiftPoint(o,s,(c+1)*4),h=mt.shiftPoint(s,o,(c+1)*4),p=this.transitionsBetween(d,i),y=this.transitionsBetween(h,u);return p<y?(n[0]=i,n[1]=o,n[2]=s,n[3]=u):(n[0]=o,n[1]=s,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],s=n[2],u=n[3],c=this.transitionsBetween(i,u),d=this.transitionsBetween(o,u),h=mt.shiftPoint(i,o,(d+1)*4),p=mt.shiftPoint(s,o,(c+1)*4);c=this.transitionsBetween(h,u),d=this.transitionsBetween(p,u);let y=new de(u.getX()+(s.getX()-o.getX())/(c+1),u.getY()+(s.getY()-o.getY())/(c+1)),E=new de(u.getX()+(i.getX()-o.getX())/(d+1),u.getY()+(i.getY()-o.getY())/(d+1));if(!this.isValid(y))return this.isValid(E)?E:null;if(!this.isValid(E))return y;let C=this.transitionsBetween(h,y)+this.transitionsBetween(p,y),N=this.transitionsBetween(h,E)+this.transitionsBetween(p,E);return C>N?y:E}shiftToModuleCenter(n){let i=n[0],o=n[1],s=n[2],u=n[3],c=this.transitionsBetween(i,u)+1,d=this.transitionsBetween(s,u)+1,h=mt.shiftPoint(i,o,d*4),p=mt.shiftPoint(s,o,c*4);c=this.transitionsBetween(h,u)+1,d=this.transitionsBetween(p,u)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let y=(i.getX()+o.getX()+s.getX()+u.getX())/4,E=(i.getY()+o.getY()+s.getY()+u.getY())/4;i=mt.moveAway(i,y,E),o=mt.moveAway(o,y,E),s=mt.moveAway(s,y,E),u=mt.moveAway(u,y,E);let C,N;return h=mt.shiftPoint(i,o,d*4),h=mt.shiftPoint(h,u,c*4),C=mt.shiftPoint(o,i,d*4),C=mt.shiftPoint(C,s,c*4),p=mt.shiftPoint(s,u,d*4),p=mt.shiftPoint(p,o,c*4),N=mt.shiftPoint(u,s,d*4),N=mt.shiftPoint(N,i,c*4),[h,C,p,N]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,s,u,c,d){return Cr.getInstance().sampleGrid(n,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,i.getX(),i.getY(),u.getX(),u.getY(),s.getX(),s.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),s=Math.trunc(n.getY()),u=Math.trunc(i.getX()),c=Math.trunc(i.getY()),d=Math.abs(c-s)>Math.abs(u-o);if(d){let D=o;o=s,s=D,D=u,u=c,c=D}let h=Math.abs(u-o),p=Math.abs(c-s),y=-h/2,E=s<c?1:-1,C=o<u?1:-1,N=0,R=this.image.get(d?s:o,d?o:s);for(let D=o,P=s;D!==u;D+=C){let G=this.image.get(d?P:D,d?D:P);if(G!==R&&(N++,R=G),y+=p,y>0){if(P===c)break;P+=E,y-=h}}return N}}class Ir{constructor(){this.decoder=new e2}decode(n,i=null){let o,s;if(i!=null&&i.has($.PURE_BARCODE)){const p=Ir.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(p),s=Ir.NO_POINTS}else{const p=new mt(n.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),s=p.getPoints()}const u=o.getRawBytes(),c=new xe(o.getText(),u,8*u.length,s,se.DATA_MATRIX,F.currentTimeMillis()),d=o.getByteSegments();d!=null&&c.putMetadata(Ze.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&c.putMetadata(Ze.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i==null||o==null)throw new B;const s=this.moduleSize(i,n);let u=i[1];const c=o[1];let d=i[0];const p=(o[0]-d+1)/s,y=(c-u+1)/s;if(p<=0||y<=0)throw new B;const E=s/2;u+=E,d+=E;const C=new fe(p,y);for(let N=0;N<y;N++){const R=u+N*s;for(let D=0;D<p;D++)n.get(d+D*s,R)&&C.set(D,N)}return C}static moduleSize(n,i){const o=i.getWidth();let s=n[0];const u=n[1];for(;s<o&&i.get(s,u);)s++;if(s===o)throw new B;const c=s-n[0];if(c===0)throw new B;return c}}Ir.NO_POINTS=[];class t2 extends jt{constructor(n=500){super(new Ir,n)}}var ki;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(ki||(ki={}));class $e{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,$e.FOR_BITS.set(o,this),$e.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return $e.L;case"M":return $e.M;case"Q":return $e.Q;case"H":return $e.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof $e))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=$e.FOR_BITS.size)throw new S;return $e.FOR_BITS.get(n)}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.L=new $e(ki.L,"L",1),$e.M=new $e(ki.M,"M",0),$e.Q=new $e(ki.Q,"Q",3),$e.H=new $e(ki.H,"H",2);class zt{constructor(n){this.errorCorrectionLevel=$e.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return b.bitCount(n^i)}static decodeFormatInformation(n,i){const o=zt.doDecodeFormatInformation(n,i);return o!==null?o:zt.doDecodeFormatInformation(n^zt.FORMAT_INFO_MASK_QR,i^zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,s=0;for(const u of zt.FORMAT_INFO_DECODE_LOOKUP){const c=u[0];if(c===n||c===i)return new zt(u[1]);let d=zt.numBitsDiffering(n,c);d<o&&(s=u[1],o=d),n!==i&&(d=zt.numBitsDiffering(i,c),d<o&&(s=u[1],o=d))}return o<=3?new zt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof zt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}zt.FORMAT_INFO_MASK_QR=21522,zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ge{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let s=0;const u=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();for(const d of c)s+=d.getCount()*(d.getDataCodewords()+u);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new U;try{return this.getVersionForNumber((n-17)/4)}catch{throw new U}}static getVersionForNumber(n){if(n<1||n>40)throw new S;return ge.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let s=0;s<ge.VERSION_DECODE_INFO.length;s++){const u=ge.VERSION_DECODE_INFO[s];if(u===n)return ge.getVersionForNumber(s+7);const c=zt.numBitsDiffering(n,u);c<i&&(o=s+7,i=c)}return i<=3?ge.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new fe(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let s=0;s<o;s++){const u=this.alignmentPatternCenters[s]-2;for(let c=0;c<o;c++)s===0&&(c===0||c===o-1)||s===o-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ge.VERSIONS=[new ge(1,new Int32Array(0),new z(7,new T(1,19)),new z(10,new T(1,16)),new z(13,new T(1,13)),new z(17,new T(1,9))),new ge(2,Int32Array.from([6,18]),new z(10,new T(1,34)),new z(16,new T(1,28)),new z(22,new T(1,22)),new z(28,new T(1,16))),new ge(3,Int32Array.from([6,22]),new z(15,new T(1,55)),new z(26,new T(1,44)),new z(18,new T(2,17)),new z(22,new T(2,13))),new ge(4,Int32Array.from([6,26]),new z(20,new T(1,80)),new z(18,new T(2,32)),new z(26,new T(2,24)),new z(16,new T(4,9))),new ge(5,Int32Array.from([6,30]),new z(26,new T(1,108)),new z(24,new T(2,43)),new z(18,new T(2,15),new T(2,16)),new z(22,new T(2,11),new T(2,12))),new ge(6,Int32Array.from([6,34]),new z(18,new T(2,68)),new z(16,new T(4,27)),new z(24,new T(4,19)),new z(28,new T(4,15))),new ge(7,Int32Array.from([6,22,38]),new z(20,new T(2,78)),new z(18,new T(4,31)),new z(18,new T(2,14),new T(4,15)),new z(26,new T(4,13),new T(1,14))),new ge(8,Int32Array.from([6,24,42]),new z(24,new T(2,97)),new z(22,new T(2,38),new T(2,39)),new z(22,new T(4,18),new T(2,19)),new z(26,new T(4,14),new T(2,15))),new ge(9,Int32Array.from([6,26,46]),new z(30,new T(2,116)),new z(22,new T(3,36),new T(2,37)),new z(20,new T(4,16),new T(4,17)),new z(24,new T(4,12),new T(4,13))),new ge(10,Int32Array.from([6,28,50]),new z(18,new T(2,68),new T(2,69)),new z(26,new T(4,43),new T(1,44)),new z(24,new T(6,19),new T(2,20)),new z(28,new T(6,15),new T(2,16))),new ge(11,Int32Array.from([6,30,54]),new z(20,new T(4,81)),new z(30,new T(1,50),new T(4,51)),new z(28,new T(4,22),new T(4,23)),new z(24,new T(3,12),new T(8,13))),new ge(12,Int32Array.from([6,32,58]),new z(24,new T(2,92),new T(2,93)),new z(22,new T(6,36),new T(2,37)),new z(26,new T(4,20),new T(6,21)),new z(28,new T(7,14),new T(4,15))),new ge(13,Int32Array.from([6,34,62]),new z(26,new T(4,107)),new z(22,new T(8,37),new T(1,38)),new z(24,new T(8,20),new T(4,21)),new z(22,new T(12,11),new T(4,12))),new ge(14,Int32Array.from([6,26,46,66]),new z(30,new T(3,115),new T(1,116)),new z(24,new T(4,40),new T(5,41)),new z(20,new T(11,16),new T(5,17)),new z(24,new T(11,12),new T(5,13))),new ge(15,Int32Array.from([6,26,48,70]),new z(22,new T(5,87),new T(1,88)),new z(24,new T(5,41),new T(5,42)),new z(30,new T(5,24),new T(7,25)),new z(24,new T(11,12),new T(7,13))),new ge(16,Int32Array.from([6,26,50,74]),new z(24,new T(5,98),new T(1,99)),new z(28,new T(7,45),new T(3,46)),new z(24,new T(15,19),new T(2,20)),new z(30,new T(3,15),new T(13,16))),new ge(17,Int32Array.from([6,30,54,78]),new z(28,new T(1,107),new T(5,108)),new z(28,new T(10,46),new T(1,47)),new z(28,new T(1,22),new T(15,23)),new z(28,new T(2,14),new T(17,15))),new ge(18,Int32Array.from([6,30,56,82]),new z(30,new T(5,120),new T(1,121)),new z(26,new T(9,43),new T(4,44)),new z(28,new T(17,22),new T(1,23)),new z(28,new T(2,14),new T(19,15))),new ge(19,Int32Array.from([6,30,58,86]),new z(28,new T(3,113),new T(4,114)),new z(26,new T(3,44),new T(11,45)),new z(26,new T(17,21),new T(4,22)),new z(26,new T(9,13),new T(16,14))),new ge(20,Int32Array.from([6,34,62,90]),new z(28,new T(3,107),new T(5,108)),new z(26,new T(3,41),new T(13,42)),new z(30,new T(15,24),new T(5,25)),new z(28,new T(15,15),new T(10,16))),new ge(21,Int32Array.from([6,28,50,72,94]),new z(28,new T(4,116),new T(4,117)),new z(26,new T(17,42)),new z(28,new T(17,22),new T(6,23)),new z(30,new T(19,16),new T(6,17))),new ge(22,Int32Array.from([6,26,50,74,98]),new z(28,new T(2,111),new T(7,112)),new z(28,new T(17,46)),new z(30,new T(7,24),new T(16,25)),new z(24,new T(34,13))),new ge(23,Int32Array.from([6,30,54,78,102]),new z(30,new T(4,121),new T(5,122)),new z(28,new T(4,47),new T(14,48)),new z(30,new T(11,24),new T(14,25)),new z(30,new T(16,15),new T(14,16))),new ge(24,Int32Array.from([6,28,54,80,106]),new z(30,new T(6,117),new T(4,118)),new z(28,new T(6,45),new T(14,46)),new z(30,new T(11,24),new T(16,25)),new z(30,new T(30,16),new T(2,17))),new ge(25,Int32Array.from([6,32,58,84,110]),new z(26,new T(8,106),new T(4,107)),new z(28,new T(8,47),new T(13,48)),new z(30,new T(7,24),new T(22,25)),new z(30,new T(22,15),new T(13,16))),new ge(26,Int32Array.from([6,30,58,86,114]),new z(28,new T(10,114),new T(2,115)),new z(28,new T(19,46),new T(4,47)),new z(28,new T(28,22),new T(6,23)),new z(30,new T(33,16),new T(4,17))),new ge(27,Int32Array.from([6,34,62,90,118]),new z(30,new T(8,122),new T(4,123)),new z(28,new T(22,45),new T(3,46)),new z(30,new T(8,23),new T(26,24)),new z(30,new T(12,15),new T(28,16))),new ge(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new T(3,117),new T(10,118)),new z(28,new T(3,45),new T(23,46)),new z(30,new T(4,24),new T(31,25)),new z(30,new T(11,15),new T(31,16))),new ge(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new T(7,116),new T(7,117)),new z(28,new T(21,45),new T(7,46)),new z(30,new T(1,23),new T(37,24)),new z(30,new T(19,15),new T(26,16))),new ge(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new T(5,115),new T(10,116)),new z(28,new T(19,47),new T(10,48)),new z(30,new T(15,24),new T(25,25)),new z(30,new T(23,15),new T(25,16))),new ge(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new T(13,115),new T(3,116)),new z(28,new T(2,46),new T(29,47)),new z(30,new T(42,24),new T(1,25)),new z(30,new T(23,15),new T(28,16))),new ge(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new T(17,115)),new z(28,new T(10,46),new T(23,47)),new z(30,new T(10,24),new T(35,25)),new z(30,new T(19,15),new T(35,16))),new ge(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new T(17,115),new T(1,116)),new z(28,new T(14,46),new T(21,47)),new z(30,new T(29,24),new T(19,25)),new z(30,new T(11,15),new T(46,16))),new ge(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new T(13,115),new T(6,116)),new z(28,new T(14,46),new T(23,47)),new z(30,new T(44,24),new T(7,25)),new z(30,new T(59,16),new T(1,17))),new ge(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new T(12,121),new T(7,122)),new z(28,new T(12,47),new T(26,48)),new z(30,new T(39,24),new T(14,25)),new z(30,new T(22,15),new T(41,16))),new ge(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new T(6,121),new T(14,122)),new z(28,new T(6,47),new T(34,48)),new z(30,new T(46,24),new T(10,25)),new z(30,new T(2,15),new T(64,16))),new ge(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new T(17,122),new T(4,123)),new z(28,new T(29,46),new T(14,47)),new z(30,new T(49,24),new T(10,25)),new z(30,new T(24,15),new T(46,16))),new ge(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new T(4,122),new T(18,123)),new z(28,new T(13,46),new T(32,47)),new z(30,new T(48,24),new T(14,25)),new z(30,new T(42,15),new T(32,16))),new ge(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new T(20,117),new T(4,118)),new z(28,new T(40,47),new T(7,48)),new z(30,new T(43,24),new T(22,25)),new z(30,new T(10,15),new T(67,16))),new ge(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new T(19,118),new T(6,119)),new z(28,new T(18,47),new T(31,48)),new z(30,new T(34,24),new T(34,25)),new z(30,new T(20,15),new T(61,16)))];var Nt;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(Nt||(Nt={}));class Tn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let s=0;s<i;s++)this.isMasked(o,s)&&n.flip(s,o)}}Tn.values=new Map([[Nt.DATA_MASK_000,new Tn(Nt.DATA_MASK_000,(v,n)=>(v+n&1)===0)],[Nt.DATA_MASK_001,new Tn(Nt.DATA_MASK_001,(v,n)=>(v&1)===0)],[Nt.DATA_MASK_010,new Tn(Nt.DATA_MASK_010,(v,n)=>n%3===0)],[Nt.DATA_MASK_011,new Tn(Nt.DATA_MASK_011,(v,n)=>(v+n)%3===0)],[Nt.DATA_MASK_100,new Tn(Nt.DATA_MASK_100,(v,n)=>(Math.floor(v/2)+Math.floor(n/3)&1)===0)],[Nt.DATA_MASK_101,new Tn(Nt.DATA_MASK_101,(v,n)=>v*n%6===0)],[Nt.DATA_MASK_110,new Tn(Nt.DATA_MASK_110,(v,n)=>v*n%6<3)],[Nt.DATA_MASK_111,new Tn(Nt.DATA_MASK_111,(v,n)=>(v+n+v*n%3&1)===0)]]);class n2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new U;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let o=0;const s=i-7;for(let u=i-1;u>=s;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=zt.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return ge.getVersionForNumber(i);let o=0;const s=n-11;for(let c=5;c>=0;c--)for(let d=n-9;d>=s;d--)o=this.copyBit(d,c,o);let u=ge.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;o=0;for(let c=5;c>=0;c--)for(let d=n-9;d>=s;d--)o=this.copyBit(c,d,o);if(u=ge.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new U}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),o=Tn.values.get(n.getDataMask()),s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s);const u=i.buildFunctionPattern();let c=!0;const d=new Uint8Array(i.getTotalCodewords());let h=0,p=0,y=0;for(let E=s-1;E>0;E-=2){E===6&&E--;for(let C=0;C<s;C++){const N=c?s-1-C:C;for(let R=0;R<2;R++)u.get(E-R,N)||(y++,p<<=1,this.bitMatrix.get(E-R,N)&&(p|=1),y===8&&(d[h++]=p,y=0,p=0))}c=!c}if(h!==i.getTotalCodewords())throw new U;return d}remask(){if(this.parsedFormatInfo===null)return;const n=Tn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let s=i+1,u=n.getHeight();s<u;s++)n.get(i,s)!==n.get(s,i)&&(n.flip(s,i),n.flip(i,s))}}class Vl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new S;const s=i.getECBlocksForLevel(o);let u=0;const c=s.getECBlocks();for(const R of c)u+=R.getCount();const d=new Array(u);let h=0;for(const R of c)for(let D=0;D<R.getCount();D++){const P=R.getDataCodewords(),G=s.getECCodewordsPerBlock()+P;d[h++]=new Vl(P,new Uint8Array(G))}const p=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==p;)y--;y++;const E=p-s.getECCodewordsPerBlock();let C=0;for(let R=0;R<E;R++)for(let D=0;D<h;D++)d[D].codewords[R]=n[C++];for(let R=y;R<h;R++)d[R].codewords[E]=n[C++];const N=d[0].codewords.length;for(let R=E;R<N;R++)for(let D=0;D<h;D++){const P=D<y?R:R+1;d[D].codewords[P]=n[C++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(bn||(bn={}));class me{constructor(n,i,o,s){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=s,me.FOR_BITS.set(s,this),me.FOR_VALUE.set(n,this)}static forBits(n){const i=me.FOR_BITS.get(n);if(i===void 0)throw new S;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof me))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class lt{static decode(n,i,o,s){const u=new Hl(n);let c=new ie;const d=new Array;let h=-1,p=-1;try{let y=null,E=!1,C;do{if(u.available()<4)C=me.TERMINATOR;else{const N=u.readBits(4);C=me.forBits(N)}switch(C){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:E=!0;break;case me.STRUCTURED_APPEND:if(u.available()<16)throw new U;h=u.readBits(8),p=u.readBits(8);break;case me.ECI:const N=lt.parseECIValue(u);if(y=H.getCharacterSetECIByValue(N),y===null)throw new U;break;case me.HANZI:const R=u.readBits(4),D=u.readBits(C.getCharacterCountBits(i));R===lt.GB2312_SUBSET&&lt.decodeHanziSegment(u,c,D);break;default:const P=u.readBits(C.getCharacterCountBits(i));switch(C){case me.NUMERIC:lt.decodeNumericSegment(u,c,P);break;case me.ALPHANUMERIC:lt.decodeAlphanumericSegment(u,c,P,E);break;case me.BYTE:lt.decodeByteSegment(u,c,P,y,d,s);break;case me.KANJI:lt.decodeKanjiSegment(u,c,P);break;default:throw new U}break}}while(C!==me.TERMINATOR)}catch{throw new U}return new dn(n,c.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(n,i,o){if(o*13>n.available())throw new U;const s=new Uint8Array(2*o);let u=0;for(;o>0;){const c=n.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,s[u]=d>>8&255,s[u+1]=d&255,u+=2,o--}try{i.append(ye.decode(s,Z.GB2312))}catch(c){throw new U(c)}}static decodeKanjiSegment(n,i,o){if(o*13>n.available())throw new U;const s=new Uint8Array(2*o);let u=0;for(;o>0;){const c=n.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,s[u]=d>>8,s[u+1]=d,u+=2,o--}try{i.append(ye.decode(s,Z.SHIFT_JIS))}catch(c){throw new U(c)}}static decodeByteSegment(n,i,o,s,u,c){if(8*o>n.available())throw new U;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=n.readBits(8);let h;s===null?h=Z.guessEncoding(d,c):h=s.getName();try{i.append(ye.decode(d,h))}catch(p){throw new U(p)}u.push(d)}static toAlphaNumericChar(n){if(n>=lt.ALPHANUMERIC_CHARS.length)throw new U;return lt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,o,s){const u=i.length();for(;o>1;){if(n.available()<11)throw new U;const c=n.readBits(11);i.append(lt.toAlphaNumericChar(Math.floor(c/45))),i.append(lt.toAlphaNumericChar(c%45)),o-=2}if(o===1){if(n.available()<6)throw new U;i.append(lt.toAlphaNumericChar(n.readBits(6)))}if(s)for(let c=u;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(n,i,o){for(;o>=3;){if(n.available()<10)throw new U;const s=n.readBits(10);if(s>=1e3)throw new U;i.append(lt.toAlphaNumericChar(Math.floor(s/100))),i.append(lt.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(lt.toAlphaNumericChar(s%10)),o-=3}if(o===2){if(n.available()<7)throw new U;const s=n.readBits(7);if(s>=100)throw new U;i.append(lt.toAlphaNumericChar(Math.floor(s/10))),i.append(lt.toAlphaNumericChar(s%10))}else if(o===1){if(n.available()<4)throw new U;const s=n.readBits(4);if(s>=10)throw new U;i.append(lt.toAlphaNumericChar(s))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=n.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=n.readBits(16);return(i&31)<<16&4294967295|o}throw new U}}lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",lt.GB2312_SUBSET=1;class A1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class r2{constructor(){this.rsDecoder=new Qe(oe.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(fe.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const o=new n2(n);let s=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){s=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new A1(!0)),u}catch(u){throw s!==null?s:u}}decodeBitMatrixParser(n,i){const o=n.readVersion(),s=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),c=Vl.getDataBlocks(u,o,s);let d=0;for(const y of c)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const y of c){const E=y.getCodewords(),C=y.getNumDataCodewords();this.correctErrors(E,C);for(let N=0;N<C;N++)h[p++]=E[N]}return lt.decode(h,o,s,i)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new L}for(let s=0;s<i;s++)n[s]=o[s]}}class Gl extends de{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const s=(this.getX()+i)/2,u=(this.getY()+n)/2,c=(this.estimatedModuleSize+o)/2;return new Gl(s,u,c)}}class Ga{constructor(n,i,o,s,u,c,d){this.image=n,this.startX=i,this.startY=o,this.width=s,this.height=u,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,o=this.width,s=n+o,u=this.startY+i/2,c=new Int32Array(3),d=this.image;for(let h=0;h<i;h++){const p=u+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=n;for(;y<s&&!d.get(y,p);)y++;let E=0;for(;y<s;){if(d.get(y,p))if(E===1)c[1]++;else if(E===2){if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,y);if(C!==null)return C}c[0]=c[2],c[1]=1,c[2]=0,E=1}else c[++E]++;else E===1&&E++,c[E]++;y++}if(this.foundPatternCross(c)){const C=this.handlePossibleCenter(c,p,s);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new B}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,o=i/2;for(let s=0;s<3;s++)if(Math.abs(i-n[s])>=o)return!1;return!0}crossCheckVertical(n,i,o,s){const u=this.image,c=u.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&u.get(i,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!u.get(i,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<c&&u.get(i,h)&&d[1]<=o;)d[1]++,h++;if(h===c||d[1]>o)return NaN;for(;h<c&&!u.get(i,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(d)?Ga.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,o){const s=n[0]+n[1]+n[2],u=Ga.centerFromEnd(n,o),c=this.crossCheckVertical(i,u,2*n[1],s);if(!isNaN(c)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,c,u))return p.combineEstimate(c,u,d);const h=new Gl(u,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Wl extends de{constructor(n,i,o,s){super(n,i),this.estimatedModuleSize=o,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const s=this.count+1,u=(this.count*this.getX()+i)/s,c=(this.count*this.getY()+n)/s,d=(this.count*this.estimatedModuleSize+o)/s;return new Wl(u,c,d,s)}}class i2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ot{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get($.TRY_HARDER)!==void 0,o=n!=null&&n.get($.PURE_BARCODE)!==void 0,s=this.image,u=s.getHeight(),c=s.getWidth();let d=Math.floor(3*u/(4*Ot.MAX_MODULES));(d<Ot.MIN_SKIP||i)&&(d=Ot.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let E=d-1;E<u&&!h;E+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let C=0;for(let N=0;N<c;N++)if(s.get(N,E))(C&1)===1&&C++,p[C]++;else if(C&1)p[C]++;else if(C===4)if(Ot.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,N,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>p[2]&&(E+=D-p[2]-d,N=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;continue}C=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,C=3;else p[++C]++;Ot.foundPatternCross(p)&&this.handlePossibleCenter(p,E,c,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return de.orderBestPatterns(y),new i2(y)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const c=n[u];if(c===0)return!1;i+=c}if(i<7)return!1;const o=i/7,s=o/2;return Math.abs(o-n[0])<s&&Math.abs(o-n[1])<s&&Math.abs(3*o-n[2])<3*s&&Math.abs(o-n[3])<s&&Math.abs(o-n[4])<s}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,o,s){const u=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;n>=c&&i>=c&&d.get(i-c,n-c);)u[2]++,c++;if(n<c||i<c)return!1;for(;n>=c&&i>=c&&!d.get(i-c,n-c)&&u[1]<=o;)u[1]++,c++;if(n<c||i<c||u[1]>o)return!1;for(;n>=c&&i>=c&&d.get(i-c,n-c)&&u[0]<=o;)u[0]++,c++;if(u[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(c=1;n+c<h&&i+c<p&&d.get(i+c,n+c);)u[2]++,c++;if(n+c>=h||i+c>=p)return!1;for(;n+c<h&&i+c<p&&!d.get(i+c,n+c)&&u[3]<o;)u[3]++,c++;if(n+c>=h||i+c>=p||u[3]>=o)return!1;for(;n+c<h&&i+c<p&&d.get(i+c,n+c)&&u[4]<o;)u[4]++,c++;if(u[4]>=o)return!1;const y=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(y-s)<2*s&&Ot.foundPatternCross(u)}crossCheckVertical(n,i,o,s){const u=this.image,c=u.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&u.get(i,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!u.get(i,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&u.get(i,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<c&&u.get(i,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!u.get(i,h)&&d[3]<o;)d[3]++,h++;if(h===c||d[3]>=o)return NaN;for(;h<c&&u.get(i,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=2*s?NaN:Ot.foundPatternCross(d)?Ot.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,i,o,s){const u=this.image,c=u.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&u.get(h,i);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!u.get(h,i)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&u.get(h,i)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<c&&u.get(h,i);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!u.get(h,i)&&d[3]<o;)d[3]++,h++;if(h===c||d[3]>=o)return NaN;for(;h<c&&u.get(h,i)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=s?NaN:Ot.foundPatternCross(d)?Ot.centerFromEnd(d,h):NaN}handlePossibleCenter(n,i,o,s){const u=n[0]+n[1]+n[2]+n[3]+n[4];let c=Ot.centerFromEnd(n,o),d=this.crossCheckVertical(i,Math.floor(c),n[2],u);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),n[2],u),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),n[2],u)))){const h=u/7;let p=!1;const y=this.possibleCenters;for(let E=0,C=y.length;E<C;E++){const N=y[E];if(N.aboutEquals(h,d,c)){y[E]=N.combineEstimate(d,c,h),p=!0;break}}if(!p){const E=new Wl(c,d,h);y.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Ot.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const o=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Ot.CENTER_QUORUM&&(n++,i+=c.getEstimatedModuleSize());if(n<3)return!1;const s=i/o;let u=0;for(const c of this.possibleCenters)u+=Math.abs(c.getEstimatedModuleSize()-s);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new B;const i=this.possibleCenters;let o;if(n>3){let s=0,u=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();s+=p,u+=p*p}o=s/n;let c=Math.sqrt(u/n-o*o);i.sort((h,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-o),E=Math.abs(h.getEstimatedModuleSize()-o);return y<E?-1:y>E?1:0});const d=Math.max(.2*o,c);for(let h=0;h<i.length&&i.length>3;h++){const p=i[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(i.splice(h,1),h--)}}if(i.length>3){let s=0;for(const u of i)s+=u.getEstimatedModuleSize();o=s/i.length,i.sort((u,c)=>{if(c.getCount()===u.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-o),h=Math.abs(u.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return c.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ot.CENTER_QUORUM=2,Ot.MIN_SKIP=3,Ot.MAX_MODULES=57;class bo{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get($.NEED_RESULT_POINT_CALLBACK);const o=new Ot(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const i=n.getTopLeft(),o=n.getTopRight(),s=n.getBottomLeft(),u=this.calculateModuleSize(i,o,s);if(u<1)throw new B("No pattern found in proccess finder.");const c=bo.computeDimension(i,o,s,u),d=ge.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const N=o.getX()-i.getX()+s.getX(),R=o.getY()-i.getY()+s.getY(),D=1-3/h,P=Math.floor(i.getX()+D*(N-i.getX())),G=Math.floor(i.getY()+D*(R-i.getY()));for(let ee=4;ee<=16;ee<<=1)try{p=this.findAlignmentInRegion(u,P,G,ee);break}catch(te){if(!(te instanceof B))throw te}}const y=bo.createTransform(i,o,s,p,c),E=bo.sampleGrid(this.image,y,c);let C;return p===null?C=[s,i,o]:C=[s,i,o,p],new ja(E,C)}static createTransform(n,i,o,s,u){const c=u-3.5;let d,h,p,y;return s!==null?(d=s.getX(),h=s.getY(),p=c-3,y=p):(d=i.getX()-n.getX()+o.getX(),h=i.getY()-n.getY()+o.getY(),p=c,y=c),Fn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,y,3.5,c,n.getX(),n.getY(),i.getX(),i.getY(),d,h,o.getX(),o.getY())}static sampleGrid(n,i,o){return Cr.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,s){const u=Ce.round(de.distance(n,i)/s),c=Ce.round(de.distance(n,o)/s);let d=Math.floor((u+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new B("Dimensions could be not found.")}return d}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?s/7:isNaN(s)?o/7:(o+s)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,s){let u=this.sizeOfBlackWhiteBlackRun(n,i,o,s),c=1,d=n-(o-n);d<0?(c=n/(n-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(i-(s-i)*c);return c=1,h<0?(c=i/(i-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*c),u+=this.sizeOfBlackWhiteBlackRun(n,i,d,h),u-1}sizeOfBlackWhiteBlackRun(n,i,o,s){const u=Math.abs(s-i)>Math.abs(o-n);if(u){let N=n;n=i,i=N,N=o,o=s,s=N}const c=Math.abs(o-n),d=Math.abs(s-i);let h=-c/2;const p=n<o?1:-1,y=i<s?1:-1;let E=0;const C=o+p;for(let N=n,R=i;N!==C;N+=p){const D=u?R:N,P=u?N:R;if(E===1===this.image.get(D,P)){if(E===2)return Ce.distance(N,R,n,i);E++}if(h+=d,h>0){if(R===s)break;R+=y,h-=c}}return E===2?Ce.distance(o+p,s,n,i):NaN}findAlignmentInRegion(n,i,o,s){const u=Math.floor(s*n),c=Math.max(0,i-u),d=Math.min(this.image.getWidth()-1,i+u);if(d-c<n*3)throw new B("Alignment top exceeds estimated module size.");const h=Math.max(0,o-u),p=Math.min(this.image.getHeight()-1,o+u);if(p-h<n*3)throw new B("Alignment bottom exceeds estimated module size.");return new Ga(this.image,c,h,d-c,p-h,n,this.resultPointCallback).find()}}class _r{constructor(){this.decoder=new r2}getDecoder(){return this.decoder}decode(n,i){let o,s;if(i!=null&&i.get($.PURE_BARCODE)!==void 0){const h=_r.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,i),s=_r.NO_POINTS}else{const h=new bo(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(h.getBits(),i),s=h.getPoints()}o.getOther()instanceof A1&&o.getOther().applyMirroredCorrection(s);const u=new xe(o.getText(),o.getRawBytes(),void 0,s,se.QR_CODE,void 0),c=o.getByteSegments();c!==null&&u.putMetadata(Ze.BYTE_SEGMENTS,c);const d=o.getECLevel();return d!==null&&u.putMetadata(Ze.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(u.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(Ze.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new B;const s=this.moduleSize(i,n);let u=i[1],c=o[1],d=i[0],h=o[0];if(d>=h||u>=c)throw new B;if(c-u!==h-d&&(h=d+(c-u),h>=n.getWidth()))throw new B;const p=Math.round((h-d+1)/s),y=Math.round((c-u+1)/s);if(p<=0||y<=0)throw new B;if(y!==p)throw new B;const E=Math.floor(s/2);u+=E,d+=E;const C=d+Math.floor((p-1)*s)-h;if(C>0){if(C>E)throw new B;d-=C}const N=u+Math.floor((y-1)*s)-c;if(N>0){if(N>E)throw new B;u-=N}const R=new fe(p,y);for(let D=0;D<y;D++){const P=u+Math.floor(D*s);for(let G=0;G<p;G++)n.get(d+Math.floor(G*s),P)&&R.set(G,D)}return R}static moduleSize(n,i){const o=i.getHeight(),s=i.getWidth();let u=n[0],c=n[1],d=!0,h=0;for(;u<s&&c<o;){if(d!==i.get(u,c)){if(++h===5)break;d=!d}u++,c++}if(u===s||c===o)throw new B;return(u-n[0])/7}}_r.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(n){return Ce.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ee.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let o=0;for(const s of n)i[o++]=s;return i}static getCodeword(n){const i=_.binarySearch(Ee.SYMBOL_TABLE,n&262143);return i<0?-1:(Ee.CODEWORD_TABLE[i]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class o2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ie{static detectMultiple(n,i,o){let s=n.getBlackMatrix(),u=Ie.detect(o,s);return u.length||(s=s.clone(),s.rotate180(),u=Ie.detect(o,s)),new o2(s,u)}static detect(n,i){const o=new Array;let s=0,u=0,c=!1;for(;s<i.getHeight();){const d=Ie.findVertices(i,s,u);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,u=0;for(const h of o)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=Ie.ROW_STEP;continue}if(c=!0,o.push(d),!n)break;d[2]!=null?(u=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return o}static findVertices(n,i,o){const s=n.getHeight(),u=n.getWidth(),c=new Array(8);return Ie.copyToResult(c,Ie.findRowsWithPattern(n,s,u,i,o,Ie.START_PATTERN),Ie.INDEXES_START_PATTERN),c[4]!=null&&(o=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Ie.copyToResult(c,Ie.findRowsWithPattern(n,s,u,i,o,Ie.STOP_PATTERN),Ie.INDEXES_STOP_PATTERN),c}static copyToResult(n,i,o){for(let s=0;s<o.length;s++)n[o[s]]=i[s]}static findRowsWithPattern(n,i,o,s,u,c){const d=new Array(4);let h=!1;const p=new Int32Array(c.length);for(;s<i;s+=Ie.ROW_STEP){let E=Ie.findGuardPattern(n,u,s,o,!1,c,p);if(E!=null){for(;s>0;){const C=Ie.findGuardPattern(n,u,--s,o,!1,c,p);if(C!=null)E=C;else{s++;break}}d[0]=new de(E[0],s),d[1]=new de(E[1],s),h=!0;break}}let y=s+1;if(h){let E=0,C=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<i;y++){const N=Ie.findGuardPattern(n,C[0],y,o,!1,c,p);if(N!=null&&Math.abs(C[0]-N[0])<Ie.MAX_PATTERN_DRIFT&&Math.abs(C[1]-N[1])<Ie.MAX_PATTERN_DRIFT)C=N,E=0;else{if(E>Ie.SKIPPED_ROW_COUNT_MAX)break;E++}}y-=E+1,d[2]=new de(C[0],y),d[3]=new de(C[1],y)}return y-s<Ie.BARCODE_MIN_HEIGHT&&_.fill(d,null),d}static findGuardPattern(n,i,o,s,u,c,d){_.fillWithin(d,0,d.length,0);let h=i,p=0;for(;n.get(h,o)&&h>0&&p++<Ie.MAX_PIXEL_DRIFT;)h--;let y=h,E=0,C=c.length;for(let N=u;y<s;y++)if(n.get(y,o)!==N)d[E]++;else{if(E===C-1){if(Ie.patternMatchVariance(d,c,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],F.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,N=!N}return E===C-1&&Ie.patternMatchVariance(d,c,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(n,i,o){let s=n.length,u=0,c=0;for(let p=0;p<s;p++)u+=n[p],c+=i[p];if(u<c)return 1/0;let d=u/c;o*=d;let h=0;for(let p=0;p<s;p++){let y=n[p],E=i[p]*d,C=y>E?y-E:E-y;if(C>o)return 1/0;h+=C}return h/u}}Ie.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ie.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ie.MAX_AVG_VARIANCE=.42,Ie.MAX_INDIVIDUAL_VARIANCE=.8,Ie.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ie.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ie.MAX_PIXEL_DRIFT=3,Ie.MAX_PATTERN_DRIFT=5,Ie.SKIPPED_ROW_COUNT_MAX=25,Ie.ROW_STEP=5,Ie.BARCODE_MIN_HEIGHT=10;class Dt{constructor(n,i){if(i.length===0)throw new S;this.field=n;let o=i.length;if(o>1&&i[0]===0){let s=1;for(;s<o&&i[s]===0;)s++;s===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-s),F.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let s=0;for(let u of this.coefficients)s=this.field.add(s,u);return s}let i=this.coefficients[0],o=this.coefficients.length;for(let s=1;s<o;s++)i=this.field.add(this.field.multiply(n,i),this.coefficients[s]);return i}add(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let c=i;i=o,o=c}let s=new Int32Array(o.length),u=o.length-i.length;F.arraycopy(o,0,s,0,u);for(let c=u;c<o.length;c++)s[c]=this.field.add(i[c-u],o[c]);return new Dt(this.field,s)}subtract(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Dt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Dt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,s=n.coefficients,u=s.length,c=new Int32Array(o+u-1);for(let d=0;d<o;d++){let h=i[d];for(let p=0;p<u;p++)c[d+p]=this.field.add(c[d+p],this.field.multiply(h,s[p]))}return new Dt(this.field,c)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Dt(this.field,i)}multiplyScalar(n){if(n===0)return new Dt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let s=0;s<i;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new Dt(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new S;if(i===0)return new Dt(this.field,new Int32Array([0]));let o=this.coefficients.length,s=new Int32Array(o+n);for(let u=0;u<o;u++)s[u]=this.field.multiply(this.coefficients[u],i);return new Dt(this.field,s)}toString(){let n=new ie;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class a2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}inverse(n){if(n===0)throw new ke;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Xl extends a2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let s=0;s<n;s++)this.expTable[s]=o,o=o*i%n;for(let s=0;s<n-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Dt(this,new Int32Array([0])),this.one=new Dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new S;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new Dt(this,o)}}Xl.PDF417_GF=new Xl(Ee.NUMBER_OF_CODEWORDS,3);class S1{constructor(){this.field=Xl.PDF417_GF}decode(n,i,o){let s=new Dt(this.field,n),u=new Int32Array(i),c=!1;for(let R=i;R>0;R--){let D=s.evaluateAt(this.field.exp(R));u[i-R]=D,D!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(o!=null)for(const R of o){let D=this.field.exp(n.length-1-R),P=new Dt(this.field,new Int32Array([this.field.subtract(0,D),1]));d=d.multiply(P)}let h=new Dt(this.field,u),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),y=p[0],E=p[1],C=this.findErrorLocations(y),N=this.findErrorMagnitudes(E,y,C);for(let R=0;R<C.length;R++){let D=n.length-1-this.field.log(C[R]);if(D<0)throw L.getChecksumInstance();n[D]=this.field.subtract(n[D],N[R])}return C.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let C=n;n=i,i=C}let s=n,u=i,c=this.field.getZero(),d=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let C=s,N=c;if(s=u,c=d,s.isZero())throw L.getChecksumInstance();u=C;let R=this.field.getZero(),D=s.getCoefficient(s.getDegree()),P=this.field.inverse(D);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){let G=u.getDegree()-s.getDegree(),ee=this.field.multiply(u.getCoefficient(u.getDegree()),P);R=R.add(this.field.buildMonomial(G,ee)),u=u.subtract(s.multiplyByMonomial(G,ee))}d=R.multiply(c).subtract(N).negative()}let h=d.getCoefficient(0);if(h===0)throw L.getChecksumInstance();let p=this.field.inverse(h),y=d.multiply(p),E=u.multiply(p);return[y,E]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),s=0;for(let u=1;u<this.field.getSize()&&s<i;u++)n.evaluateAt(u)===0&&(o[s]=this.field.inverse(u),s++);if(s!==i)throw L.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let s=i.getDegree(),u=new Int32Array(s);for(let p=1;p<=s;p++)u[s-p]=this.field.multiply(p,i.getCoefficient(p));let c=new Dt(this.field,u),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let y=this.field.inverse(o[p]),E=this.field.subtract(0,n.evaluateAt(y)),C=this.field.inverse(c.evaluateAt(y));h[p]=this.field.multiply(E,C)}return h}}class oi{constructor(n,i,o,s,u){n instanceof oi?this.constructor_2(n):this.constructor_1(n,i,o,s,u)}constructor_1(n,i,o,s,u){const c=i==null||o==null,d=s==null||u==null;if(c&&d)throw new B;c?(i=new de(0,s.getY()),o=new de(0,u.getY())):d&&(s=new de(n.getWidth()-1,i.getY()),u=new de(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=s,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(s.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new oi(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let s=this.topLeft,u=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let y=new de(h.getX(),p);o?s=y:c=y}if(i>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new de(h.getX(),p);o?u=y:d=y}return new oi(this.image,s,u,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class s2{constructor(n,i,o,s){this.columnCount=n,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class No{constructor(){this.buffer=""}static form(n,i){let o=-1;function s(c,d,h,p,y,E){if(c==="%%")return"%";if(i[++o]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let C=y?parseInt(y.substr(1)):void 0,N;switch(E){case"s":N=i[o];break;case"c":N=i[o][0];break;case"f":N=parseFloat(i[o]).toFixed(c);break;case"p":N=parseFloat(i[o]).toPrecision(c);break;case"e":N=parseFloat(i[o]).toExponential(c);break;case"x":N=parseInt(i[o]).toString(C||16);break;case"d":N=parseFloat(parseInt(i[o],C||10).toPrecision(c)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(C);let R=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;N.length<R;)N=d!==void 0?N+D:D+N;return N}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,s)}format(n,...i){this.buffer+=No.form(n,i)}toString(){return this.buffer}}class Oo{constructor(n){this.boundingBox=new oi(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let o=1;o<Oo.MAX_NEARBY_DISTANCE;o++){let s=this.imageRowToCodewordIndex(n)-o;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(n)+o,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new No;let i=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return n.toString()}}Oo.MAX_NEARBY_DISTANCE=5;class Mo{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[o,s]of this.values.entries()){const u={getKey:()=>o,getValue:()=>s};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return Ee.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class I1 extends Oo{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=-1,p=1,y=0;for(let E=c;E<d;E++){if(i[E]==null)continue;let C=i[E],N=C.getRowNumber()-h;if(N===0)y++;else if(N===1)p=Math.max(p,y),y=1,h=C.getRowNumber();else if(N<0||C.getRowNumber()>=n.getRowCount()||N>E)i[E]=null;else{let R;p>2?R=(p-2)*N:R=N;let D=R>=E;for(let P=1;P<=R&&!D;P++)D=i[E-P]!=null;D?i[E]=null:(h=C.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let s=o.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),h=-1;for(let p=u;p<c;p++){if(d[p]==null)continue;let y=d[p];y.setRowNumberAsRowIndicatorColumn();let E=y.getRowNumber()-h;E===0||(E===1?h=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?d[p]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Mo,o=new Mo,s=new Mo,u=new Mo;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:u.setValue(h/3),s.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let c=new s2(i.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,c),c}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let s=n[o];if(n[o]==null)continue;let u=s.getValue()%30,c=s.getRowNumber();if(c>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:u+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ro{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ee.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let s=0;s<o.length;s++)o[s]!=null&&(o[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let u=this.detectionResultColumns[s].getCodewords()[o];u!=null&&(u.setRowNumber(n[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let s=i[o].getRowNumber(),u=0;for(let c=this.barcodeColumnCount+1;c>0&&u<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[o];d!=null&&(u=Ro.adjustRowNumberIfValid(s,u,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let s=i[o].getRowNumber(),u=0;for(let c=1;c<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[o];d!=null&&(u=Ro.adjustRowNumberIfValid(s,u,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let s=o[i],u=this.detectionResultColumns[n-1].getCodewords(),c=u;this.detectionResultColumns[n+1]!=null&&(c=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=u[i],d[3]=c[i],i>0&&(d[0]=o[i-1],d[4]=u[i-1],d[5]=c[i-1]),i>1&&(d[8]=o[i-2],d[10]=u[i-2],d[11]=c[i-2]),i<o.length-1&&(d[1]=o[i+1],d[6]=u[i+1],d[7]=c[i+1]),i<o.length-2&&(d[9]=o[i+2],d[12]=u[i+2],d[13]=c[i+2]);for(let h of d)if(Ro.adjustRowNumber(s,h))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new No;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[s].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Do{constructor(n,i,o,s){this.rowNumber=Do.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Do.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Do.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let n=0;n<Ee.SYMBOL_TABLE.length;n++){let i=Ee.SYMBOL_TABLE[n],o=i&1;for(let s=0;s<Ee.BARS_IN_MODULE;s++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,nn.RATIOS_TABLE[n]||(nn.RATIOS_TABLE[n]=new Array(Ee.BARS_IN_MODULE)),nn.RATIOS_TABLE[n][Ee.BARS_IN_MODULE-s-1]=Math.fround(u/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=nn.getDecodedCodewordValue(nn.sampleBitCounts(n));return i!==-1?i:nn.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Ce.sum(n),o=new Int32Array(Ee.BARS_IN_MODULE),s=0,u=0;for(let c=0;c<Ee.MODULES_IN_CODEWORD;c++){let d=i/(2*Ee.MODULES_IN_CODEWORD)+c*i/Ee.MODULES_IN_CODEWORD;u+n[s]<=d&&(u+=n[s],s++),o[s]++}return o}static getDecodedCodewordValue(n){let i=nn.getBitValue(n);return Ee.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let s=0;s<n[o];s++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Ce.sum(n),o=new Array(Ee.BARS_IN_MODULE);if(i>1)for(let c=0;c<o.length;c++)o[c]=Math.fround(n[c]/i);let s=Jt.MAX_VALUE,u=-1;this.bSymbolTableReady||nn.initialize();for(let c=0;c<nn.RATIOS_TABLE.length;c++){let d=0,h=nn.RATIOS_TABLE[c];for(let p=0;p<Ee.BARS_IN_MODULE;p++){let y=Math.fround(h[p]-o[p]);if(d+=Math.fround(y*y),d>=s)break}d<s&&(s=d,u=Ee.SYMBOL_TABLE[c])}return u}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(v=>new Array(Ee.BARS_IN_MODULE));class _1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class T1{static parseLong(n,i=void 0){return parseInt(n,i)}}class b1 extends x{}b1.kind="NullPointerException";class l2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new b1;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new Q;if(o===0)return;for(let s=0;s<o;s++)this.write(n[i+s])}flush(){}close(){}}class u2 extends x{}class c2 extends l2{constructor(n=32){if(super(),this.count=0,n<0)throw new S("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new u2;o=b.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new Q;this.ensureCapacity(this.count+o),F.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Ve;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ve||(Ve={}));function N1(){if(typeof window<"u")return window.BigInt||null;if(typeof Vi<"u")return Vi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Wa;function Tr(v){if(typeof Wa>"u"&&(Wa=N1()),Wa===null)throw new Error("BigInt is not supported!");return Wa(v)}function f2(){let v=[];v[0]=Tr(1);let n=Tr(900);v[1]=n;for(let i=2;i<16;i++)v[i]=v[i-1]*n;return v}class V{static decode(n,i){let o=new ie(""),s=H.ISO8859_1;o.enableDecoding(s);let u=1,c=n[u++],d=new _1;for(;u<n[0];){switch(c){case V.TEXT_COMPACTION_MODE_LATCH:u=V.textCompaction(n,u,o);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:u=V.byteCompaction(c,n,s,u,o);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:u=V.numericCompaction(n,u,o);break;case V.ECI_CHARSET:H.getCharacterSetECIByValue(n[u++]);break;case V.ECI_GENERAL_PURPOSE:u+=2;break;case V.ECI_USER_DEFINED:u++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=V.decodeMacroBlock(n,u,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new U;default:u--,u=V.textCompaction(n,u,o);break}if(u<n.length)c=n[u++];else throw U.getFormatInstance()}if(o.length()===0)throw U.getFormatInstance();let h=new dn(null,o.toString(),null,i);return h.setOther(d),h}static decodeMacroBlock(n,i,o){if(i+V.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw U.getFormatInstance();let s=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)s[d]=n[i];o.setSegmentIndex(b.parseInt(V.decodeBase900toBase10(s,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ie;i=V.textCompaction(n,i,u),o.setFileId(u.toString());let c=-1;for(n[i]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<n[0];)switch(n[i]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ie;i=V.textCompaction(n,i+1,d),o.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ie;i=V.textCompaction(n,i+1,h),o.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ie;i=V.textCompaction(n,i+1,p),o.setAddressee(p.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new ie;i=V.numericCompaction(n,i+1,y),o.setSegmentCount(b.parseInt(y.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new ie;i=V.numericCompaction(n,i+1,E),o.setTimestamp(T1.parseLong(E.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new ie;i=V.numericCompaction(n,i+1,C),o.setChecksum(b.parseInt(C.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new ie;i=V.numericCompaction(n,i+1,N),o.setFileSize(T1.parseLong(N.toString()));break;default:throw U.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(c!==-1){let d=i-c;o.isLastSegment()&&d--,o.setOptionalData(_.copyOfRange(n,c,c+d))}return i}static textCompaction(n,i,o){let s=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),c=0,d=!1;for(;i<n[0]&&!d;){let h=n[i++];if(h<V.TEXT_COMPACTION_MODE_LATCH)s[c]=h/30,s[c+1]=h%30,c+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:s[c++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[i++],u[c]=h,c++;break}}return V.decodeTextCompaction(s,u,c,o),i}static decodeTextCompaction(n,i,o,s){let u=Ve.ALPHA,c=Ve.ALPHA,d=0;for(;d<o;){let h=n[d],p="";switch(u){case Ve.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.LL:u=Ve.LOWER;break;case V.ML:u=Ve.MIXED;break;case V.PS:c=u,u=Ve.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break;case Ve.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case V.AS:c=u,u=Ve.ALPHA_SHIFT;break;case V.ML:u=Ve.MIXED;break;case V.PS:c=u,u=Ve.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break;case Ve.MIXED:if(h<V.PL)p=V.MIXED_CHARS[h];else switch(h){case V.PL:u=Ve.PUNCT;break;case 26:p=" ";break;case V.LL:u=Ve.LOWER;break;case V.AL:u=Ve.ALPHA;break;case V.PS:c=u,u=Ve.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break;case Ve.PUNCT:if(h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:u=Ve.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break;case Ve.ALPHA_SHIFT:if(u=c,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break;case Ve.PUNCT_SHIFT:if(u=c,h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:u=Ve.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:u=Ve.ALPHA;break}break}p!==""&&s.append(p),d++}}static byteCompaction(n,i,o,s,u){let c=new c2,d=0,h=0,p=!1;switch(n){case V.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),E=i[s++];for(;s<i[0]&&!p;)switch(y[d++]=E,h=900*h+E,E=i[s++],E){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(d%5===0&&d>0){for(let C=0;C<6;++C)c.write(Number(Tr(h)>>Tr(8*(5-C))));h=0,d=0}break}s===i[0]&&E<V.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=E);for(let C=0;C<d;C++)c.write(y[C]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!p;){let C=i[s++];if(C<V.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+C;else switch(C){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(d%5===0&&d>0){for(let N=0;N<6;++N)c.write(Number(Tr(h)>>Tr(8*(5-N))));h=0,d=0}}break}return u.append(ye.decode(c.toByteArray(),o)),s}static numericCompaction(n,i,o){let s=0,u=!1,c=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let d=n[i++];if(i===n[0]&&(u=!0),d<V.TEXT_COMPACTION_MODE_LATCH)c[s]=d,s++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(s%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||u)&&s>0&&(o.append(V.decodeBase900toBase10(c,s)),s=0)}return i}static decodeBase900toBase10(n,i){let o=Tr(0);for(let u=0;u<i;u++)o+=V.EXP900[i-u-1]*Tr(n[u]);let s=o.toString();if(s.charAt(0)!=="1")throw new U;return s.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=N1()?f2():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class _e{constructor(){}static decode(n,i,o,s,u,c,d){let h=new oi(n,i,o,s,u),p=null,y=null,E;for(let R=!0;;R=!1){if(i!=null&&(p=_e.getRowIndicatorColumn(n,h,i,!0,c,d)),s!=null&&(y=_e.getRowIndicatorColumn(n,h,s,!1,c,d)),E=_e.merge(p,y),E==null)throw B.getNotFoundInstance();let D=E.getBoundingBox();if(R&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}E.setBoundingBox(h);let C=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(C,y);let N=p!=null;for(let R=1;R<=C;R++){let D=N?R:C-R;if(E.getDetectionResultColumn(D)!==void 0)continue;let P;D===0||D===C?P=new I1(h,D===0):P=new Oo(h),E.setDetectionResultColumn(D,P);let G=-1,ee=G;for(let te=h.getMinY();te<=h.getMaxY();te++){if(G=_e.getStartColumn(E,D,te,N),G<0||G>h.getMaxX()){if(ee===-1)continue;G=ee}let q=_e.detectCodeword(n,h.getMinX(),h.getMaxX(),N,G,te,c,d);q!=null&&(P.setCodeword(te,q),ee=G,c=Math.min(c,q.getWidth()),d=Math.max(d,q.getWidth()))}}return _e.createDecoderResult(E)}static merge(n,i){if(n==null&&i==null)return null;let o=_e.getBarcodeMetadata(n,i);if(o==null)return null;let s=oi.merge(_e.adjustBoundingBox(n),_e.adjustBoundingBox(i));return new Ro(o,s)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=_e.getMax(i),s=0;for(let d of i)if(s+=o-d,d>0)break;let u=n.getCodewords();for(let d=0;s>0&&u[d]==null;d++)s--;let c=0;for(let d=i.length-1;d>=0&&(c+=o-i[d],!(i[d]>0));d--);for(let d=u.length-1;c>0&&u[d]==null;d--)c--;return n.getBoundingBox().addMissingRows(s,c,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==s.getColumnCount()&&o.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&o.getRowCount()!==s.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,s,u,c){let d=new I1(i,s);for(let h=0;h<2;h++){let p=h===0?1:-1,y=Math.trunc(Math.trunc(o.getX()));for(let E=Math.trunc(Math.trunc(o.getY()));E<=i.getMaxY()&&E>=i.getMinY();E+=p){let C=_e.detectCodeword(n,0,n.getWidth(),s,y,E,u,c);C!=null&&(d.setCodeword(E,C),s?y=C.getStartX():y=C.getEndX())}}return d}static adjustCodewordCount(n,i){let o=i[0][1],s=o.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-_e.getNumberOfECCodeWords(n.getBarcodeECLevel());if(s.length===0){if(u<1||u>Ee.MAX_CODEWORDS_IN_BARCODE)throw B.getNotFoundInstance();o.setValue(u)}else s[0]!==u&&o.setValue(u)}static createDecoderResult(n){let i=_e.createBarcodeMatrix(n);_e.adjustCodewordCount(n,i);let o=new Array,s=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],c=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=i[h][p+1].getValue(),E=h*n.getBarcodeColumnCount()+p;y.length===0?o.push(E):y.length===1?s[E]=y[0]:(c.push(E),u.push(y))}let d=new Array(u.length);for(let h=0;h<d.length;h++)d[h]=u[h];return _e.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),s,Ee.toIntArray(o),Ee.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(n,i,o,s,u){let c=new Int32Array(s.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)i[s[h]]=u[h][c[h]];try{return _e.decodeCodewords(i,n,o)}catch(h){if(!(h instanceof L))throw h}if(c.length===0)throw L.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<u[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let u=0;u<i[s].length;u++)i[s][u]=new Mo;let o=0;for(let s of n.getDetectionResultColumns()){if(s!=null){for(let u of s.getCodewords())if(u!=null){let c=u.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,s){let u=s?1:-1,c=null;if(_e.isValidBarcodeColumn(n,i-u)&&(c=n.getDetectionResultColumn(i-u).getCodeword(o)),c!=null)return s?c.getEndX():c.getStartX();if(c=n.getDetectionResultColumn(i).getCodewordNearby(o),c!=null)return s?c.getStartX():c.getEndX();if(_e.isValidBarcodeColumn(n,i-u)&&(c=n.getDetectionResultColumn(i-u).getCodewordNearby(o)),c!=null)return s?c.getEndX():c.getStartX();let d=0;for(;_e.isValidBarcodeColumn(n,i-u);){i-=u;for(let h of n.getDetectionResultColumn(i).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+u*d*(h.getEndX()-h.getStartX());d++}return s?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,s,u,c,d,h){u=_e.adjustCodewordStartColumn(n,i,o,s,u,c);let p=_e.getModuleBitCount(n,i,o,s,u,c);if(p==null)return null;let y,E=Ce.sum(p);if(s)y=u+E;else{for(let R=0;R<p.length/2;R++){let D=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=D}y=u,u=y-E}if(!_e.checkCodewordSkew(E,d,h))return null;let C=nn.getDecodedValue(p),N=Ee.getCodeword(C);return N===-1?null:new Do(u,y,_e.getCodewordBucketNumber(C),N)}static getModuleBitCount(n,i,o,s,u,c){let d=u,h=new Int32Array(8),p=0,y=s?1:-1,E=s;for(;(s?d<o:d>=i)&&p<h.length;)n.get(d,c)===E?(h[p]++,d+=y):(p++,E=!E);return p===h.length||d===(s?o:i)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,s,u,c){let d=u,h=s?-1:1;for(let p=0;p<2;p++){for(;(s?d>=i:d<o)&&s===n.get(d,c);){if(Math.abs(u-d)>_e.CODEWORD_SKEW_SIZE)return u;d+=h}h=-h,s=!s}return d}static checkCodewordSkew(n,i,o){return i-_e.CODEWORD_SKEW_SIZE<=n&&n<=o+_e.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw U.getFormatInstance();let s=1<<i+1,u=_e.correctErrors(n,o,s);_e.verifyCodewordCount(n,s);let c=V.decode(n,""+i);return c.setErrorsCorrected(u),c.setErasures(o.length),c}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+_e.MAX_ERRORS||o<0||o>_e.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return _e.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw U.getFormatInstance();let o=n[0];if(o>n.length)throw U.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw U.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,s=i.length-1;for(;!((n&1)!==o&&(o=n&1,s--,s<0));)i[s]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return _e.getCodewordBucketNumber(_e.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new No;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let s=0;s<n[o].length;s++){let u=n[o][s];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}_e.CODEWORD_SKEW_SIZE=2,_e.MAX_ERRORS=3,_e.MAX_EC_CODEWORDS=512,_e.errorCorrection=new S1;class kt{decode(n,i=null){let o=kt.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw B.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return kt.decode(n,i,!0)}catch(o){throw o instanceof U||o instanceof L?B.getNotFoundInstance():o}}static decode(n,i,o){const s=new Array,u=Ie.detectMultiple(n,i,o);for(const c of u.getPoints()){const d=_e.decode(u.getBits(),c[4],c[5],c[6],c[7],kt.getMinCodewordWidth(c),kt.getMaxCodewordWidth(c)),h=new xe(d.getText(),d.getRawBytes(),void 0,c,se.PDF_417);h.putMetadata(Ze.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(Ze.PDF417_EXTRA_METADATA,p),s.push(h)}return s.map(c=>c)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?b.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(kt.getMaxWidth(n[0],n[4]),kt.getMaxWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(kt.getMaxWidth(n[1],n[5]),kt.getMaxWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(kt.getMinWidth(n[0],n[4]),kt.getMinWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(kt.getMinWidth(n[1],n[5]),kt.getMinWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xa extends x{}Xa.kind="ReaderException";class O1{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!a(n)&&n.get($.TRY_HARDER)===!0,o=a(n)?null:n.get($.POSSIBLE_FORMATS),s=new Array;if(!a(o)){const u=o.some(c=>c===se.UPC_A||c===se.UPC_E||c===se.EAN_13||c===se.EAN_8||c===se.CODABAR||c===se.CODE_39||c===se.CODE_93||c===se.CODE_128||c===se.ITF||c===se.RSS_14||c===se.RSS_EXPANDED);u&&!i&&s.push(new Di(n,this.verbose)),o.includes(se.QR_CODE)&&s.push(new _r),o.includes(se.DATA_MATRIX)&&s.push(new Ir),o.includes(se.AZTEC)&&s.push(new Ua),o.includes(se.PDF_417)&&s.push(new kt),u&&i&&s.push(new Di(n,this.verbose))}s.length===0&&(i||s.push(new Di(n,this.verbose)),s.push(new _r),s.push(new Ir),s.push(new Ua),s.push(new kt),i&&s.push(new Di(n,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Xa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof Xa)continue}throw new B("No MultiFormat Readers were able to detect the code.")}}class d2 extends jt{constructor(n=null,i=500){const o=new O1;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class h2 extends jt{constructor(n=500){super(new kt,n)}}class g2 extends jt{constructor(n=500){super(new _r,n)}}var Yl;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Yl||(Yl={}));var It=Yl;class Zl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new at(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1];const s=this.field;for(let u=i.length;u<=n;u++){const c=o.multiply(new at(s,Int32Array.from([1,s.exp(u-1+s.getGeneratorBase())])));i.push(c),o=c}}return i[n]}encode(n,i){if(i===0)throw new S("No error correction bytes");const o=n.length-i;if(o<=0)throw new S("No data bytes provided");const s=this.buildGenerator(i),u=new Int32Array(o);F.arraycopy(n,0,u,0,o);let c=new at(this.field,u);c=c.multiplyByMonomial(i,1);const h=c.divide(s)[1].getCoefficients(),p=i-h.length;for(let y=0;y<p;y++)n[o+y]=0;F.arraycopy(h,0,n,o+p,h.length)}}class gt{constructor(){}static applyMaskPenaltyRule1(n){return gt.applyMaskPenaltyRule1Internal(n,!0)+gt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const o=n.getArray(),s=n.getWidth(),u=n.getHeight();for(let c=0;c<u-1;c++){const d=o[c];for(let h=0;h<s-1;h++){const p=d[h];p===d[h+1]&&p===o[c+1][h]&&p===o[c+1][h+1]&&i++}}return gt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const o=n.getArray(),s=n.getWidth(),u=n.getHeight();for(let c=0;c<u;c++)for(let d=0;d<s;d++){const h=o[c];d+6<s&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(gt.isWhiteHorizontal(h,d-4,d)||gt.isWhiteHorizontal(h,d+7,d+11))&&i++,c+6<u&&o[c][d]===1&&o[c+1][d]===0&&o[c+2][d]===1&&o[c+3][d]===1&&o[c+4][d]===1&&o[c+5][d]===0&&o[c+6][d]===1&&(gt.isWhiteVertical(o,d,c-4,c)||gt.isWhiteVertical(o,d,c+7,c+11))&&i++}return i*gt.N3}static isWhiteHorizontal(n,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let s=i;s<o;s++)if(n[s]===1)return!1;return!0}static isWhiteVertical(n,i,o,s){o=Math.max(o,0),s=Math.min(s,n.length);for(let u=o;u<s;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const o=n.getArray(),s=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++){const p=o[h];for(let y=0;y<s;y++)p[y]===1&&i++}const c=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*gt.N4}static getDataMaskBit(n,i,o){let s,u;switch(n){case 0:s=o+i&1;break;case 1:s=o&1;break;case 2:s=i%3;break;case 3:s=(o+i)%3;break;case 4:s=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,s=(u&1)+u%3;break;case 6:u=o*i,s=(u&1)+u%3&1;break;case 7:u=o*i,s=u%3+(o+i&1)&1;break;default:throw new S("Invalid mask pattern: "+n)}return s===0}static applyMaskPenaltyRule1Internal(n,i){let o=0;const s=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),c=n.getArray();for(let d=0;d<s;d++){let h=0,p=-1;for(let y=0;y<u;y++){const E=i?c[d][y]:c[y][d];E===p?h++:(h>=5&&(o+=gt.N1+(h-5)),h=1,p=E)}h>=5&&(o+=gt.N1+(h-5))}return o}}gt.N1=3,gt.N2=3,gt.N3=40,gt.N4=10;class Ya{constructor(n,i){this.width=n,this.height=i;const o=new Array(i);for(let s=0;s!==i;s++)o[s]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(const i of this.bytes)_.fill(i,n)}equals(n){if(!(n instanceof Ya))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,s=this.height;o<s;++o){const u=this.bytes[o],c=i.bytes[o];for(let d=0,h=this.width;d<h;++d)if(u[d]!==c[d])return!1}return!0}toString(){const n=new ie;for(let i=0,o=this.height;i<o;++i){const s=this.bytes[i];for(let u=0,c=this.width;u<c;++u)switch(s[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class ai{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ie;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<ai.NUM_MASK_PATTERNS}}ai.NUM_MASK_PATTERNS=8;class Xe extends x{}Xe.kind="WriterException";class ve{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,s,u){ve.clearMatrix(u),ve.embedBasicPatterns(o,u),ve.embedTypeInfo(i,s,u),ve.maybeEmbedVersionInfo(o,u),ve.embedDataBits(n,s,u)}static embedBasicPatterns(n,i){ve.embedPositionDetectionPatternsAndSeparators(i),ve.embedDarkDotAtLeftBottomCorner(i),ve.maybeEmbedPositionAdjustmentPatterns(n,i),ve.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){const s=new k;ve.makeTypeInfoBits(n,i,s);for(let u=0,c=s.getSize();u<c;++u){const d=s.get(s.getSize()-1-u),h=ve.TYPE_INFO_COORDINATES[u],p=h[0],y=h[1];if(o.setBoolean(p,y,d),u<8){const E=o.getWidth()-u-1;o.setBoolean(E,8,d)}else{const C=o.getHeight()-7+(u-8);o.setBoolean(8,C,d)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const o=new k;ve.makeVersionInfoBits(n,o);let s=6*3-1;for(let u=0;u<6;++u)for(let c=0;c<3;++c){const d=o.get(s);s--,i.setBoolean(u,i.getHeight()-11+c,d),i.setBoolean(i.getHeight()-11+c,u,d)}}static embedDataBits(n,i,o){let s=0,u=-1,c=o.getWidth()-1,d=o.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=c-h;if(!ve.isEmpty(o.get(p,d)))continue;let y;s<n.getSize()?(y=n.get(s),++s):y=!1,i!==255&&gt.getDataMaskBit(i,p,d)&&(y=!y),o.setBoolean(p,d,y)}d+=u}u=-u,d+=u,c-=2}if(s!==n.getSize())throw new Xe("Not all bits consumed: "+s+"/"+n.getSize())}static findMSBSet(n){return 32-b.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new S("0 polynomial");const o=ve.findMSBSet(i);for(n<<=o-1;ve.findMSBSet(n)>=o;)n^=i<<ve.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!ai.isValidMaskPattern(i))throw new Xe("Invalid mask pattern");const s=n.getBits()<<3|i;o.appendBits(s,5);const u=ve.calculateBCHCode(s,ve.TYPE_INFO_POLY);o.appendBits(u,10);const c=new k;if(c.appendBits(ve.TYPE_INFO_MASK_PATTERN,15),o.xor(c),o.getSize()!==15)throw new Xe("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const o=ve.calculateBCHCode(n.getVersionNumber(),ve.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new Xe("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const o=(i+1)%2;ve.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),ve.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Xe;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let s=0;s<8;++s){if(!ve.isEmpty(o.get(n+s,i)))throw new Xe;o.setNumber(n+s,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let s=0;s<7;++s){if(!ve.isEmpty(o.get(n,i+s)))throw new Xe;o.setNumber(n,i+s,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let s=0;s<5;++s){const u=ve.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)o.setNumber(n+c,i+s,u[c])}}static embedPositionDetectionPattern(n,i,o){for(let s=0;s<7;++s){const u=ve.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)o.setNumber(n+c,i+s,u[c])}}static embedPositionDetectionPatternsAndSeparators(n){const i=ve.POSITION_DETECTION_PATTERN[0].length;ve.embedPositionDetectionPattern(0,0,n),ve.embedPositionDetectionPattern(n.getWidth()-i,0,n),ve.embedPositionDetectionPattern(0,n.getWidth()-i,n);const o=8;ve.embedHorizontalSeparationPattern(0,o-1,n),ve.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),ve.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const s=7;ve.embedVerticalSeparationPattern(s,0,n),ve.embedVerticalSeparationPattern(n.getHeight()-s-1,0,n),ve.embedVerticalSeparationPattern(s,n.getHeight()-s,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,s=ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,c=s.length;u!==c;u++){const d=s[u];if(d>=0)for(let h=0;h!==c;h++){const p=s[h];p>=0&&ve.isEmpty(i.get(p,d))&&ve.embedPositionAdjustmentPattern(p-2,d-2,i)}}}}ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ve.VERSION_INFO_POLY=7973,ve.TYPE_INFO_POLY=1335,ve.TYPE_INFO_MASK_PATTERN=21522;class p2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qe{constructor(){}static calculateMaskPenalty(n){return gt.applyMaskPenaltyRule1(n)+gt.applyMaskPenaltyRule2(n)+gt.applyMaskPenaltyRule3(n)+gt.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let s=qe.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(It.CHARACTER_SET)!==void 0;u&&(s=o.get(It.CHARACTER_SET).toString());const c=this.chooseMode(n,s),d=new k;if(c===me.BYTE&&(u||qe.DEFAULT_BYTE_MODE_ENCODING!==s)){const te=H.getCharacterSetECIByName(s);te!==void 0&&this.appendECI(te,d)}this.appendModeInfo(c,d);const h=new k;this.appendBytes(n,c,h,s);let p;if(o!==null&&o.get(It.QR_VERSION)!==void 0){const te=Number.parseInt(o.get(It.QR_VERSION).toString(),10);p=ge.getVersionForNumber(te);const q=this.calculateBitsNeeded(c,d,h,p);if(!this.willFit(q,p,i))throw new Xe("Data too big for requested version")}else p=this.recommendVersion(i,c,d,h);const y=new k;y.appendBitArray(d);const E=c===me.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(E,p,c,y),y.appendBitArray(h);const C=p.getECBlocksForLevel(i),N=p.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(N,y);const R=this.interleaveWithECBytes(y,p.getTotalCodewords(),N,C.getNumBlocks()),D=new ai;D.setECLevel(i),D.setMode(c),D.setVersion(p);const P=p.getDimensionForVersion(),G=new Ya(P,P),ee=this.chooseMaskPattern(R,i,p,G);return D.setMaskPattern(ee),ve.buildMatrix(R,i,p,ee,G),D.setMatrix(G),D}static recommendVersion(n,i,o,s){const u=this.calculateBitsNeeded(i,o,s,ge.getVersionForNumber(1)),c=this.chooseVersion(u,n),d=this.calculateBitsNeeded(i,o,s,c);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,i,o,s){return i.getSize()+n.getCharacterCountBits(s)+o.getSize()}static getAlphanumericCode(n){return n<qe.ALPHANUMERIC_TABLE.length?qe.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(H.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return me.KANJI;let o=!1,s=!1;for(let u=0,c=n.length;u<c;++u){const d=n.charAt(u);if(qe.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return me.BYTE}return s?me.ALPHANUMERIC:o?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=ye.encode(n,H.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let s=0;s<o;s+=2){const u=i[s]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,o,s){let u=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<ai.NUM_MASK_PATTERNS;d++){ve.buildMatrix(n,i,o,d,s);let h=this.calculateMaskPenalty(s);h<u&&(u=h,c=d)}return c}static chooseVersion(n,i){for(let o=1;o<=40;o++){const s=ge.getVersionForNumber(o);if(qe.willFit(n,s,i))return s}throw new Xe("Data too big")}static willFit(n,i,o){const s=i.getTotalCodewords(),c=i.getECBlocksForLevel(o).getTotalECCodewords(),d=s-c,h=(n+7)/8;return d>=h}static terminateBits(n,i){const o=n*8;if(i.getSize()>o)throw new Xe("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let c=0;c<4&&i.getSize()<o;++c)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let c=s;c<8;c++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let c=0;c<u;++c)i.appendBits(c&1?17:236,8);if(i.getSize()!==o)throw new Xe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,s,u,c){if(s>=o)throw new Xe("Block ID too large");const d=n%o,h=o-d,p=Math.floor(n/o),y=p+1,E=Math.floor(i/o),C=E+1,N=p-E,R=y-C;if(N!==R)throw new Xe("EC bytes mismatch");if(o!==h+d)throw new Xe("RS blocks mismatch");if(n!==(E+N)*h+(C+R)*d)throw new Xe("Total bytes mismatch");s<h?(u[0]=E,c[0]=N):(u[0]=C,c[0]=R)}static interleaveWithECBytes(n,i,o,s){if(n.getSizeInBytes()!==o)throw new Xe("Number of bits and data bytes does not match");let u=0,c=0,d=0;const h=new Array;for(let y=0;y<s;++y){const E=new Int32Array(1),C=new Int32Array(1);qe.getNumDataBytesAndNumECBytesForBlockID(i,o,s,y,E,C);const N=E[0],R=new Uint8Array(N);n.toBytes(8*u,R,0,N);const D=qe.generateECBytes(R,C[0]);h.push(new p2(R,D)),c=Math.max(c,N),d=Math.max(d,D.length),u+=E[0]}if(o!==u)throw new Xe("Data bytes does not match offset");const p=new k;for(let y=0;y<c;++y)for(const E of h){const C=E.getDataBytes();y<C.length&&p.appendBits(C[y],8)}for(let y=0;y<d;++y)for(const E of h){const C=E.getErrorCorrectionBytes();y<C.length&&p.appendBits(C[y],8)}if(i!==p.getSizeInBytes())throw new Xe("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,i){const o=n.length,s=new Int32Array(o+i);for(let c=0;c<o;c++)s[c]=n[c]&255;new Zl(oe.QR_CODE_FIELD_256).encode(s,i);const u=new Uint8Array(i);for(let c=0;c<i;c++)u[c]=s[o+c];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,s){const u=o.getCharacterCountBits(i);if(n>=1<<u)throw new Xe(n+" is bigger than "+((1<<u)-1));s.appendBits(n,u)}static appendBytes(n,i,o,s){switch(i){case me.NUMERIC:qe.appendNumericBytes(n,o);break;case me.ALPHANUMERIC:qe.appendAlphanumericBytes(n,o);break;case me.BYTE:qe.append8BitBytes(n,o,s);break;case me.KANJI:qe.appendKanjiBytes(n,o);break;default:throw new Xe("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=qe.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const o=n.length;let s=0;for(;s<o;){const u=qe.getDigit(n.charAt(s));if(s+2<o){const c=qe.getDigit(n.charAt(s+1)),d=qe.getDigit(n.charAt(s+2));i.appendBits(u*100+c*10+d,10),s+=3}else if(s+1<o){const c=qe.getDigit(n.charAt(s+1));i.appendBits(u*10+c,7),s+=2}else i.appendBits(u,4),s++}}static appendAlphanumericBytes(n,i){const o=n.length;let s=0;for(;s<o;){const u=qe.getAlphanumericCode(n.charCodeAt(s));if(u===-1)throw new Xe;if(s+1<o){const c=qe.getAlphanumericCode(n.charCodeAt(s+1));if(c===-1)throw new Xe;i.appendBits(u*45+c,11),s+=2}else i.appendBits(u,6),s++}}static append8BitBytes(n,i,o){let s;try{s=ye.encode(n,o)}catch(u){throw new Xe(u)}for(let u=0,c=s.length;u!==c;u++){const d=s[u];i.appendBits(d,8)}}static appendKanjiBytes(n,i){let o;try{o=ye.encode(n,H.SJIS)}catch(u){throw new Xe(u)}const s=o.length;for(let u=0;u<s;u+=2){const c=o[u]&255,d=o[u+1]&255,h=c<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Xe("Invalid byte sequence");const y=(p>>8)*192+(p&255);i.appendBits(y,13)}}static appendECI(n,i){i.appendBits(me.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qe.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class si{write(n,i,o,s=null){if(n.length===0)throw new S("Found empty contents");if(i<0||o<0)throw new S("Requested dimensions are too small: "+i+"x"+o);let u=$e.L,c=si.QUIET_ZONE_SIZE;s!==null&&(s.get(It.ERROR_CORRECTION)!==void 0&&(u=$e.fromString(s.get(It.ERROR_CORRECTION).toString())),s.get(It.MARGIN)!==void 0&&(c=Number.parseInt(s.get(It.MARGIN).toString(),10)));const d=qe.encode(n,u,s);return this.renderResult(d,i,o,c)}writeToDom(n,i,o,s,u=null){typeof n=="string"&&(n=document.querySelector(n));const c=this.write(i,o,s,u);n&&n.appendChild(c)}renderResult(n,i,o,s){const u=n.getMatrix();if(u===null)throw new be;const c=u.getWidth(),d=u.getHeight(),h=c+s*2,p=d+s*2,y=Math.max(i,h),E=Math.max(o,p),C=Math.min(Math.floor(y/h),Math.floor(E/p)),N=Math.floor((y-c*C)/2),R=Math.floor((E-d*C)/2),D=this.createSVGElement(y,E);for(let P=0,G=R;P<d;P++,G+=C)for(let ee=0,te=N;ee<c;ee++,te+=C)if(u.get(ee,P)===1){const q=this.createSvgRectElement(te,G,C,C);D.appendChild(q)}return D}createSVGElement(n,i){const o=document.createElementNS(si.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(n,i,o,s){const u=document.createElementNS(si.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",s.toString()),u.setAttributeNS(null,"fill","#000000"),u}}si.QUIET_ZONE_SIZE=4,si.SVG_NS="http://www.w3.org/2000/svg";class Li{encode(n,i,o,s,u){if(n.length===0)throw new S("Found empty contents");if(i!==se.QR_CODE)throw new S("Can only encode QR_CODE, but got "+i);if(o<0||s<0)throw new S(`Requested dimensions are too small: ${o}x${s}`);let c=$e.L,d=Li.QUIET_ZONE_SIZE;u!==null&&(u.get(It.ERROR_CORRECTION)!==void 0&&(c=$e.fromString(u.get(It.ERROR_CORRECTION).toString())),u.get(It.MARGIN)!==void 0&&(d=Number.parseInt(u.get(It.MARGIN).toString(),10)));const h=qe.encode(n,c,u);return Li.renderResult(h,o,s,d)}static renderResult(n,i,o,s){const u=n.getMatrix();if(u===null)throw new be;const c=u.getWidth(),d=u.getHeight(),h=c+s*2,p=d+s*2,y=Math.max(i,h),E=Math.max(o,p),C=Math.min(Math.floor(y/h),Math.floor(E/p)),N=Math.floor((y-c*C)/2),R=Math.floor((E-d*C)/2),D=new fe(y,E);for(let P=0,G=R;P<d;P++,G+=C)for(let ee=0,te=N;ee<c;ee++,te+=C)u.get(ee,P)===1&&D.setRegion(te,G,C,C);return D}}Li.QUIET_ZONE_SIZE=4;class x2{encode(n,i,o,s,u){let c;switch(i){case se.QR_CODE:c=new Li;break;default:throw new S("No encoder available for format "+i)}return c.encode(n,i,o,s,u)}}class qn extends re{constructor(n,i,o,s,u,c,d,h){if(super(c,d),this.yuvData=n,this.dataWidth=i,this.dataHeight=o,this.left=s,this.top=u,s+c>i||u+d>o)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,s,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=n*i,s=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return F.arraycopy(this.yuvData,u,s,0,o),s;for(let c=0;c<i;c++){const d=c*n;F.arraycopy(this.yuvData,u,s,d,n),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,i,o,s){return new qn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,o,s,!1)}renderThumbnail(){const n=this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*i),s=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const d=c*n;for(let h=0;h<n;h++){const p=s[u+h*qn.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}u+=this.dataWidth*qn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const o=this.yuvData;for(let s=0,u=this.top*this.dataWidth+this.left;s<i;s++,u+=this.dataWidth){const c=u+n/2;for(let d=u,h=u+n-1;d<c;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new pe(this)}}qn.THUMBNAIL_SCALE_FACTOR=2;class Ql extends re{constructor(n,i,o,s,u,c,d){if(super(i,o),this.dataWidth=s,this.dataHeight=u,this.left=c,this.top=d,n.BYTES_PER_ELEMENT===4){const h=i*o,p=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const E=n[y],C=E>>16&255,N=E>>7&510,R=E&255;p[y]=(C+N+R)/4&255}this.luminances=p}else this.luminances=n;if(s===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,s,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=n*i,s=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return F.arraycopy(this.luminances,u,s,0,o),s;for(let c=0;c<i;c++){const d=c*n;F.arraycopy(this.luminances,u,s,d,n),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,i,o,s){return new Ql(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new pe(this)}}class M1 extends H{static forName(n){return this.getCharacterSetECIByName(n)}}class $l{}$l.ISO_8859_1=H.ISO8859_1;class R1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class D1{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class m2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Pi extends m2{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Pi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Pi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+b.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Kl extends Pi{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new Kl(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function y2(v,n,i){return new Kl(v,n,i)}function ko(v,n,i){return new Pi(v,n,i)}const w2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],br=0,Za=1,Nn=2,k1=3,Jn=4,v2=new Pi(null,0,0),ql=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function E2(v){for(let n of v)_.fill(n,-1);return v[br][Jn]=0,v[Za][Jn]=0,v[Za][br]=28,v[k1][Jn]=0,v[Nn][Jn]=0,v[Nn][br]=15,v}const L1=E2(_.createInt32Array(6,6));class er{constructor(n,i,o,s){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,s=this.token;if(n!==this.mode){let c=ql[this.mode][n];s=ko(s,c&65535,c>>16),o+=c>>16}let u=n===Nn?4:5;return s=ko(s,i,u),new er(s,n,0,o+u)}shiftAndAppend(n,i){let o=this.token,s=this.mode===Nn?4:5;return o=ko(o,L1[this.mode][n],s),o=ko(o,i,5),new er(o,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,s=this.bitCount;if(this.mode===Jn||this.mode===Nn){let d=ql[o][br];i=ko(i,d&65535,d>>16),s+=d>>16,o=br}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new er(i,o,this.binaryShiftByteCount+1,s+u);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(n+1)),c}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=y2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new er(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(ql[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=er.calculateBinaryShiftCost(n)-er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let s=this.endBinaryShift(n.length).token;s!==null;s=s.getPrevious())i.unshift(s);let o=new k;for(const s of i)s.appendTo(o,n);return o}toString(){return Z.format("%s bits=%d bytes=%d",w2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}er.INITIAL_STATE=new er(v2,br,0,0);function C2(v){const n=Z.getCharCode(" "),i=Z.getCharCode("."),o=Z.getCharCode(",");v[br][n]=1;const s=Z.getCharCode("Z"),u=Z.getCharCode("A");for(let C=u;C<=s;C++)v[br][C]=C-u+2;v[Za][n]=1;const c=Z.getCharCode("z"),d=Z.getCharCode("a");for(let C=d;C<=c;C++)v[Za][C]=C-d+2;v[Nn][n]=1;const h=Z.getCharCode("9"),p=Z.getCharCode("0");for(let C=p;C<=h;C++)v[Nn][C]=C-p+2;v[Nn][o]=12,v[Nn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<y.length;C++)v[k1][Z.getCharCode(y[C])]=C;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<E.length;C++)Z.getCharCode(E[C])>0&&(v[Jn][Z.getCharCode(E[C])]=C);return v}const Jl=C2(_.createInt32Array(5,256));class Lo{constructor(n){this.text=n}encode(){const n=Z.getCharCode(" "),i=Z.getCharCode(`
`);let o=D1.singletonList(er.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let c,d=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Z.getCharCode("\r"):c=d===i?2:0;break;case Z.getCharCode("."):c=d===n?3:0;break;case Z.getCharCode(","):c=d===n?4:0;break;case Z.getCharCode(":"):c=d===n?5:0;break;default:c=0}c>0?(o=Lo.updateStateListForPair(o,u,c),u++):o=this.updateStateListForChar(o,u)}return D1.min(o,(u,c)=>u.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const o=[];for(let s of n)this.updateStateForChar(s,i,o);return Lo.simplifyStates(o)}updateStateForChar(n,i,o){let s=this.text[i]&255,u=Jl[n.getMode()][s]>0,c=null;for(let d=0;d<=Jn;d++){let h=Jl[d][s];if(h>0){if(c==null&&(c=n.endBinaryShift(i)),!u||d===n.getMode()||d===Nn){const p=c.latchAndAppend(d,h);o.push(p)}if(!u&&L1[n.getMode()][d]>=0){const p=c.shiftAndAppend(d,h);o.push(p)}}}if(n.getBinaryShiftByteCount()>0||Jl[n.getMode()][s]===0){let d=n.addBinaryShiftChar(i);o.push(d)}}static updateStateListForPair(n,i,o){const s=[];for(let u of n)this.updateStateForPair(u,i,o,s);return this.simplifyStates(s)}static updateStateForPair(n,i,o,s){let u=n.endBinaryShift(i);if(s.push(u.latchAndAppend(Jn,o)),n.getMode()!==Jn&&s.push(u.shiftAndAppend(Jn,o)),o===3||o===4){let c=u.latchAndAppend(Nn,16-o).latchAndAppend(Nn,1);s.push(c)}if(n.getBinaryShiftByteCount()>0){let c=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(c)}}static simplifyStates(n){let i=[];for(const o of n){let s=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){s=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(c=>c!==u))}s&&i.push(o)}return i}}class Pe{constructor(){}static encodeBytes(n){return Pe.encode(n,Pe.DEFAULT_EC_PERCENT,Pe.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let s=new Lo(n).encode(),u=b.truncDivision(s.getSize()*i,100)+11,c=s.getSize()+u,d,h,p,y,E;if(o!==Pe.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?Pe.MAX_NB_BITS_COMPACT:Pe.MAX_NB_BITS))throw new S(Z.format("Illegal value %s for layers",o));p=Pe.totalBitsInLayer(h,d),y=Pe.WORD_SIZE[h];let q=p-p%y;if(E=Pe.stuffBits(s,y),E.getSize()+u>q)throw new S("Data to large for user specified layer");if(d&&E.getSize()>y*64)throw new S("Data to large for user specified layer")}else{y=0,E=null;for(let q=0;;q++){if(q>Pe.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=q<=3,h=d?q+1:q,p=Pe.totalBitsInLayer(h,d),c>p)continue;(E==null||y!==Pe.WORD_SIZE[h])&&(y=Pe.WORD_SIZE[h],E=Pe.stuffBits(s,y));let Me=p-p%y;if(!(d&&E.getSize()>y*64)&&E.getSize()+u<=Me)break}}let C=Pe.generateCheckWords(E,p,y),N=E.getSize()/y,R=Pe.generateModeMessage(d,h,N),D=(d?11:14)+h*4,P=new Int32Array(D),G;if(d){G=D;for(let q=0;q<P.length;q++)P[q]=q}else{G=D+1+2*b.truncDivision(b.truncDivision(D,2)-1,15);let q=b.truncDivision(D,2),Me=b.truncDivision(G,2);for(let Se=0;Se<q;Se++){let rn=Se+b.truncDivision(Se,15);P[q-Se-1]=Me-rn-1,P[q+Se]=Me+rn+1}}let ee=new fe(G);for(let q=0,Me=0;q<h;q++){let Se=(h-q)*4+(d?9:12);for(let rn=0;rn<Se;rn++){let Un=rn*2;for(let on=0;on<2;on++)C.get(Me+Un+on)&&ee.set(P[q*2+on],P[q*2+rn]),C.get(Me+Se*2+Un+on)&&ee.set(P[q*2+rn],P[D-1-q*2-on]),C.get(Me+Se*4+Un+on)&&ee.set(P[D-1-q*2-on],P[D-1-q*2-rn]),C.get(Me+Se*6+Un+on)&&ee.set(P[D-1-q*2-rn],P[q*2+on])}Me+=Se*8}if(Pe.drawModeMessage(ee,d,G,R),d)Pe.drawBullsEye(ee,b.truncDivision(G,2),5);else{Pe.drawBullsEye(ee,b.truncDivision(G,2),7);for(let q=0,Me=0;q<b.truncDivision(D,2)-1;q+=15,Me+=16)for(let Se=b.truncDivision(G,2)&1;Se<G;Se+=2)ee.set(b.truncDivision(G,2)-Me,Se),ee.set(b.truncDivision(G,2)+Me,Se),ee.set(Se,b.truncDivision(G,2)-Me),ee.set(Se,b.truncDivision(G,2)+Me)}let te=new R1;return te.setCompact(d),te.setSize(G),te.setLayers(h),te.setCodeWords(N),te.setMatrix(ee),te}static drawBullsEye(n,i,o){for(let s=0;s<o;s+=2)for(let u=i-s;u<=i+s;u++)n.set(u,i-s),n.set(u,i+s),n.set(i-s,u),n.set(i+s,u);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let s=new k;return n?(s.appendBits(i-1,2),s.appendBits(o-1,6),s=Pe.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(o-1,11),s=Pe.generateCheckWords(s,40,4)),s}static drawModeMessage(n,i,o,s){let u=b.truncDivision(o,2);if(i)for(let c=0;c<7;c++){let d=u-3+c;s.get(c)&&n.set(d,u-5),s.get(c+7)&&n.set(u+5,d),s.get(20-c)&&n.set(d,u+5),s.get(27-c)&&n.set(u-5,d)}else for(let c=0;c<10;c++){let d=u-5+c+b.truncDivision(c,5);s.get(c)&&n.set(d,u-7),s.get(c+10)&&n.set(u+7,d),s.get(29-c)&&n.set(d,u+7),s.get(39-c)&&n.set(u-7,d)}}static generateCheckWords(n,i,o){let s=n.getSize()/o,u=new Zl(Pe.getGF(o)),c=b.truncDivision(i,o),d=Pe.bitsToWords(n,o,c);u.encode(d,c-s);let h=i%o,p=new k;p.appendBits(0,h);for(const y of Array.from(d))p.appendBits(y,o);return p}static bitsToWords(n,i,o){let s=new Int32Array(o),u,c;for(u=0,c=n.getSize()/i;u<c;u++){let d=0;for(let h=0;h<i;h++)d|=n.get(u*i+h)?1<<i-h-1:0;s[u]=d}return s}static getGF(n){switch(n){case 4:return oe.AZTEC_PARAM;case 6:return oe.AZTEC_DATA_6;case 8:return oe.AZTEC_DATA_8;case 10:return oe.AZTEC_DATA_10;case 12:return oe.AZTEC_DATA_12;default:throw new S("Unsupported word size "+n)}}static stuffBits(n,i){let o=new k,s=n.getSize(),u=(1<<i)-2;for(let c=0;c<s;c+=i){let d=0;for(let h=0;h<i;h++)(c+h>=s||n.get(c+h))&&(d|=1<<i-1-h);(d&u)===u?(o.appendBits(d&u,i),c--):d&u?o.appendBits(d,i):(o.appendBits(d|1,i),c--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Pe.DEFAULT_EC_PERCENT=33,Pe.DEFAULT_AZTEC_LAYERS=0,Pe.MAX_NB_BITS=32,Pe.MAX_NB_BITS_COMPACT=4,Pe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Qa{encode(n,i,o,s){return this.encodeWithHints(n,i,o,s,null)}encodeWithHints(n,i,o,s,u){let c=$l.ISO_8859_1,d=Pe.DEFAULT_EC_PERCENT,h=Pe.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(It.CHARACTER_SET)&&(c=M1.forName(u.get(It.CHARACTER_SET).toString())),u.has(It.ERROR_CORRECTION)&&(d=b.parseInt(u.get(It.ERROR_CORRECTION).toString())),u.has(It.AZTEC_LAYERS)&&(h=b.parseInt(u.get(It.AZTEC_LAYERS).toString()))),Qa.encodeLayers(n,i,o,s,c,d,h)}static encodeLayers(n,i,o,s,u,c,d){if(i!==se.AZTEC)throw new S("Can only encode AZTEC, but got "+i);let h=Pe.encode(Z.getBytes(n,u),c,d);return Qa.renderResult(h,o,s)}static renderResult(n,i,o){let s=n.getMatrix();if(s==null)throw new be;let u=s.getWidth(),c=s.getHeight(),d=Math.max(i,u),h=Math.max(o,c),p=Math.min(d/u,h/c),y=(d-u*p)/2,E=(h-c*p)/2,C=new fe(d,h);for(let N=0,R=E;N<c;N++,R+=p)for(let D=0,P=y;D<u;D++,P+=p)s.get(D,N)&&C.setRegion(P,R,p,p);return C}}r.AbstractExpandedDecoder=Fl,r.ArgumentException=I,r.ArithmeticException=ke,r.AztecCode=R1,r.AztecCodeReader=Ua,r.AztecCodeWriter=Qa,r.AztecDecoder=Ne,r.AztecDetector=y1,r.AztecDetectorResult=x1,r.AztecEncoder=Pe,r.AztecHighLevelEncoder=Lo,r.AztecPoint=Xt,r.BarcodeFormat=se,r.Binarizer=j,r.BinaryBitmap=O,r.BitArray=k,r.BitMatrix=fe,r.BitSource=Hl,r.BrowserAztecCodeReader=Zp,r.BrowserBarcodeReader=Jp,r.BrowserCodeReader=jt,r.BrowserDatamatrixCodeReader=t2,r.BrowserMultiFormatReader=d2,r.BrowserPDF417Reader=h2,r.BrowserQRCodeReader=g2,r.BrowserQRCodeSvgWriter=si,r.CharacterSetECI=H,r.ChecksumException=L,r.Code128Reader=ne,r.Code39Reader=At,r.DataMatrixDecodedBitStreamParser=Sr,r.DataMatrixReader=Ir,r.DecodeHintType=$,r.DecoderResult=dn,r.DefaultGridSampler=m1,r.DetectorResult=ja,r.EAN13Reader=ni,r.EncodeHintType=It,r.Exception=x,r.FormatException=U,r.GenericGF=oe,r.GenericGFPoly=at,r.GlobalHistogramBinarizer=Te,r.GridSampler=kl,r.GridSamplerInstance=Cr,r.HTMLCanvasElementLuminanceSource=he,r.HybridBinarizer=we,r.ITFReader=We,r.IllegalArgumentException=S,r.IllegalStateException=be,r.InvertedLuminanceSource=pe,r.LuminanceSource=re,r.MathUtils=Ce,r.MultiFormatOneDReader=Di,r.MultiFormatReader=O1,r.MultiFormatWriter=x2,r.NotFoundException=B,r.OneDReader=vt,r.PDF417DecodedBitStreamParser=V,r.PDF417DecoderErrorCorrection=S1,r.PDF417Reader=kt,r.PDF417ResultMetadata=_1,r.PerspectiveTransform=Fn,r.PlanarYUVLuminanceSource=qn,r.QRCodeByteMatrix=Ya,r.QRCodeDataMask=Tn,r.QRCodeDecodedBitStreamParser=lt,r.QRCodeDecoderErrorCorrectionLevel=$e,r.QRCodeDecoderFormatInformation=zt,r.QRCodeEncoder=qe,r.QRCodeEncoderQRCode=ai,r.QRCodeMaskUtil=gt,r.QRCodeMatrixUtil=ve,r.QRCodeMode=me,r.QRCodeReader=_r,r.QRCodeVersion=ge,r.QRCodeWriter=Li,r.RGBLuminanceSource=Ql,r.RSS14Reader=ht,r.RSSExpandedReader=K,r.ReaderException=Xa,r.ReedSolomonDecoder=Qe,r.ReedSolomonEncoder=Zl,r.ReedSolomonException=st,r.Result=xe,r.ResultMetadataType=Ze,r.ResultPoint=de,r.StringUtils=Z,r.UnsupportedOperationException=ae,r.VideoInputDevice=Re,r.WhiteRectangleDetector=ur,r.WriterException=Xe,r.ZXingArrays=_,r.ZXingCharset=M1,r.ZXingInteger=b,r.ZXingStandardCharsets=$l,r.ZXingStringBuilder=ie,r.ZXingStringEncoding=ye,r.ZXingSystem=F,r.createAbstractExpandedDecoder=C1,Object.defineProperty(r,"__esModule",{value:!0})})})(kc,kc.exports);var et=kc.exports;const Iw=Fc(et),_w=Bd({__proto__:null,default:Iw},[et]);var fd=function(){function e(t,r,a){if(this.formatMap=new Map([[ue.QR_CODE,et.BarcodeFormat.QR_CODE],[ue.AZTEC,et.BarcodeFormat.AZTEC],[ue.CODABAR,et.BarcodeFormat.CODABAR],[ue.CODE_39,et.BarcodeFormat.CODE_39],[ue.CODE_93,et.BarcodeFormat.CODE_93],[ue.CODE_128,et.BarcodeFormat.CODE_128],[ue.DATA_MATRIX,et.BarcodeFormat.DATA_MATRIX],[ue.MAXICODE,et.BarcodeFormat.MAXICODE],[ue.ITF,et.BarcodeFormat.ITF],[ue.EAN_13,et.BarcodeFormat.EAN_13],[ue.EAN_8,et.BarcodeFormat.EAN_8],[ue.PDF_417,et.BarcodeFormat.PDF_417],[ue.RSS_14,et.BarcodeFormat.RSS_14],[ue.RSS_EXPANDED,et.BarcodeFormat.RSS_EXPANDED],[ue.UPC_A,et.BarcodeFormat.UPC_A],[ue.UPC_E,et.BarcodeFormat.UPC_E],[ue.UPC_EAN_EXTENSION,et.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_w)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var l=this.createZXingFormats(t),f=new Map;f.set(et.DecodeHintType.POSSIBLE_FORMATS,l),f.set(et.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,l){try{a(r.decode(t))}catch(f){l(f)}})},e.prototype.decode=function(t){var r=new et.MultiFormatReader(this.verbose,this.hints),a=new et.HTMLCanvasElementLuminanceSource(t),l=new et.BinaryBitmap(new et.HybridBinarizer(a)),f=r.decode(l);return{text:f.text,format:hp.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,l){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,l=t;a<l.length;a++){var f=l[a];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Tw=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},bw=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},dd=function(){function e(t,r,a){if(this.formatMap=new Map([[ue.QR_CODE,"qr_code"],[ue.AZTEC,"aztec"],[ue.CODABAR,"codabar"],[ue.CODE_39,"code_39"],[ue.CODE_93,"code_93"],[ue.CODE_128,"code_128"],[ue.DATA_MATRIX,"data_matrix"],[ue.ITF,"itf"],[ue.EAN_13,"ean_13"],[ue.EAN_8,"ean_8"],[ue.PDF_417,"pdf417"],[ue.UPC_A,"upc_a"],[ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Tw(this,void 0,void 0,function(){var r,a;return bw(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:hp.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,l=0,f=t;l<f.length;l++){var g=f[l],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,r=g)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,l=t;a<l.length;a++){var f=l[a];this.formatMap.has(f)?r.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,l){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),hd=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},gd=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Nw=function(){function e(t,r,a,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&dd.isSupported()?(this.primaryDecoder=new dd(t,a,l),this.secondaryDecoder=new fd(t,a,l)):this.primaryDecoder=new fd(t,a,l)}return e.prototype.decodeAsync=function(t){return hd(this,void 0,void 0,function(){var r;return gd(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return hd(this,void 0,void 0,function(){var r,a;return gd(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var l=a[r];t+=l}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),P0=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(a[f]=l[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),rl=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},il=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},mp=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Ow=function(e){P0(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var l={advanced:[a]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mp),Mw=function(e){P0(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Ow),Rw=function(e){P0(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(mp),Dw=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Mw(this.track)},e.prototype.torchFeature=function(){return new Rw(this.track)},e}(),kw=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,l){return rl(this,void 0,void 0,function(){var f,g;return il(this,function(m){switch(m.label){case 0:return f=new e(t,r,l),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rl(this,void 0,void 0,function(){return il(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var l=t.mediaStream.getVideoTracks(),f=l.length,g=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Dw(this.getFirstTrackOrFail())},e}(),Lw=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return rl(this,void 0,void 0,function(){return il(this,function(l){return[2,kw.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return rl(this,void 0,void 0,function(){var r,a;return il(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=l.sent(),[2,new e(a)]}})})},e}(),pd=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},xd=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Pw=function(){function e(){}return e.failIfNotSupported=function(){return pd(this,void 0,void 0,function(){return xd(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return pd(this,void 0,void 0,function(){return xd(this,function(r){return[2,Lw.create(t)]})})},e}(),Bw=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},Fw=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},jw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=no.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=no.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Bw(this,void 0,void 0,function(){var t,r,a,l,f,g,m;return Fw(this,function(w){switch(w.label){case 0:return t=function(x){for(var I=x.getVideoTracks(),S=0,O=I;S<O.length;S++){var L=O[S];L.enabled=!1,L.stop(),x.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=w.sent(),l=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&l.push({id:m.deviceId,label:m.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(f){for(var g=[],m=0,w=f;m<w.length;m++){var x=w[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},l=MediaStreamTrack;l.getSources(a)})},e}(),pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(pt||(pt={}));var Uw=function(){function e(){this.state=pt.NOT_STARTED,this.onGoingTransactionNewState=pt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=pt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case pt.UNKNOWN:throw"Transition from unknown is not allowed";case pt.NOT_STARTED:this.failIfNewStateIs(t,[pt.PAUSED]);break;case pt.SCANNING:break;case pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,l=r;a<l.length;a++){var f=l[a];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),zw=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===pt.PAUSED},e}(),Hw=function(){function e(){}return e.create=function(){return new zw(new Uw)},e}(),Vw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(a[f]=l[f])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),pn=function(e){Vw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Gn),Gw=function(){function e(t,r){this.logger=r,this.fps=pn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=pn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?xp.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ir(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),md=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new pp(this.verbose),this.qrcode=new Nw(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Hw.create()}return e.prototype.start=function(t,r,a,l){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;l?g=l:g=this.verbose?this.logger.log:function(){};var m=Gw.create(r,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:pn.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var S=this,O=this.stateManagerProxy.startTransition(pt.SCANNING);return new Promise(function(L,j){var F=x?m.videoConstraints:S.createVideoConstraints(t);if(!F){O.cancel(),j("videoConstraints should be defined");return}var Q={};(!x||m.aspectRatio)&&(Q.aspectRatio=m.aspectRatio);var M={onRenderSurfaceReady:function(_,b){S.setupUi(_,b,m),S.isScanning=!0,S.foreverScan(m,a,g)}};Pw.failIfNotSupported().then(function(_){_.create(F).then(function(b){return b.render(f.element,Q,M).then(function(k){S.renderedCamera=k,O.execute(),L(null)}).catch(function(k){O.cancel(),j(k)})}).catch(function(b){O.cancel(),j(no.errorGettingUserMedia(b))})}).catch(function(_){O.cancel(),j(no.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(pt.PAUSED),this.showPausedState(),(ir(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(pt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var f=document.getElementById(pn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),a(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ir(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var m=g.width,w=g.height,x=document.getElementById(a.elementId),I=x.clientWidth?x.clientWidth:pn.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:w,pn.FILE_SCAN_MIN_HEIGHT),O=a.computeCanvasDrawConfig(m,w,I,S);if(r){var L=a.createCanvasElement(I,S,"qr-canvas-visible");L.style.display="inline-block",x.appendChild(L);var j=L.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=I,j.canvas.height=S,j.drawImage(g,0,0,m,w,O.x,O.y,O.width,O.height)}var F=pn.FILE_SCAN_HIDDEN_CANVAS_PADDING,Q=Math.max(g.width,O.width),M=Math.max(g.height,O.height),_=Q+2*F,b=M+2*F,k=a.createCanvasElement(_,b);x.appendChild(k);var X=k.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=_,X.canvas.height=b,X.drawImage(g,0,0,m,w,F,F,Q,M);try{a.qrcode.decodeRobustlyAsync(k).then(function($){l(ud.createFromQrcodeResult($))}).catch(f)}catch($){f("QR code parse error, error = ".concat($))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!xp.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ue.QR_CODE,ue.AZTEC,ue.CODABAR,ue.CODE_39,ue.CODE_93,ue.CODE_128,ue.DATA_MATRIX,ue.MAXICODE,ue.ITF,ue.EAN_13,ue.EAN_8,ue.PDF_417,ue.RSS_14,ue.RSS_EXPANDED,ue.UPC_A,ue.UPC_E,ue.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],l=0,f=t.formatsToSupport;l<f.length;l++){var g=f[l];Aw(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ir(t))return!0;if(!ir(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ir(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ir(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var l=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,r,f),m=function(x){if(x<pn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pn.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(g.width),m(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var l=ir(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,r,l);f.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=r,m={x:0,y:0,width:t,height:r},w=g?this.getShadedRegionBounds(t,r,f):m,x=this.createCanvasElement(w.width,w.height),I={willReadFrequently:!0},S=x.getContext("2d",I);S.canvas.width=w.width,S.canvas.height=w.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,r,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=no.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,ud.createFromQrcodeResult(l)),a.possiblyUpdateShaders(!0),!0}).catch(function(l){a.possiblyUpdateShaders(!1);var f=no.codeParseError(l);return r(f,gp.createFrom(f)),!1})},e.prototype.foreverScan=function(t,r,a){var l=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,x=this.qrRegion.height*m,I=this.qrRegion.x*g,S=this.qrRegion.y*m;this.context.drawImage(f,I,S,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,a)},l.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(L){!L&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,a).finally(function(){O()})):O()}).catch(function(L){l.logger.logError("Error happend while scanning context",L),O()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",l={user:!0,environment:!0},f="exact",g=function(j){if(j in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(t)[0];if(w!==r&&w!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var I=typeof x;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var O=typeof S;throw"Invalid type of 'deviceId' = ".concat(O)}}}var L=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(t,r,a,l){if(t<=a&&r<=l){var f=(a-t)/2,g=(l-r)/2;return{x:f,y:g,width:t,height:r}}else{var m=t,w=r;return t>a&&(r=a/t*r,t=a),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?pn.BORDER_SHADER_MATCH_COLOR:pn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var l=t,f=r,g=document.createElement("canvas");return g.style.width="".concat(l,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=ir(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,l){if(!(r-l.width<1||a-l.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(r-l.width)/2,m=(a-l.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(pn.SHADED_REGION_ELEMENT_ID),r-l.width<11||a-l.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,r,a,l,f,g,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=pn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(a,"px"),l!==null&&(w.style.top="".concat(l,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),m?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),B0="data:image/svg+xml;base64,",Ww=B0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Xw=B0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",yd=B0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Yw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",wd=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Zw=function(){function e(){this.data=wd.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=wd.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Qw=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=cd.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var a=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(l);var f=document.createElement("a");f.innerText=cd.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),$w=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=yd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return r.onHoverIn()},this.infoIcon.onmouseout=function(a){return r.onHoverOut()},this.infoIcon.onclick=function(a){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Yw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=yd,this.infoIcon.style.opacity="0.6")},e}(),Kw=function(){function e(){var t=this;this.infoDiv=new Qw,this.infoIcon=new $w(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),qw=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},Jw=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},vd=function(){function e(){}return e.hasPermissions=function(){return qw(this,void 0,void 0,function(){var t,r,a,l;return Jw(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),r=0,a=t;r<a.length;r++)if(l=a[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),Or=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var a=r[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===$r.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===$r.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Gn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Gn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var a=0,l=t;a<l.length;a++){var f=l[a];if(!Gn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),yn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),gr=function(){function e(){}return e.createElement=function(t,r){var a=document.createElement(t);return a.id=r,a.classList.add(yn.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),yp=function(e,t,r,a){function l(f){return f instanceof r?f:new r(function(g){g(f)})}return new(r||(r=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function w(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):l(I.value).then(m,w)}x((a=a.apply(e,t||[])).next())})},wp=function(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,l,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return w([x,I])}}function w(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(r=0)),r;)try{if(a=1,l&&(f=x[0]&2?l.return:x[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,x[1])).done)return f;switch(l=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){r.label=x[1];break}if(x[0]===6&&r.label<f[1]){r.label=f[1],f=x;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(x);break}f[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(I){x=[6,I],l=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ed=function(){function e(t,r,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return yp(this,void 0,void 0,function(){var t,r;return wp(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=a.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?ze.torchOffButton():ze.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var a=t?ze.torchOnFailedMessage():ze.torchOffFailedMessage();r&&(a+="; Error = "+r),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),ev=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=gr.createElement("button",yn.TORCH_BUTTON_ID),this.torchController=new Ed(t,this,r)}return e.prototype.render=function(t,r){var a=this;this.torchButton.innerText=ze.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(f){return yp(a,void 0,void 0,function(){return wp(this,function(g){switch(g.label){case 0:return[4,l.torchController.flipState()];case 1:return g.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(yn.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(yn.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(yn.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(yn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Ed(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ze.torchOnButton(),this.torchController.reset()},e.create=function(t,r,a,l){var f=new e(r,l);return f.render(t,a),f},e}(),tv=function(){function e(t,r,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=gr.createElement("button",yn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=gr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var w=m.target;if(!(w.files&&w.files.length===0)){var x=w.files,I=x[0],S=I.name;f.setImageNameToButton(S),a(I)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=m.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var I=!1,S=0;S<x.length;++S){var O=x.item(S);if(O){var L=/image.*/;if(O.type.match(L)){I=!0;var j=O.name;f.setImageNameToButton(j),a(O),g.innerText=ze.dragAndDropMessage();break}}}I||(g.innerText=ze.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ze.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var a=t.substring(0,8),l=t.length,f=t.substring(l-8,l);t="".concat(a,"....").concat(f)}var g=ze.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=ze.fileSelectionChooseImage()+" - "+ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,a){var l=new e(t,r,a);return l},e}(),nv=function(){function e(t){this.selectElement=gr.createElement("select",yn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)r.style.display="none";else{var l=ze.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,m=this.cameras;g<m.length;g++){var w=m[g],x=w.id,I=w.label==null?x:w.label;(!I||I==="")&&(I=[ze.anonymousCameraPrefix(),f++].join(" "));var S=document.createElement("option");S.value=x,S.innerText=I,this.options.push(S),this.selectElement.appendChild(S)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,a=this.options;r<a.length;r++){var l=a[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var a=new e(r);return a.render(t),a},e}(),rv=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=gr.createElement("input",yn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,a,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var a=new e;return a.render(t,r),a},e}(),xn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(xn||(xn={}));function iv(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function ov(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var av=function(){function e(t,r,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Or(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new pp(this.verbose),this.persistedDataManager=new Zw,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(ze.lastMatch(f),xn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){r&&r(f,g)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new md(this.getScanRegionId(),ov(this.config,this.verbose))},e.prototype.pause=function(t){(ir(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,l){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),r(),a()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),l(f)}):(t.html5Qrcode.clear(),r(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Gn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Gn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Gn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Gn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Gn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Gn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Gn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),a=this.getScanRegionId();r.id=a,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Or.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),f=this.getDashboardId();l.id=f,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var a=new Kw;a.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,a){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(ze.cameraPermissionRequesting());var f=function(){a||l.createPermissionButton(t,r)};md.getCameras().then(function(g){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),g&&g.length>0?(t.removeChild(r),l.renderCameraSelection(g)):(l.setHeaderMessage(ze.noCameraFound(),xn.STATUS_WARNING),f())}).catch(function(g){l.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),l.setHeaderMessage(g,xn.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var a=this,l=gr.createElement("button",this.getCameraPermissionButtonId());l.innerText=ze.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,a.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var a=this;if(Or.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){vd.hasPermissions().then(function(l){l?a.createCameraListUi(t,r):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r))}).catch(function(l){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Or.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(a);var l=document.createElement("div");l.style.textAlign="center",a.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Or.isFileScanType(this.currentScanType),a=this,l=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";Or.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(ze.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,xn.STATUS_WARNING),a.qrCodeErrorCallback(g,gp.createFrom(g))}))};this.fileSelectionUi=tv.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,a=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var f=rv.create(l,!1),g=function(F){var Q=F.zoomFeature();if(Q.isSupported()){f.setOnCameraZoomValueChangeCallback(function(_){Q.apply(_)});var M=1;r.config.defaultZoomValueIfSupported&&(M=r.config.defaultZoomValueIfSupported),M=Sw(M,Q.min(),Q.max()),f.setValues(Q.min(),Q.max(),M,Q.step()),f.show()}},m=nv.create(l,t),w=document.createElement("span"),x=gr.createElement("button",yn.CAMERA_START_BUTTON_ID);x.innerText=ze.scanButtonStartScanningText(),w.appendChild(x);var I=gr.createElement("button",yn.CAMERA_STOP_BUTTON_ID);I.innerText=ze.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,w.appendChild(I);var S,O=function(F){if(!F.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(F.torchFeature()):S=ev.create(w,F.torchFeature(),{display:"none",marginLeft:"5px"},function(Q){a.setHeaderMessage(Q,xn.STATUS_WARNING)}),S.show()};l.appendChild(w);var L=function(F){F||(x.style.display="none"),x.innerText=ze.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,F&&(x.style.display="inline-block")};if(x.addEventListener("click",function(F){x.innerText=ze.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var Q=m.getValue();a.persistedDataManager.setLastUsedCameraId(Q),a.html5Qrcode.start(Q,iv(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(M){I.disabled=!1,I.style.display="inline-block",L(!1);var _=a.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&O(_),r.config.showZoomSliderIfSupported===!0&&g(_)}).catch(function(M){a.showHideScanTypeSwapLink(!0),m.enable(),L(!0),a.setHeaderMessage(M,xn.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),I.addEventListener("click",function(F){if(!a.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,a.html5Qrcode.stop().then(function(Q){r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,I.style.display="none",x.style.display="inline-block",S&&(S.reset(),S.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(Q){I.disabled=!1,a.setHeaderMessage(Q,xn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var j=a.persistedDataManager.getLastUsedCameraId();m.hasValue(j)?(m.setValue(j),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=ze.textIfCameraScanSelected(),a=ze.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=gr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Or.isCameraScanType(this.currentScanType)?r:a,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Or.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=a,t.currentScanType=$r.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=r,t.currentScanType=$r.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),l.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){vd.hasPermissions().then(function(a){if(a){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(a){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=xn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",r){case xn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case xn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case xn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ww,this.cameraScanImage.alt=ze.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Xw,this.fileScanImage.alt=ze.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return yn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return yn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const sv=({onScanSuccess:e,onScanFailure:t})=>{const r=Y.useRef(null),[a,l]=Y.useState("");return Y.useEffect(()=>{if(!document.getElementById("reader"))return;const f=new av("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return f.render(g=>{e(g)},g=>{}),r.current=f,()=>{r.current&&r.current.clear().catch(g=>{console.error("Failed to clear html5-qrcode scanner. ",g)})}},[]),A.jsxs("div",{className:"w-full max-w-md mx-auto overflow-hidden rounded-xl bg-black border border-slate-800 shadow-xl relative",children:[A.jsx("div",{id:"reader",className:"w-full h-full"}),A.jsx("p",{className:"text-center text-xs text-slate-400 py-2 bg-slate-900/90",children:"Position barcode inside the box"})]})};var F0={},Al={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});function lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var uv=function e(t,r){lv(this,e),this.data=t,this.text=r.text||t,this.options=r};qt.default=uv;Object.defineProperty(Al,"__esModule",{value:!0});Al.CODE39=void 0;var cv=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),fv=qt,dv=hv(fv);function hv(e){return e&&e.__esModule?e:{default:e}}function gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mv=function(e){xv(t,e);function t(r,a){return gv(this,t),r=r.toUpperCase(),a.mod43&&(r+=vv(Ev(r))),pv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return cv(t,[{key:"encode",value:function(){for(var a=bu("*"),l=0;l<this.data.length;l++)a+=bu(this.data[l])+"0";return a+=bu("*"),{data:a,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(dv.default),vp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],yv=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function bu(e){return wv(Ep(e))}function wv(e){return yv[e].toString(2)}function vv(e){return vp[e]}function Ep(e){return vp.indexOf(e)}function Ev(e){for(var t=0,r=0;r<e.length;r++)t+=Ep(e[r]);return t=t%43,t}Al.CODE39=mv;var ar={},j0={},Ao={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});var Go;function Nu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cp=nt.SET_A=0,Ap=nt.SET_B=1,Sp=nt.SET_C=2;nt.SHIFT=98;var Cv=nt.START_A=103,Av=nt.START_B=104,Sv=nt.START_C=105;nt.MODULO=103;nt.STOP=106;nt.FNC1=207;nt.SET_BY_CODE=(Go={},Nu(Go,Cv,Cp),Nu(Go,Av,Ap),Nu(Go,Sv,Sp),Go);nt.SWAP={101:Cp,100:Ap,99:Sp};nt.A_START_CHAR="";nt.B_START_CHAR="";nt.C_START_CHAR="";nt.A_CHARS="[\0-_-]";nt.B_CHARS="[ --]";nt.C_CHARS="(*[0-9]{2}*)";nt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Ao,"__esModule",{value:!0});var Iv=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_v=qt,Tv=bv(_v),gn=nt;function bv(e){return e&&e.__esModule?e:{default:e}}function Nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ov(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Mv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Rv=function(e){Mv(t,e);function t(r,a){Nv(this,t);var l=Ov(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),a));return l.bytes=r.split("").map(function(f){return f.charCodeAt(0)}),l}return Iv(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var a=this.bytes,l=a.shift()-105,f=gn.SET_BY_CODE[l];if(f===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&a.unshift(gn.FNC1);var g=t.next(a,1,f);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(l)+g.result+t.getBar((g.checksum+l)%gn.MODULO)+t.getBar(gn.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var a=this.options.ean128||!1;return typeof a=="string"&&(a=a.toLowerCase()==="true"),a}}],[{key:"getBar",value:function(a){return gn.BARS[a]?gn.BARS[a].toString():""}},{key:"correctIndex",value:function(a,l){if(l===gn.SET_A){var f=a.shift();return f<32?f+64:f-32}else return l===gn.SET_B?a.shift()-32:(a.shift()-48)*10+a.shift()-48}},{key:"next",value:function(a,l,f){if(!a.length)return{result:"",checksum:0};var g=void 0,m=void 0;if(a[0]>=200){m=a.shift()-105;var w=gn.SWAP[m];w!==void 0?g=t.next(a,l+1,w):((f===gn.SET_A||f===gn.SET_B)&&m===gn.SHIFT&&(a[0]=f===gn.SET_A?a[0]>95?a[0]-96:a[0]:a[0]<32?a[0]+96:a[0]),g=t.next(a,l+1,f))}else m=t.correctIndex(a,f),g=t.next(a,l+1,f);var x=t.getBar(m),I=m*l;return{result:x+g.result,checksum:I+g.checksum}}}]),t}(Tv.default);Ao.default=Rv;var U0={};Object.defineProperty(U0,"__esModule",{value:!0});var Yr=nt,Ip=function(t){return t.match(new RegExp("^"+Yr.A_CHARS+"*"))[0].length},_p=function(t){return t.match(new RegExp("^"+Yr.B_CHARS+"*"))[0].length},Tp=function(t){return t.match(new RegExp("^"+Yr.C_CHARS+"*"))[0]};function z0(e,t){var r=t?Yr.A_CHARS:Yr.B_CHARS,a=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+""+bp(e.substring(a[1].length));var l=e.match(new RegExp("^"+r+"+"))[0];return l.length===e.length?e:l+String.fromCharCode(t?205:206)+z0(e.substring(l.length),!t)}function bp(e){var t=Tp(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var a=Ip(e)>=_p(e);return t+String.fromCharCode(a?206:205)+z0(e,a)}U0.default=function(e){var t=void 0,r=Tp(e).length;if(r>=2)t=Yr.C_START_CHAR+bp(e);else{var a=Ip(e)>_p(e);t=(a?Yr.A_START_CHAR:Yr.B_START_CHAR)+z0(e,a)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(l,f){return""+f})};Object.defineProperty(j0,"__esModule",{value:!0});var Dv=Ao,kv=Np(Dv),Lv=U0,Pv=Np(Lv);function Np(e){return e&&e.__esModule?e:{default:e}}function Bv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jv=function(e){Fv(t,e);function t(r,a){if(Bv(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var l=Ou(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,Pv.default)(r),a));else var l=Ou(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));return Ou(l)}return t}(kv.default);j0.default=jv;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});var Uv=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),zv=Ao,Hv=Vv(zv),Cd=nt;function Vv(e){return e&&e.__esModule?e:{default:e}}function Gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yv=function(e){Xv(t,e);function t(r,a){return Gv(this,t),Wv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Cd.A_START_CHAR+r,a))}return Uv(t,[{key:"valid",value:function(){return new RegExp("^"+Cd.A_CHARS+"+$").test(this.data)}}]),t}(Hv.default);H0.default=Yv;var V0={};Object.defineProperty(V0,"__esModule",{value:!0});var Zv=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Qv=Ao,$v=Kv(Qv),Ad=nt;function Kv(e){return e&&e.__esModule?e:{default:e}}function qv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function e3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var t3=function(e){e3(t,e);function t(r,a){return qv(this,t),Jv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Ad.B_START_CHAR+r,a))}return Zv(t,[{key:"valid",value:function(){return new RegExp("^"+Ad.B_CHARS+"+$").test(this.data)}}]),t}($v.default);V0.default=t3;var G0={};Object.defineProperty(G0,"__esModule",{value:!0});var n3=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),r3=Ao,i3=o3(r3),Sd=nt;function o3(e){return e&&e.__esModule?e:{default:e}}function a3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function l3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u3=function(e){l3(t,e);function t(r,a){return a3(this,t),s3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Sd.C_START_CHAR+r,a))}return n3(t,[{key:"valid",value:function(){return new RegExp("^"+Sd.C_CHARS+"+$").test(this.data)}}]),t}(i3.default);G0.default=u3;Object.defineProperty(ar,"__esModule",{value:!0});ar.CODE128C=ar.CODE128B=ar.CODE128A=ar.CODE128=void 0;var c3=j0,f3=Sl(c3),d3=H0,h3=Sl(d3),g3=V0,p3=Sl(g3),x3=G0,m3=Sl(x3);function Sl(e){return e&&e.__esModule?e:{default:e}}ar.CODE128=f3.default;ar.CODE128A=h3.default;ar.CODE128B=p3.default;ar.CODE128C=m3.default;var sn={},W0={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.SIDE_BIN="101";Bn.MIDDLE_BIN="01010";Bn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Bn.EAN2_STRUCTURE=["LL","LG","GL","GG"];Bn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Bn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Il={},Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});var y3=Bn,w3=function(t,r,a){var l=t.split("").map(function(g,m){return y3.BINARIES[r[m]]}).map(function(g,m){return g?g[t[m]]:""});if(a){var f=t.length-1;l=l.map(function(g,m){return m<f?g+a:g})}return l.join("")};Ti.default=w3;Object.defineProperty(Il,"__esModule",{value:!0});var v3=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Ui=Bn,E3=Ti,Id=Op(E3),C3=qt,A3=Op(C3);function Op(e){return e&&e.__esModule?e:{default:e}}function S3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T3=function(e){_3(t,e);function t(r,a){S3(this,t);var l=I3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));return l.fontSize=!a.flat&&a.fontSize>a.width*10?a.width*10:a.fontSize,l.guardHeight=a.height+l.fontSize/2+a.textMargin,l}return v3(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(a,l){return this.text.substr(a,l)}},{key:"leftEncode",value:function(a,l){return(0,Id.default)(a,l)}},{key:"rightText",value:function(a,l){return this.text.substr(a,l)}},{key:"rightEncode",value:function(a,l){return(0,Id.default)(a,l)}},{key:"encodeGuarded",value:function(){var a={fontSize:this.fontSize},l={height:this.guardHeight};return[{data:Ui.SIDE_BIN,options:l},{data:this.leftEncode(),text:this.leftText(),options:a},{data:Ui.MIDDLE_BIN,options:l},{data:this.rightEncode(),text:this.rightText(),options:a},{data:Ui.SIDE_BIN,options:l}]}},{key:"encodeFlat",value:function(){var a=[Ui.SIDE_BIN,this.leftEncode(),Ui.MIDDLE_BIN,this.rightEncode(),Ui.SIDE_BIN];return{data:a.join(""),text:this.text}}}]),t}(A3.default);Il.default=T3;Object.defineProperty(W0,"__esModule",{value:!0});var b3=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Wo=function e(t,r,a){t===null&&(t=Function.prototype);var l=Object.getOwnPropertyDescriptor(t,r);if(l===void 0){var f=Object.getPrototypeOf(t);return f===null?void 0:e(f,r,a)}else{if("value"in l)return l.value;var g=l.get;return g===void 0?void 0:g.call(a)}},N3=Bn,O3=Il,M3=R3(O3);function R3(e){return e&&e.__esModule?e:{default:e}}function D3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function L3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _d=function(t){var r=t.substr(0,12).split("").map(function(a){return+a}).reduce(function(a,l,f){return f%2?a+l*3:a+l},0);return(10-r%10)%10},P3=function(e){L3(t,e);function t(r,a){D3(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=_d(r));var l=k3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));return l.lastChar=a.lastChar,l}return b3(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===_d(this.data)}},{key:"leftText",value:function(){return Wo(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var a=this.data.substr(1,6),l=N3.EAN13_STRUCTURE[this.data[0]];return Wo(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,a,l)}},{key:"rightText",value:function(){return Wo(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var a=this.data.substr(7,6);return Wo(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,a,"RRRRRR")}},{key:"encodeGuarded",value:function(){var a=Wo(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(a.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(a.push({data:"00"}),a.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),a}}]),t}(M3.default);W0.default=P3;var X0={};Object.defineProperty(X0,"__esModule",{value:!0});var B3=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),hs=function e(t,r,a){t===null&&(t=Function.prototype);var l=Object.getOwnPropertyDescriptor(t,r);if(l===void 0){var f=Object.getPrototypeOf(t);return f===null?void 0:e(f,r,a)}else{if("value"in l)return l.value;var g=l.get;return g===void 0?void 0:g.call(a)}},F3=Il,j3=U3(F3);function U3(e){return e&&e.__esModule?e:{default:e}}function z3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function V3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Td=function(t){var r=t.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,l,f){return f%2?a+l:a+l*3},0);return(10-r%10)%10},G3=function(e){V3(t,e);function t(r,a){return z3(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=Td(r)),H3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return B3(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Td(this.data)}},{key:"leftText",value:function(){return hs(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var a=this.data.substr(0,4);return hs(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,a,"LLLL")}},{key:"rightText",value:function(){return hs(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var a=this.data.substr(4,4);return hs(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,a,"RRRR")}}]),t}(j3.default);X0.default=G3;var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});var W3=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),X3=Bn,Y3=Ti,Z3=Mp(Y3),Q3=qt,$3=Mp(Q3);function Mp(e){return e&&e.__esModule?e:{default:e}}function K3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function J3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eE=function(t){var r=t.split("").map(function(a){return+a}).reduce(function(a,l,f){return f%2?a+l*9:a+l*3},0);return r%10},tE=function(e){J3(t,e);function t(r,a){return K3(this,t),q3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return W3(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var a=X3.EAN5_STRUCTURE[eE(this.data)];return{data:"1011"+(0,Z3.default)(this.data,a,"01"),text:this.text}}}]),t}($3.default);Y0.default=tE;var Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});var nE=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),rE=Bn,iE=Ti,oE=Rp(iE),aE=qt,sE=Rp(aE);function Rp(e){return e&&e.__esModule?e:{default:e}}function lE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fE=function(e){cE(t,e);function t(r,a){return lE(this,t),uE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return nE(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var a=rE.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,oE.default)(this.data,a,"01"),text:this.text}}}]),t}(sE.default);Z0.default=fE;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});var dE=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();ka.checksum=Lc;var hE=Ti,zi=Dp(hE),gE=qt,pE=Dp(gE);function Dp(e){return e&&e.__esModule?e:{default:e}}function xE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wE=function(e){yE(t,e);function t(r,a){xE(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=Lc(r));var l=mE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));return l.displayValue=a.displayValue,a.fontSize>a.width*10?l.fontSize=a.width*10:l.fontSize=a.fontSize,l.guardHeight=a.height+l.fontSize/2+a.textMargin,l}return dE(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Lc(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=(0,zi.default)(this.data.substr(0,6),"LLLLLL"),a+="01010",a+=(0,zi.default)(this.data.substr(6,6),"RRRRRR"),a+="101",{data:a,text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101"+(0,zi.default)(this.data[0],"L"),options:{height:this.guardHeight}}),a.push({data:(0,zi.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),a.push({data:"01010",options:{height:this.guardHeight}}),a.push({data:(0,zi.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),a.push({data:(0,zi.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),a}}]),t}(pE.default);function Lc(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}ka.default=wE;var Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});var vE=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),EE=Ti,CE=kp(EE),AE=qt,SE=kp(AE),IE=ka;function kp(e){return e&&e.__esModule?e:{default:e}}function _E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function TE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bE=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],NE=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],OE=function(e){TE(t,e);function t(r,a){_E(this,t);var l=Mu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));if(l.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)l.middleDigits=r,l.upcA=bd(r,"0"),l.text=a.text||""+l.upcA[0]+r+l.upcA[l.upcA.length-1],l.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(l.middleDigits=r.substring(1,r.length-1),l.upcA=bd(l.middleDigits,r[0]),l.upcA[l.upcA.length-1]===r[r.length-1])l.isValid=!0;else return Mu(l);else return Mu(l);return l.displayValue=a.displayValue,a.fontSize>a.width*10?l.fontSize=a.width*10:l.fontSize=a.fontSize,l.guardHeight=a.height+l.fontSize/2+a.textMargin,l}return vE(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=this.encodeMiddleDigits(),a+="010101",{data:a,text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101",options:{height:this.guardHeight}}),a.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),a.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),a}},{key:"encodeMiddleDigits",value:function(){var a=this.upcA[0],l=this.upcA[this.upcA.length-1],f=NE[parseInt(l)][parseInt(a)];return(0,CE.default)(this.middleDigits,f)}}]),t}(SE.default);function bd(e,t){for(var r=parseInt(e[e.length-1]),a=bE[r],l="",f=0,g=0;g<a.length;g++){var m=a[g];m==="X"?l+=e[f++]:l+=m}return l=""+t+l,""+l+(0,IE.checksum)(l)}Q0.default=OE;Object.defineProperty(sn,"__esModule",{value:!0});sn.UPCE=sn.UPC=sn.EAN2=sn.EAN5=sn.EAN8=sn.EAN13=void 0;var ME=W0,RE=So(ME),DE=X0,kE=So(DE),LE=Y0,PE=So(LE),BE=Z0,FE=So(BE),jE=ka,UE=So(jE),zE=Q0,HE=So(zE);function So(e){return e&&e.__esModule?e:{default:e}}sn.EAN13=RE.default;sn.EAN8=kE.default;sn.EAN5=PE.default;sn.EAN2=FE.default;sn.UPC=UE.default;sn.UPCE=HE.default;var mo={},_l={},La={};Object.defineProperty(La,"__esModule",{value:!0});La.START_BIN="1010";La.END_BIN="11101";La.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(_l,"__esModule",{value:!0});var VE=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),gs=La,GE=qt,WE=XE(GE);function XE(e){return e&&e.__esModule?e:{default:e}}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function QE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $E=function(e){QE(t,e);function t(){return YE(this,t),ZE(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return VE(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var a=this,l=this.data.match(/.{2}/g).map(function(f){return a.encodePair(f)}).join("");return{data:gs.START_BIN+l+gs.END_BIN,text:this.text}}},{key:"encodePair",value:function(a){var l=gs.BINARIES[a[1]];return gs.BINARIES[a[0]].split("").map(function(f,g){return(f==="1"?"111":"1")+(l[g]==="1"?"000":"0")}).join("")}}]),t}(WE.default);_l.default=$E;var $0={};Object.defineProperty($0,"__esModule",{value:!0});var KE=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),qE=_l,JE=eC(qE);function eC(e){return e&&e.__esModule?e:{default:e}}function tC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Nd=function(t){var r=t.substr(0,13).split("").map(function(a){return parseInt(a,10)}).reduce(function(a,l,f){return a+l*(3-f%2*2)},0);return Math.ceil(r/10)*10-r},iC=function(e){rC(t,e);function t(r,a){return tC(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=Nd(r)),nC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return KE(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Nd(this.data)}}]),t}(JE.default);$0.default=iC;Object.defineProperty(mo,"__esModule",{value:!0});mo.ITF14=mo.ITF=void 0;var oC=_l,aC=Lp(oC),sC=$0,lC=Lp(sC);function Lp(e){return e&&e.__esModule?e:{default:e}}mo.ITF=aC.default;mo.ITF14=lC.default;var Rn={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});var uC=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),cC=qt,fC=dC(cC);function dC(e){return e&&e.__esModule?e:{default:e}}function hC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xC=function(e){pC(t,e);function t(r,a){return hC(this,t),gC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return uC(t,[{key:"encode",value:function(){for(var a="110",l=0;l<this.data.length;l++){var f=parseInt(this.data[l]),g=f.toString(2);g=mC(g,4-g.length);for(var m=0;m<g.length;m++)a+=g[m]=="0"?"100":"110"}return a+="1001",{data:a,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(fC.default);function mC(e,t){for(var r=0;r<t;r++)e="0"+e;return e}bi.default=xC;var K0={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.mod10=yC;Ni.mod11=wC;function yC(e){for(var t=0,r=0;r<e.length;r++){var a=parseInt(e[r]);(r+e.length)%2===0?t+=a:t+=a*2%10+Math.floor(a*2/10)}return(10-t%10)%10}function wC(e){for(var t=0,r=[2,3,4,5,6,7],a=0;a<e.length;a++){var l=parseInt(e[e.length-1-a]);t+=r[a%r.length]*l}return(11-t%11)%11}Object.defineProperty(K0,"__esModule",{value:!0});var vC=bi,EC=AC(vC),CC=Ni;function AC(e){return e&&e.__esModule?e:{default:e}}function SC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _C(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var TC=function(e){_C(t,e);function t(r,a){return SC(this,t),IC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,CC.mod10)(r),a))}return t}(EC.default);K0.default=TC;var q0={};Object.defineProperty(q0,"__esModule",{value:!0});var bC=bi,NC=MC(bC),OC=Ni;function MC(e){return e&&e.__esModule?e:{default:e}}function RC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LC=function(e){kC(t,e);function t(r,a){return RC(this,t),DC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,OC.mod11)(r),a))}return t}(NC.default);q0.default=LC;var J0={};Object.defineProperty(J0,"__esModule",{value:!0});var PC=bi,BC=FC(PC),Od=Ni;function FC(e){return e&&e.__esModule?e:{default:e}}function jC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var HC=function(e){zC(t,e);function t(r,a){return jC(this,t),r+=(0,Od.mod10)(r),r+=(0,Od.mod10)(r),UC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return t}(BC.default);J0.default=HC;var e1={};Object.defineProperty(e1,"__esModule",{value:!0});var VC=bi,GC=WC(VC),Md=Ni;function WC(e){return e&&e.__esModule?e:{default:e}}function XC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QC=function(e){ZC(t,e);function t(r,a){return XC(this,t),r+=(0,Md.mod11)(r),r+=(0,Md.mod10)(r),YC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return t}(GC.default);e1.default=QC;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.MSI1110=Rn.MSI1010=Rn.MSI11=Rn.MSI10=Rn.MSI=void 0;var $C=bi,KC=Pa($C),qC=K0,JC=Pa(qC),eA=q0,tA=Pa(eA),nA=J0,rA=Pa(nA),iA=e1,oA=Pa(iA);function Pa(e){return e&&e.__esModule?e:{default:e}}Rn.MSI=KC.default;Rn.MSI10=JC.default;Rn.MSI11=tA.default;Rn.MSI1010=rA.default;Rn.MSI1110=oA.default;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.pharmacode=void 0;var aA=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),sA=qt,lA=uA(sA);function uA(e){return e&&e.__esModule?e:{default:e}}function cA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hA=function(e){dA(t,e);function t(r,a){cA(this,t);var l=fA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a));return l.number=parseInt(r,10),l}return aA(t,[{key:"encode",value:function(){for(var a=this.number,l="";!isNaN(a)&&a!=0;)a%2===0?(l="11100"+l,a=(a-2)/2):(l="100"+l,a=(a-1)/2);return l=l.slice(0,-2),{data:l,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(lA.default);Tl.pharmacode=hA;var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.codabar=void 0;var gA=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),pA=qt,xA=mA(pA);function mA(e){return e&&e.__esModule?e:{default:e}}function yA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var EA=function(e){vA(t,e);function t(r,a){yA(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var l=wA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),a));return l.text=l.options.text||l.text.replace(/[A-D]/g,""),l}return gA(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var a=[],l=this.getEncodings(),f=0;f<this.data.length;f++)a.push(l[this.data.charAt(f)]),f!==this.data.length-1&&a.push("0");return{text:this.text,data:a.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(xA.default);bl.codabar=EA;var yo={},Nl={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Ba.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Ba.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(Nl,"__esModule",{value:!0});var CA=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),ps=Ba,AA=qt,SA=IA(AA);function IA(e){return e&&e.__esModule?e:{default:e}}function _A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NA=function(e){bA(t,e);function t(r,a){return _A(this,t),TA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return CA(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var a=this.data.split("").flatMap(function(m){return ps.MULTI_SYMBOLS[m]||m}),l=a.map(function(m){return t.getEncoding(m)}).join(""),f=t.checksum(a,20),g=t.checksum(a.concat(f),15);return{text:this.text,data:t.getEncoding("")+l+t.getEncoding(f)+t.getEncoding(g)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(a){return ps.BINARIES[t.symbolValue(a)]}},{key:"getSymbol",value:function(a){return ps.SYMBOLS[a]}},{key:"symbolValue",value:function(a){return ps.SYMBOLS.indexOf(a)}},{key:"checksum",value:function(a,l){var f=a.slice().reverse().reduce(function(g,m,w){var x=w%l+1;return g+t.symbolValue(m)*x},0);return t.getSymbol(f%47)}}]),t}(SA.default);Nl.default=NA;var t1={};Object.defineProperty(t1,"__esModule",{value:!0});var OA=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),MA=Nl,RA=DA(MA);function DA(e){return e&&e.__esModule?e:{default:e}}function kA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BA=function(e){PA(t,e);function t(r,a){return kA(this,t),LA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return OA(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(RA.default);t1.default=BA;Object.defineProperty(yo,"__esModule",{value:!0});yo.CODE93FullASCII=yo.CODE93=void 0;var FA=Nl,jA=Pp(FA),UA=t1,zA=Pp(UA);function Pp(e){return e&&e.__esModule?e:{default:e}}yo.CODE93=jA.default;yo.CODE93FullASCII=zA.default;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.GenericBarcode=void 0;var HA=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),VA=qt,GA=WA(VA);function WA(e){return e&&e.__esModule?e:{default:e}}function XA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QA=function(e){ZA(t,e);function t(r,a){return XA(this,t),YA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a))}return HA(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(GA.default);Ol.GenericBarcode=QA;Object.defineProperty(F0,"__esModule",{value:!0});var $A=Al,xs=ar,Hi=sn,Rd=mo,Xo=Rn,KA=Tl,qA=bl,Dd=yo,JA=Ol;F0.default={CODE39:$A.CODE39,CODE128:xs.CODE128,CODE128A:xs.CODE128A,CODE128B:xs.CODE128B,CODE128C:xs.CODE128C,EAN13:Hi.EAN13,EAN8:Hi.EAN8,EAN5:Hi.EAN5,EAN2:Hi.EAN2,UPC:Hi.UPC,UPCE:Hi.UPCE,ITF14:Rd.ITF14,ITF:Rd.ITF,MSI:Xo.MSI,MSI10:Xo.MSI10,MSI11:Xo.MSI11,MSI1010:Xo.MSI1010,MSI1110:Xo.MSI1110,pharmacode:KA.pharmacode,codabar:qA.codabar,CODE93:Dd.CODE93,CODE93FullASCII:Dd.CODE93FullASCII,GenericBarcode:JA.GenericBarcode};var Io={};Object.defineProperty(Io,"__esModule",{value:!0});var eS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};Io.default=function(e,t){return eS({},e,t)};var n1={};Object.defineProperty(n1,"__esModule",{value:!0});n1.default=tS;function tS(e){var t=[];function r(a){if(Array.isArray(a))for(var l=0;l<a.length;l++)r(a[l]);else a.text=a.text||"",a.data=a.data||"",t.push(a)}return r(e),t}var r1={};Object.defineProperty(r1,"__esModule",{value:!0});r1.default=nS;function nS(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var i1={},o1={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.default=rS;function rS(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});var iS={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Rl.default=iS;Object.defineProperty(o1,"__esModule",{value:!0});var oS=Ml,aS=Bp(oS),sS=Rl,kd=Bp(sS);function Bp(e){return e&&e.__esModule?e:{default:e}}function lS(e){var t={};for(var r in kd.default)kd.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,aS.default)(t),t}o1.default=lS;var a1={},s1={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.getTotalWidthOfEncodings=wn.calculateEncodingAttributes=wn.getBarcodePadding=wn.getEncodingHeight=wn.getMaximumHeightOfEncodings=void 0;var uS=Io,cS=fS(uS);function fS(e){return e&&e.__esModule?e:{default:e}}function Fp(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function jp(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function dS(e,t,r){for(var a=0;a<e.length;a++){var l=e[a],f=(0,cS.default)(t,l.options),g;f.displayValue?g=pS(l.text,f,r):g=0;var m=l.data.length*f.width;l.width=Math.ceil(Math.max(g,m)),l.height=Fp(l,f),l.barcodePadding=jp(g,m,f)}}function hS(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function gS(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function pS(e,t,r){var a;if(r)a=r;else if(typeof document<"u")a=document.createElement("canvas").getContext("2d");else return 0;a.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var l=a.measureText(e);if(!l)return 0;var f=l.width;return f}wn.getMaximumHeightOfEncodings=gS;wn.getEncodingHeight=Fp;wn.getBarcodePadding=jp;wn.calculateEncodingAttributes=dS;wn.getTotalWidthOfEncodings=hS;Object.defineProperty(s1,"__esModule",{value:!0});var xS=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),mS=Io,yS=wS(mS),Ru=wn;function wS(e){return e&&e.__esModule?e:{default:e}}function vS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ES=function(){function e(t,r,a){vS(this,e),this.canvas=t,this.encodings=r,this.options=a}return xS(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var a=(0,yS.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(a,this.encodings[r]),this.drawCanvasText(a,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,Ru.calculateEncodingAttributes)(this.encodings,this.options,r);var a=(0,Ru.getTotalWidthOfEncodings)(this.encodings),l=(0,Ru.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=a+this.options.marginLeft+this.options.marginRight,this.canvas.height=l,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,a){var l=this.canvas.getContext("2d"),f=a.data,g;r.textPosition=="top"?g=r.marginTop+r.fontSize+r.textMargin:g=r.marginTop,l.fillStyle=r.lineColor;for(var m=0;m<f.length;m++){var w=m*r.width+a.barcodePadding;f[m]==="1"?l.fillRect(w,g,r.width,r.height):f[m]&&l.fillRect(w,g,r.width,r.height*f[m])}}},{key:"drawCanvasText",value:function(r,a){var l=this.canvas.getContext("2d"),f=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var g,m;r.textPosition=="top"?m=r.marginTop+r.fontSize-r.textMargin:m=r.height+r.textMargin+r.marginTop+r.fontSize,l.font=f,r.textAlign=="left"||a.barcodePadding>0?(g=0,l.textAlign="left"):r.textAlign=="right"?(g=a.width-1,l.textAlign="right"):(g=a.width/2,l.textAlign="center"),l.fillText(a.text,g,m)}}},{key:"moveCanvasDrawing",value:function(r){var a=this.canvas.getContext("2d");a.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();s1.default=ES;var l1={};Object.defineProperty(l1,"__esModule",{value:!0});var CS=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),AS=Io,SS=IS(AS),Du=wn;function IS(e){return e&&e.__esModule?e:{default:e}}function _S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ms="http://www.w3.org/2000/svg",TS=function(){function e(t,r,a){_S(this,e),this.svg=t,this.encodings=r,this.options=a,this.document=a.xmlDocument||document}return CS(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var a=0;a<this.encodings.length;a++){var l=this.encodings[a],f=(0,SS.default)(this.options,l.options),g=this.createGroup(r,f.marginTop,this.svg);this.setGroupOptions(g,f),this.drawSvgBarcode(g,f,l),this.drawSVGText(g,f,l),r+=l.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Du.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,Du.getTotalWidthOfEncodings)(this.encodings),a=(0,Du.getMaximumHeightOfEncodings)(this.encodings),l=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(l,a),this.options.background&&this.drawRect(0,0,l,a,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,a,l){var f=l.data,g;a.textPosition=="top"?g=a.fontSize+a.textMargin:g=0;for(var m=0,w=0,x=0;x<f.length;x++)w=x*a.width+l.barcodePadding,f[x]==="1"?m++:m>0&&(this.drawRect(w-a.width*m,g,a.width*m,a.height,r),m=0);m>0&&this.drawRect(w-a.width*(m-1),g,a.width*m,a.height,r)}},{key:"drawSVGText",value:function(r,a,l){var f=this.document.createElementNS(ms,"text");if(a.displayValue){var g,m;f.setAttribute("style","font:"+a.fontOptions+" "+a.fontSize+"px "+a.font),a.textPosition=="top"?m=a.fontSize-a.textMargin:m=a.height+a.textMargin+a.fontSize,a.textAlign=="left"||l.barcodePadding>0?(g=0,f.setAttribute("text-anchor","start")):a.textAlign=="right"?(g=l.width-1,f.setAttribute("text-anchor","end")):(g=l.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",g),f.setAttribute("y",m),f.appendChild(this.document.createTextNode(l.text)),r.appendChild(f)}}},{key:"setSvgAttributes",value:function(r,a){var l=this.svg;l.setAttribute("width",r+"px"),l.setAttribute("height",a+"px"),l.setAttribute("x","0px"),l.setAttribute("y","0px"),l.setAttribute("viewBox","0 0 "+r+" "+a),l.setAttribute("xmlns",ms),l.setAttribute("version","1.1"),l.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,a,l){var f=this.document.createElementNS(ms,"g");return f.setAttribute("transform","translate("+r+", "+a+")"),l.appendChild(f),f}},{key:"setGroupOptions",value:function(r,a){r.setAttribute("style","fill:"+a.lineColor+";")}},{key:"drawRect",value:function(r,a,l,f,g){var m=this.document.createElementNS(ms,"rect");return m.setAttribute("x",r),m.setAttribute("y",a),m.setAttribute("width",l),m.setAttribute("height",f),g.appendChild(m),m}}]),e}();l1.default=TS;var u1={};Object.defineProperty(u1,"__esModule",{value:!0});var bS=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function NS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var OS=function(){function e(t,r,a){NS(this,e),this.object=t,this.encodings=r,this.options=a}return bS(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();u1.default=OS;Object.defineProperty(a1,"__esModule",{value:!0});var MS=s1,RS=c1(MS),DS=l1,kS=c1(DS),LS=u1,PS=c1(LS);function c1(e){return e&&e.__esModule?e:{default:e}}a1.default={CanvasRenderer:RS.default,SVGRenderer:kS.default,ObjectRenderer:PS.default};var _o={};Object.defineProperty(_o,"__esModule",{value:!0});function f1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function h1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BS=function(e){h1(t,e);function t(r,a){f1(this,t);var l=d1(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.name="InvalidInputException",l.symbology=r,l.input=a,l.message='"'+l.input+'" is not a valid input for '+l.symbology,l}return t}(Error),FS=function(e){h1(t,e);function t(){f1(this,t);var r=d1(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),jS=function(e){h1(t,e);function t(){f1(this,t);var r=d1(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);_o.InvalidInputException=BS;_o.InvalidElementException=FS;_o.NoElementException=jS;Object.defineProperty(i1,"__esModule",{value:!0});var US=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zS=o1,Pc=Up(zS),HS=a1,Ko=Up(HS),VS=_o;function Up(e){return e&&e.__esModule?e:{default:e}}function g1(e){if(typeof e=="string")return GS(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(g1(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return WS(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,Pc.default)(e),renderer:Ko.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Pc.default)(e),renderer:Ko.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:Ko.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":US(e))==="object"&&!e.nodeName)return{element:e,renderer:Ko.default.ObjectRenderer};throw new VS.InvalidElementException}}function GS(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],a=0;a<t.length;a++)r.push(g1(t[a]));return r}}function WS(e){var t=document.createElement("canvas");return{element:t,options:(0,Pc.default)(e),renderer:Ko.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}i1.default=g1;var p1={};Object.defineProperty(p1,"__esModule",{value:!0});var XS=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function YS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ZS=function(){function e(t){YS(this,e),this.api=t}return XS(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var a=r.apply(void 0,arguments);return this.api._options.valid(!0),a}catch(l){return this.handleCatch(l),this.api}}}]),e}();p1.default=ZS;var QS=F0,mi=ti(QS),$S=Io,Fa=ti($S),KS=n1,zp=ti(KS),qS=r1,Ld=ti(qS),JS=i1,e4=ti(JS),t4=Ml,n4=ti(t4),r4=p1,i4=ti(r4),Hp=_o,o4=Rl,Vp=ti(o4);function ti(e){return e&&e.__esModule?e:{default:e}}var xr=function(){},Dl=function(t,r,a){var l=new xr;if(typeof t>"u")throw Error("No element to render on was provided.");return l._renderProperties=(0,e4.default)(t),l._encodings=[],l._options=Vp.default,l._errorHandler=new i4.default(l),typeof r<"u"&&(a=a||{},a.format||(a.format=Wp()),l.options(a)[a.format](r,a).render()),l};Dl.getModule=function(e){return mi.default[e]};for(var Pd in mi.default)mi.default.hasOwnProperty(Pd)&&a4(mi.default,Pd);function a4(e,t){xr.prototype[t]=xr.prototype[t.toUpperCase()]=xr.prototype[t.toLowerCase()]=function(r,a){var l=this;return l._errorHandler.wrapBarcodeCall(function(){a.text=typeof a.text>"u"?void 0:""+a.text;var f=(0,Fa.default)(l._options,a);f=(0,n4.default)(f);var g=e[t],m=Gp(r,g,f);return l._encodings.push(m),l})}}function Gp(e,t,r){e=""+e;var a=new t(e,r);if(!a.valid())throw new Hp.InvalidInputException(a.constructor.name,e);var l=a.encode();l=(0,zp.default)(l);for(var f=0;f<l.length;f++)l[f].options=(0,Fa.default)(r,l[f].options);return l}function Wp(){return mi.default.CODE128?"CODE128":Object.keys(mi.default)[0]}xr.prototype.options=function(e){return this._options=(0,Fa.default)(this._options,e),this};xr.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};xr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,Fa.default)(this._options,e.options);r.format=="auto"&&(r.format=Wp()),this._errorHandler.wrapBarcodeCall(function(){var a=r.value,l=mi.default[r.format.toUpperCase()],f=Gp(a,l,r);Bc(e,f,r)})}}};xr.prototype.render=function(){if(!this._renderProperties)throw new Hp.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Bc(this._renderProperties[e],this._encodings,this._options);else Bc(this._renderProperties,this._encodings,this._options);return this};xr.prototype._defaults=Vp.default;function Bc(e,t,r){t=(0,zp.default)(t);for(var a=0;a<t.length;a++)t[a].options=(0,Fa.default)(r,t[a].options),(0,Ld.default)(t[a].options);(0,Ld.default)(r);var l=e.renderer,f=new l(e.element,t,r);f.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=Dl);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),Dl(r,e,t)});var s4=Dl;const l4=Fc(s4),u4=({product:e,onClose:t})=>{const{t:r,language:a}=_i(),l=Y.useRef(null),f=Y.useRef(null),[g,m]=al.useState({labelWidth:50,labelHeight:30,copies:1,showPrice:!0,fontSize:12}),w=(e==null?void 0:e.barcode)||(e==null?void 0:e.Barcode)||"",x=(e==null?void 0:e.name)||(e==null?void 0:e.Name)||"",I=(e==null?void 0:e.price)||(e==null?void 0:e.Price)||0,S=(e==null?void 0:e.shelf)||(e==null?void 0:e.Shelf)||"",O=(e==null?void 0:e.row)||(e==null?void 0:e.Row)||"";Y.useEffect(()=>{if(l.current&&w)try{l4(l.current,String(w),{format:"CODE128",width:2,height:60,displayValue:!0,fontSize:g.fontSize,margin:5,background:"#ffffff",lineColor:"#000000"})}catch(j){console.error("Error generating barcode:",j)}},[w,g.fontSize]);const L=dp.useReactToPrint({content:()=>f.current,documentTitle:`Barcode_${w}`,pageStyle:`
            @page {
                size: ${g.labelWidth}mm ${g.labelHeight}mm;
                margin: 0;
            }
            @media print {
                body {
                    margin: 0;
                    padding: 0;
                }
                .no-print {
                    display: none !important;
                }
            }
        `});return e?A.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-slate-200",children:[A.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800",children:a==="th"?"":"Print Barcode Label"}),A.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:A.jsx(lp,{className:"w-5 h-5 text-slate-500"})})]}),A.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[A.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border-2 border-dashed border-slate-300",children:[A.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:a==="th"?"":"Preview"}),A.jsxs("div",{ref:f,className:"bg-white p-4 rounded-lg shadow-sm mx-auto",style:{width:`${g.labelWidth}mm`,minHeight:`${g.labelHeight}mm`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[A.jsx("svg",{ref:l}),A.jsxs("div",{className:"text-center mt-2",style:{fontSize:`${g.fontSize}px`},children:[A.jsx("p",{className:"font-semibold text-slate-800 line-clamp-2",children:x}),g.showPrice&&I>0&&A.jsxs("p",{className:"text-slate-600 mt-1",children:["",Number(I).toLocaleString()]})]})]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:a==="th"?"":"Print Settings"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a==="th"?" (mm)":"Width (mm)"}),A.jsx("input",{type:"number",value:g.labelWidth,onChange:j=>m({...g,labelWidth:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",min:"30",max:"100"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a==="th"?" (mm)":"Height (mm)"}),A.jsx("input",{type:"number",value:g.labelHeight,onChange:j=>m({...g,labelHeight:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",min:"20",max:"100"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a==="th"?"":"Font Size"}),A.jsx("input",{type:"number",value:g.fontSize,onChange:j=>m({...g,fontSize:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",min:"8",max:"20"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a==="th"?"":"Copies"}),A.jsx("input",{type:"number",value:g.copies,onChange:j=>m({...g,copies:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",min:"1",max:"100"})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("input",{type:"checkbox",id:"showPrice",checked:g.showPrice,onChange:j=>m({...g,showPrice:j.target.checked}),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),A.jsx("label",{htmlFor:"showPrice",className:"text-sm font-medium text-slate-700",children:a==="th"?"":"Show Price"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a==="th"?"":"Standard Label Sizes"}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[A.jsx("button",{onClick:()=>m({...g,labelWidth:50,labelHeight:30}),className:"px-3 py-2 text-xs font-medium bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:"5030mm"}),A.jsx("button",{onClick:()=>m({...g,labelWidth:40,labelHeight:25}),className:"px-3 py-2 text-xs font-medium bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:"4025mm"}),A.jsx("button",{onClick:()=>m({...g,labelWidth:60,labelHeight:40}),className:"px-3 py-2 text-xs font-medium bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:"6040mm"}),A.jsx("button",{onClick:()=>m({...g,labelWidth:70,labelHeight:50}),className:"px-3 py-2 text-xs font-medium bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:"7050mm"})]})]})]}),A.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[A.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:a==="th"?"":"Product Information"}),A.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:a==="th"?":":"Barcode:"})," ",w]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:a==="th"?":":"Name:"})," ",x]}),I>0&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:a==="th"?":":"Price:"})," ",Number(I).toLocaleString()]}),(S||O)&&A.jsxs("div",{className:"flex gap-4 mt-2 pt-2 border-t border-blue-200/50",children:[S&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:a==="th"?":":"Shelf:"})," ",S]}),O&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:a==="th"?":":"Row:"})," ",O]})]})]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-xl transition-colors",children:a==="th"?"":"Cancel"}),A.jsxs("button",{onClick:L,className:"flex-1 px-4 py-3 bg-primary hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:[A.jsx(nl,{className:"w-5 h-5"}),a==="th"?"":"Print"]})]})]})]})}):null},c4=({product:e})=>{const[t,r]=Y.useState(!1),{t:a}=_i();if(!e)return null;const l=e.stock||e.Stock||0,f=e.minStock||e.Min_Stock||e.min_stock||0,g=e.name||e.Name||"",m=e.barcode||e.Barcode||"",w=e.unit||e.Unit||"",x=e.price||e.Price||0,I=e.imageUrl||e.Image_URL||e.image_url||"https://placehold.co/600x400/png?text=No+Image",S=e.category||e.Category||"-",O=e.shelf||e.Shelf||"",L=e.row||e.Row||"",j=l<=f;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[A.jsxs("div",{className:"aspect-video w-full bg-slate-100 relative",children:[A.jsx("img",{src:I,alt:g,className:"w-full h-full object-cover",onError:F=>{F.target.src="https://placehold.co/600x400/png?text=No+Image"}}),A.jsx("div",{className:"absolute top-2 right-2",children:j?A.jsxs("span",{className:"inline-flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:[A.jsx(Oc,{className:"w-3 h-3"})," Low Stock"]}):A.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:[A.jsx(dw,{className:"w-3 h-3"})," Good"]})})]}),A.jsxs("div",{className:"p-4 space-y-2",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs text-slate-500 font-mono tracking-wide mb-1",children:m}),A.jsx("h3",{className:"font-semibold text-lg text-slate-800 leading-tight",children:g}),S!=="-"&&A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:S}),(O||L)&&A.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[L&&A.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 text-blue-700 font-bold text-base md:text-lg border border-blue-100",children:[a("inventory.row"),": ",L]}),O&&A.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-indigo-50 text-indigo-700 font-bold text-base md:text-lg border border-indigo-100",children:[a("inventory.shelf"),": ",O]})]})]}),A.jsx("button",{onClick:()=>r(!0),className:"ml-2 p-2 hover:bg-slate-100 rounded-lg transition-colors flex-shrink-0",title:"Print Barcode",children:A.jsx(nl,{className:"w-5 h-5 text-slate-600"})})]}),A.jsxs("div",{className:"flex items-end justify-between pt-2 border-t border-slate-50 mt-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-slate-400",children:"Current Stock"}),A.jsxs("p",{className:Rc("text-2xl font-bold",j?"text-red-600":"text-slate-800"),children:[l," ",A.jsx("span",{className:"text-sm font-normal text-slate-500",children:w})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-xs text-slate-400",children:"Min. Level"}),A.jsx("p",{className:"text-sm font-medium text-slate-600",children:f})]})]})]})]}),t&&A.jsx(u4,{product:{...e,barcode:m,name:g,price:x,unit:w,stock:l},onClose:()=>r(!1)})]})},f4=()=>{const[e,t]=Y.useState("SCAN"),[r,a]=Y.useState(""),[l,f]=Y.useState(null),[g,m]=Y.useState(0),[w,x]=Y.useState("IN"),[I,S]=Y.useState(""),[O,L]=Y.useState(!1),[j,F]=Y.useState([]),[Q,M]=Y.useState([]),[_,b]=Y.useState(!1),k=Y.useRef(null),{t:X,language:$}=_i();Y.useEffect(()=>{(async()=>{try{const fe=await En.getInventory();let B=[];Array.isArray(fe)?B=fe:fe&&Array.isArray(fe.data)&&(B=fe.data),F(B)}catch(fe){console.error("Failed to load inventory for search:",fe)}})();const ie=fe=>{k.current&&!k.current.contains(fe.target)&&b(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]),Y.useEffect(()=>{if(!I.trim()||j.length===0){M([]);return}const Z=I.toLowerCase(),ie=j.filter(fe=>{const B=String(fe.barcode||"").toLowerCase(),Te=String(fe.name||"").toLowerCase();return B.includes(Z)||Te.includes(Z)}).slice(0,5);M(ie),b(!0)},[I,j]);const U=async Z=>{a(Z),W(Z)},W=async Z=>{if(t("LOADING"),j.length>0){const ie=String(Z).trim().toLowerCase(),fe=j.find(B=>String(B.barcode).toLowerCase()===ie||String(B.name).toLowerCase()===ie);if(fe){H(fe);return}}try{const ie=await En.getInventory();let fe=[];Array.isArray(ie)?fe=ie:ie&&Array.isArray(ie.data)&&(fe=ie.data),F(fe);const B=String(Z).trim(),Te=fe.find(we=>String(we.barcode)===B||String(we.name)===B);Te?H(Te):(alert(`${X("scan.productNotFound")}: ${Z}`),t("SCAN"))}catch(ie){console.error("Error fetching product:",ie),alert(X("scan.errorFetching")),t("SCAN")}},H=Z=>{const ie={barcode:Z.barcode||"",name:Z.name||"",stock:Z.stock||0,unit:Z.unit||"",price:Z.price||0,minStock:Z.minStock||0,category:Z.category||"",shelf:Z.shelf||"",row:Z.row||"",imageUrl:Z.imageUrl||"https://placehold.co/600x400/png?text=No+Image",lastUpdated:Z.lastUpdated||new Date().toISOString()};f(ie),t("RESULT"),S(""),b(!1)},ae=async()=>{if(l){L(!0);try{const Z=await En.updateStock(l.barcode,g,w);if(Z.success){alert(Z.message||X("scan.stockUpdated"));const ie=j.map(fe=>fe.barcode===l.barcode?{...fe,stock:w==="IN"?parseInt(fe.stock)+g:parseInt(fe.stock)-g}:fe);F(ie),ye()}else alert(Z.error||X("scan.failedUpdate"))}catch(Z){console.error("Error updating stock:",Z),alert(X("scan.failedUpdate"))}finally{L(!1)}}},ye=()=>{t("SCAN"),a(""),f(null),m(0),S(""),M([])};return e==="LOADING"?A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:[A.jsx(sa,{className:"w-10 h-10 text-primary animate-spin mb-4"}),A.jsx("p",{className:"text-sm md:text-base text-slate-500",children:X("scan.loading")})]}):e==="RESULT"&&l?A.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-lg mx-auto animate-in fade-in slide-in-from-bottom-4 duration-300",children:[A.jsxs("button",{onClick:ye,className:"flex items-center text-slate-500 hover:text-slate-800 text-sm font-medium",children:[A.jsx(lw,{className:"w-4 h-4 mr-1"})," ",X("scan.backToScanner")]}),A.jsx(c4,{product:l}),A.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-100",children:[A.jsx("h4",{className:"text-base md:text-lg font-semibold text-slate-800 mb-3 md:mb-4",children:X("scan.adjustStock")}),A.jsxs("div",{className:"flex gap-2 mb-4 md:mb-6",children:[A.jsx("button",{onClick:()=>x("IN"),className:`flex-1 py-2 md:py-3 rounded-lg text-xs md:text-sm font-bold transition-all ${w==="IN"?"bg-green-600 text-white shadow-md":"bg-slate-100 text-slate-500"}`,children:X("scan.receive")}),A.jsx("button",{onClick:()=>x("OUT"),className:`flex-1 py-2 md:py-3 rounded-lg text-xs md:text-sm font-bold transition-all ${w==="OUT"?"bg-red-600 text-white shadow-md":"bg-slate-100 text-slate-500"}`,children:X("scan.issue")})]}),A.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 px-4 md:px-8",children:[A.jsx("button",{onClick:()=>m(Math.max(1,g-1)),className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-slate-100 flex items-center justify-center hover:bg-slate-200 active:scale-90 transition-all",children:A.jsx(gw,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-600"})}),A.jsxs("div",{className:"text-center flex-1 mx-4",children:[A.jsx("input",{type:"number",value:g,onChange:Z=>{const ie=parseInt(Z.target.value)||1;m(Math.max(1,ie))},onFocus:Z=>Z.target.select(),className:"text-3xl md:text-4xl font-bold text-slate-800 text-center w-full max-w-[120px] mx-auto bg-transparent border-b-2 border-transparent hover:border-slate-300 focus:border-primary focus:outline-none transition-colors",min:"1",max:"9999"}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:l.unit})]}),A.jsx("button",{onClick:()=>m(g+1),className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-slate-100 flex items-center justify-center hover:bg-slate-200 active:scale-90 transition-all",children:A.jsx(pw,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-600"})})]}),A.jsxs("div",{className:"mb-4 md:mb-6",children:[A.jsx("p",{className:"text-xs text-slate-500 mb-2 text-center",children:$==="th"?" (+)":"Quick Add Amounts (+)"}),A.jsx("div",{className:"grid grid-cols-5 gap-2",children:[10,50,100,500,1e3].map(Z=>A.jsxs("button",{onClick:()=>m(ie=>(parseInt(ie)||0)+Z),className:"py-2 px-1 rounded-lg text-xs md:text-sm font-semibold transition-all bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-105 active:scale-95 border border-slate-200",children:["+",Z]},Z))})]}),A.jsx("div",{className:"mb-4 md:mb-6 p-3 md:p-4 border border-dashed border-slate-300 rounded-lg text-center bg-slate-50",children:A.jsxs("button",{className:"flex flex-col items-center justify-center w-full text-slate-400 hover:text-slate-600",children:[A.jsx(fw,{className:"w-5 h-5 md:w-6 md:h-6 mb-1 md:mb-2"}),A.jsx("span",{className:"text-xs",children:X("scan.attachPhoto")})]})}),A.jsxs("button",{onClick:ae,disabled:O,className:"w-full bg-primary hover:bg-blue-700 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg shadow-blue-200 flex items-center justify-center gap-2 active:scale-[0.98] transition-transform text-sm md:text-base",children:[O?A.jsx(sa,{className:"w-5 h-5 animate-spin"}):A.jsx(xw,{className:"w-5 h-5"}),X("scan.confirm")," ",w]})]})]}):A.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-lg mx-auto",children:[A.jsxs("div",{className:"text-center mb-2 md:mb-4",children:[A.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:X("scan.title")}),A.jsx("p",{className:"text-sm md:text-base text-slate-500",children:X("scan.subtitle")})]}),A.jsx(sv,{onScanSuccess:U}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("span",{className:"w-full border-t border-slate-200"})}),A.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:A.jsx("span",{className:"bg-slate-50 px-2 text-slate-400",children:X("scan.manualEntry")})})]}),A.jsxs("div",{ref:k,className:"relative",children:[A.jsx("form",{onSubmit:Z=>{Z.preventDefault(),I&&W(I)},className:"flex gap-2",children:A.jsxs("div",{className:"relative flex-1",children:[A.jsx(mw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),A.jsx("input",{type:"text",placeholder:$==="th"?"  ...":"Enter barcode or product name...",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",value:I,onChange:Z=>S(Z.target.value),onFocus:()=>b(!0)}),I&&A.jsx("button",{type:"button",onClick:()=>{S(""),M([])},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:A.jsx(lp,{className:"w-4 h-4"})})]})}),_&&Q.length>0&&A.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-xl shadow-xl border border-slate-100 max-h-60 overflow-y-auto animate-in fade-in zoom-in-95 duration-200",children:Q.map((Z,ie)=>A.jsxs("div",{onClick:()=>W(Z.barcode),className:"p-3 hover:bg-blue-50 cursor-pointer border-b border-slate-50 last:border-0 flex justify-between items-center group",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-semibold text-slate-800 group-hover:text-blue-700",children:Z.name}),A.jsxs("p",{className:"text-xs text-slate-400 font-mono",children:["#",Z.barcode]})]}),A.jsxs("div",{className:"text-xs text-slate-400 text-right",children:[A.jsx("span",{className:"block",children:"stock"}),A.jsx("span",{className:`font-bold ${parseInt(Z.stock)<=parseInt(Z.minStock)?"text-red-500":"text-green-600"}`,children:Z.stock})]})]},ie))})]}),A.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 md:p-4 rounded-xl",children:[A.jsx("h5",{className:"font-semibold text-blue-800 text-xs md:text-sm mb-1",children:X("scan.quickTip")}),A.jsx("p",{className:"text-xs text-blue-600",children:$==="th"?' ""  "" ':'Type "Product Code" or "Name" to search instantly.'})]})]})},d4=()=>{const[e,t]=Y.useState([]),[r,a]=Y.useState(!0),{t:l}=_i();return Y.useEffect(()=>{(async()=>{try{const g=await En.getHistory();let m=[];Array.isArray(g)?m=g:g&&Array.isArray(g.data)&&(m=g.data),t(m)}catch(g){console.error("Error fetching history:",g)}finally{a(!1)}})()},[]),A.jsxs("div",{className:"space-y-4 md:space-y-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:l("history.title")}),A.jsx("p",{className:"text-sm md:text-base text-slate-500",children:l("history.subtitle")})]}),A.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:r?A.jsx("div",{className:"p-6 md:p-8 text-center text-sm md:text-base text-slate-500",children:l("history.loading")}):e.length===0?A.jsx("div",{className:"p-6 md:p-8 text-center text-sm md:text-base text-slate-500",children:l("history.noHistory")}):A.jsx("div",{className:"divide-y divide-slate-100 max-h-[calc(100vh-16rem)] overflow-y-auto scrollable",children:e.map((f,g)=>A.jsxs("div",{className:"p-3 md:p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[A.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center flex-shrink-0 ${f.type==="IN"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.type==="IN"?A.jsx(sw,{className:"w-4 h-4 md:w-5 md:h-5"}):A.jsx(uw,{className:"w-4 h-4 md:w-5 md:h-5"})}),A.jsxs("div",{className:"min-w-0 flex-1",children:[A.jsx("h4",{className:"font-semibold text-sm md:text-base text-slate-800 truncate",children:f.name||f.productName||"Unknown Product"}),A.jsxs("div",{className:"text-xs text-slate-500 font-mono mb-0.5",children:["#",f.barcode]}),A.jsxs("div",{className:"flex items-center text-xs text-slate-400 gap-1 md:gap-2",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(cw,{className:"w-3 h-3"})," ",new Date(f.timestamp||f.date).toLocaleDateString()]}),A.jsx("span",{className:"hidden md:inline",children:""}),A.jsxs("span",{className:"hidden md:inline",children:[l("history.by")," ",f.userId]})]})]})]}),A.jsxs("div",{className:`text-right font-bold text-sm md:text-base flex-shrink-0 ml-2 ${f.type==="IN"?"text-green-600":"text-red-600"}`,children:[f.type==="IN"?"+":"-",f.amount]})]},f.id||g))})})]})},Xp="https://generativelanguage.googleapis.com/v1beta",h4=async(e,t,r)=>{var f;const a=await fetch(`${Xp}/models/${e}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}]})});if(!a.ok){const g=await a.json();throw new Error(((f=g.error)==null?void 0:f.message)||`Model ${e} returned error ${a.status}`)}const l=await a.json();if(!l.candidates||l.candidates.length===0)throw new Error(`Model ${e} returned no content.`);return l.candidates[0].content.parts[0].text},Yp=async e=>{var t;try{const r=await fetch(`${Xp}/models?key=${e}`);if(!r.ok){const l=await r.json();throw new Error(((t=l.error)==null?void 0:t.message)||"Invalid API Key")}return(await r.json()).models.map(l=>l.name.replace("models/",""))}catch(r){throw r}},g4=async(e,t,r)=>{const a=t.map(w=>`${w.barcode},${w.name},${w.stock},${w.price},${w.minStock},${w.category},${w.unit}`).join(`
`),l=r.slice(0,100).map(w=>`${w.timestamp},${w.barcode},${w.type},${w.amount},${w.userId}`).join(`
`),f=`
    System Role:  Lead Inventory Optimization Architect  Expert Data Scientist... ()

    Constraints:
    1. Calculate precisely.
    2. IMPORTANT: Output Format must be **JSON ONLY** with structure:
    {
      "summary_markdown": "Markdown table summary...",
      "recommendations": [
         { "barcode": "...", "name": "...", "current_stock": 0, "current_min_stock": 0, "recommended_min_stock": 0, "status": "...", "reason": "..." }
      ]
    }
    NO markdown code blocks. Raw JSON.

    Data:
    [Inventory]
    ${a}
    [History]
    ${l}
    `;let g=[];try{console.log("Fetching available models...");const x=(await Yp(e)).filter(S=>S.includes("gemini")&&!S.includes("vision")),I=["gemini-1.5-flash","gemini-1.5-pro","gemini-pro","gemini-1.0-pro"];g=x.sort((S,O)=>{let L=I.findIndex(F=>S.includes(F)),j=I.findIndex(F=>O.includes(F));return S===O?0:(I.includes(S)&&(L=I.indexOf(S)),I.includes(O)&&(j=I.indexOf(O)),L===-1&&(L=999),j===-1&&(j=999),L-j)}),g.length===0&&(console.warn("No 'gemini' models found in list. Using defaults."),g=["gemini-1.5-flash","gemini-pro"])}catch(w){console.warn("Could not list models. Using defaults.",w),g=["gemini-1.5-flash","gemini-pro"]}console.log("Candidate models:",g);let m=null;for(const w of g){console.log(` Attempting analysis with: ${w}`);try{const x=await h4(w,e,f);return console.log(` Success with ${w}`),x}catch(x){console.warn(` Failed with ${w}:`,x.message),m=x}}throw new Error(`All AI models failed to respond. Last error: ${(m==null?void 0:m.message)||"Unknown error"}`)},p4=()=>{var U;const[e,t]=Y.useState(""),[r,a]=Y.useState(!1),[l,f]=Y.useState(!1),[g,m]=Y.useState(null),[w,x]=Y.useState(null),[I,S]=Y.useState(""),[O,L]=Y.useState(!1),[j,F]=Y.useState("1m"),[Q,M]=Y.useState(""),{t:_,language:b}=_i();Y.useEffect(()=>{const W=localStorage.getItem("gemini_api_key");W&&t(W);const H=new Date;H.setMonth(H.getMonth()-1),M(H.toISOString().split("T")[0])},[]);const k=async()=>{if(e){f(!0),m(null);try{const W=await Yp(e);m({success:!0,message:` Key is valid! Available models: ${W.slice(0,3).join(", ")}...`}),localStorage.setItem("gemini_api_key",e)}catch(W){m({success:!1,message:` Invalid Key: ${W.message}`})}finally{f(!1)}}},X=async()=>{if(!e){S(" Gemini API Key ");return}localStorage.setItem("gemini_api_key",e),a(!0),S(""),x(null);try{let W=null;if(j!=="all"){const B=new Date;j==="1m"?B.setMonth(B.getMonth()-1):j==="3m"?B.setMonth(B.getMonth()-3):j==="6m"?B.setMonth(B.getMonth()-6):j==="1y"?B.setFullYear(B.getFullYear()-1):j==="custom"&&Q&&B.setTime(new Date(Q).getTime()),W=B.toISOString().split("T")[0]}const[H,ae]=await Promise.all([En.getInventory(),En.getHistory(W)]);let ye=[],Z=[];if(Array.isArray(H)?ye=H:H&&Array.isArray(H.data)&&(ye=H.data),Array.isArray(ae)?Z=ae:ae&&Array.isArray(ae.data)&&(Z=ae.data),ye.length===0)throw new Error(_("scan.productNotFound")||"");const ie=await g4(e,ye,Z);let fe;try{const B=ie.replace(/^```json/,"").replace(/```$/,"").trim();fe=JSON.parse(B)}catch(B){console.error("JSON Parse Error",B),fe={summary_markdown:ie,recommendations:[]}}x(fe)}catch(W){console.error(W),S(W.message||"")}finally{a(!1)}},$=async()=>{var W;if((W=w==null?void 0:w.recommendations)!=null&&W.length&&window.confirm(` Min Stock  ${w.recommendations.length} ?`)){L(!0);try{const H=w.recommendations.map(ye=>({barcode:ye.barcode,minStock:ye.recommended_min_stock})),ae=await En.bulkUpdateMinStock(H);if(ae.success)alert(` ${ae.message}`);else throw new Error(ae.error)}catch(H){alert(` : ${H.message}`)}finally{L(!1)}}};return A.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[A.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 rounded-2xl p-6 md:p-8 text-white shadow-lg overflow-hidden relative",children:[A.jsxs("div",{className:"relative z-10",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:A.jsx(Mc,{className:"w-8 h-8 text-white"})}),A.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"OptiStock AI Analyst"})]}),A.jsx("p",{className:"text-violet-100 max-w-xl",children:"AI-Powered Inventory Optimization & Automated Restocking"})]}),A.jsx(Tu,{className:"absolute right-0 top-0 w-64 h-64 text-white/10 -translate-y-1/2 translate-x-1/4"})]}),A.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-100",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[A.jsx(hw,{className:"w-5 h-5 text-slate-400"}),A.jsx("h3",{className:"font-semibold text-slate-700",children:"Gemini API Configuration"})]}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"password",value:e,onChange:W=>t(W.target.value.trim()),placeholder:"Paste your Gemini API Key here...",className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 outline-none transition-all"}),A.jsx("button",{onClick:k,disabled:l||!e,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 text-sm whitespace-nowrap flex items-center gap-2",children:l?A.jsx(sa,{className:"w-4 h-4 animate-spin"}):"Test Key"})]}),g&&A.jsx("div",{className:`text-xs px-3 py-2 rounded-lg border ${g.success?"bg-green-50 text-green-700 border-green-100":"bg-red-50 text-red-700 border-red-100"}`,children:g.message}),A.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[A.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Analysis Period ()"}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:[{id:"1m",label:"1 Month"},{id:"3m",label:"3 Months"},{id:"6m",label:"6 Months"},{id:"1y",label:"1 Year"},{id:"all",label:"All Time"},{id:"custom",label:"Custom"}].map(W=>A.jsx("button",{onClick:()=>F(W.id),className:`px-3 py-1.5 text-xs md:text-sm rounded-lg border transition-all ${j===W.id?"bg-violet-600 text-white border-violet-600 shadow-md transform scale-105":"bg-white text-slate-600 border-slate-200 hover:border-violet-300"}`,children:W.label},W.id))}),j==="custom"&&A.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[A.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Start Date ()"}),A.jsx("input",{type:"date",value:Q,onChange:W=>M(W.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm w-full md:w-auto focus:ring-2 focus:ring-violet-500/20 outline-none"})]}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j==="all"?"Analyzing all available history.":"Analyzing sales data from the selected period."})]}),A.jsxs("button",{onClick:X,disabled:r||!e,className:"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r?A.jsx(sa,{className:"w-4 h-4 animate-spin"}):A.jsx(Tu,{className:"w-4 h-4"}),b==="th"?" (Start Analysis)":"Analyze"]})]}),I&&A.jsxs("div",{className:"flex items-center gap-2 mt-3 text-red-600 text-sm bg-red-50 p-3 rounded-lg border border-red-100 animate-in fade-in",children:[A.jsx(td,{className:"w-4 h-4"}),I]}),!e&&A.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["* Get your free API key at ",A.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-violet-600 hover:underline",children:"Google AI Studio"})]})]}),w&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden animate-in fade-in duration-700",children:[A.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex items-center justify-between",children:[A.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[A.jsx(Tu,{className:"w-4 h-4 text-violet-500"}),"Analysis Report"]}),A.jsx("span",{className:"text-xs text-slate-400",children:"Generated by Gemini"})]}),A.jsx("div",{className:"p-6 overflow-x-auto",children:A.jsx("div",{className:"prose prose-slate max-w-none whitespace-pre-wrap font-mono text-sm leading-relaxed",children:w.summary_markdown})})]}),((U=w.recommendations)==null?void 0:U.length)>0&&A.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-emerald-800 mb-1",children:"Apply AI Recommendations?"}),A.jsxs("p",{className:"text-emerald-600 text-sm",children:["System found ",w.recommendations.length," optimization opportunities. Clicking apply will automatically update Min Stock levels in Google Sheets."]})]}),A.jsxs("button",{onClick:$,disabled:O,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-emerald-600/20 active:scale-95 transition-all flex items-center gap-2 whitespace-nowrap",children:[O?A.jsx(sa,{className:"w-5 h-5 animate-spin"}):A.jsx(tl,{className:"w-5 h-5"}),O?"Updating...":"Update All Changes"]})]})]}),A.jsx("div",{className:"border-t border-slate-200 mt-12 pt-8",children:A.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border border-red-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-red-800 mb-1",children:"Reset Analysis Data"}),A.jsxs("p",{className:"text-red-600 text-sm",children:["Clear all transaction history to restart the AI analysis from scratch.",A.jsx("br",{}),A.jsx("span",{className:"font-bold",children:"Warning: This action cannot be undone."})]})]}),A.jsxs("button",{onClick:async()=>{if(confirm(` Are you sure you want to clear ALL transaction history?

This will permanently delete the "Transaction_History" sheet content (except usage headers) to reset the AI analysis context.

Type OK to confirm.`))try{a(!0),await En.clearHistory(),alert(" History cleared successfully. You can now start a fresh analysis."),x(null)}catch(W){alert(" Failed to clear history: "+W.message)}finally{a(!1)}},className:"bg-white border border-red-200 text-red-600 hover:bg-red-600 hover:text-white px-6 py-2 rounded-lg font-bold transition-all flex items-center gap-2 whitespace-nowrap shadow-sm",children:[A.jsx(td,{className:"w-4 h-4"}),"Clear History"]})]})})]})},x4=()=>{const[e,t]=Y.useState([]),r=(l,f=null)=>{const g=new Date().toLocaleTimeString();t(m=>[...m,`${g}: ${l} ${f?JSON.stringify(f,null,2):""}`])},a=async()=>{t([]),r(" Starting connection test..."),r(` URL: ${En.config.API_URL}`);try{r(" Fetching from URL (no proxy)...");const l=await fetch(`${En.config.API_URL}?action=getInventory`);if(r(`Status: ${l.status} ${l.statusText}`),!l.ok){r(" Network response was not ok");const g=await l.text();r(" Response text (might be HTML error):",g.substring(0,500));return}const f=l.headers.get("content-type");if(r(`Content-Type: ${f}`),f&&f.indexOf("application/json")!==-1){const g=await l.json();r(" JSON Response received:",g)}else{r(" Response is NOT JSON (likely HTML Auth page)");const g=await l.text();r(" Preview:",g.substring(0,200)),r(' FIX: Please redeploy GAS with "Who has access: Anyone"')}}catch(l){r(" Fetch Error:",l.message)}};return A.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Connection Debugger"}),A.jsx("p",{className:"mb-4 text-slate-600",children:"Use this tool to diagnose connection issues with Google Apps Script."}),A.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors mb-6",children:"Start Test"}),A.jsx("div",{className:"bg-slate-900 text-green-400 p-4 rounded-xl font-mono text-xs md:text-sm h-[500px] overflow-auto whitespace-pre-wrap shadow-lg",children:e.length===0?"// Ready to test...":e.join(`

`)})]})};function m4(){return A.jsx(ew,{children:A.jsx(Yy,{children:A.jsxs(fi,{path:"/",element:A.jsx(vw,{}),children:[A.jsx(fi,{index:!0,element:A.jsx(Cw,{})}),A.jsx(fi,{path:"scan",element:A.jsx(f4,{})}),A.jsx(fi,{path:"history",element:A.jsx(d4,{})}),A.jsx(fi,{path:"ai-analysis",element:A.jsx(p4,{})}),A.jsx(fi,{path:"debug",element:A.jsx(x4,{})})]})})})}class y4 extends al.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?A.jsxs("div",{style:{padding:20,fontFamily:"sans-serif"},children:[A.jsx("h1",{children:"Something went wrong."}),A.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),A.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}ku.createRoot(document.getElementById("root")).render(A.jsx(al.StrictMode,{children:A.jsx(y4,{children:A.jsx(ww,{children:A.jsx(m4,{})})})}));
